From dd61184e1e57017ec5419be4c0bd69e2207c0624 Mon Sep 17 00:00:00 2001
From: tstegema <tstegema@90b65887-3827-0410-9a23-83215b262276>
Date: Thu, 9 Sep 2010 15:21:26 +0000
Subject: [PATCH 0035/1076] TrcServ: duplicate sources removed

git-svn-id: svn://localhost/SelfServiceCommon/trunk@37 90b65887-3827-0410-9a23-83215b262276
---
 .../Services/cpp/TrcServ/static/inc/CltData.h |  179 -
 .../Services/cpp/TrcServ/static/inc/HdlLst.h  |   65 -
 .../static/inc/NonCryptingTrcServ_def.h       |   23 -
 .../cpp/TrcServ/static/inc/TraceClt.h         |  340 --
 .../cpp/TrcServ/static/inc/TraceDLL_def.h     |   46 -
 .../cpp/TrcServ/static/inc/TraceFile.h        |   62 -
 .../cpp/TrcServ/static/inc/TraceHDLDLL_def.h  |   48 -
 .../cpp/TrcServ/static/inc/TraceStrExp.h      |   68 -
 .../Services/cpp/TrcServ/static/inc/TrcCfg.h  |  378 --
 .../Services/cpp/TrcServ/static/inc/TrcClt.h  |  128 -
 .../Services/cpp/TrcServ/static/inc/TrcData.h |   50 -
 .../Services/cpp/TrcServ/static/inc/TrcExp.h  |  317 --
 .../cpp/TrcServ/static/inc/TrcHdlClt.h        |  364 --
 .../cpp/TrcServ/static/inc/TrcHdlExp.h        |  336 --
 .../cpp/TrcServ/static/inc/TrcHdlStr.h        |  174 -
 .../cpp/TrcServ/static/inc/TrcPrtcl.h         |  191 -
 .../Services/cpp/TrcServ/static/inc/TrcRmt.h  |   37 -
 .../Services/cpp/TrcServ/static/inc/TrcServ.h |  168 -
 .../cpp/TrcServ/static/inc/TrcServ_def.h      |   50 -
 .../cpp/TrcServ/static/inc/TrcShut_def.h      |   31 -
 .../Services/cpp/TrcServ/static/inc/TrcStr.h  |  139 -
 .../Services/cpp/TrcServ/static/inc/VERSION.H |   44 -
 .../cpp/TrcServ/static/inc/argScan.hpp        |  327 --
 .../cpp/TrcServ/static/inc/cfgAPI.hpp         |  383 --
 .../Services/cpp/TrcServ/static/inc/cxAPI.h   |  244 --
 .../cpp/TrcServ/static/inc/decrypt_def.h      |   31 -
 .../cpp/TrcServ/static/inc/fmtQueue.hpp       |  614 ---
 .../cpp/TrcServ/static/inc/matDaemon.h        |  104 -
 .../cpp/TrcServ/static/inc/matMutexSem.hpp    |    4 -
 .../Services/cpp/TrcServ/static/inc/matos.h   |    4 -
 .../Services/cpp/TrcServ/static/inc/mutex.hpp |   16 -
 .../Services/cpp/TrcServ/static/inc/sapiOS.h  |  118 -
 .../cpp/TrcServ/static/inc/stList.hpp         |  690 ----
 .../cpp/TrcServ/static/inc/stString.hpp       |   84 -
 .../cpp/TrcServ/static/inc/tracetestdll_def.h |   33 -
 .../TrcServ/static/res/NonCryptingTrcServ.rc  |   45 -
 .../cpp/TrcServ/static/res/TraceDLL.rc        |  109 -
 .../cpp/TrcServ/static/res/TraceHDLDLL.rc     |  109 -
 .../cpp/TrcServ/static/res/TrcServ.rc         |   45 -
 .../cpp/TrcServ/static/res/TrcShut.rc         |   45 -
 .../cpp/TrcServ/static/res/decrypt.rc         |   45 -
 .../cpp/TrcServ/static/res/tracetestdll.rc    |   45 -
 .../cpp/TrcServ/static/src/CltData.cpp        | 2155 -----------
 .../cpp/TrcServ/static/src/ListTst.cpp        |  110 -
 .../cpp/TrcServ/static/src/NT_ETC.CPP         |   71 -
 .../cpp/TrcServ/static/src/NT_TIME.CPP        |   41 -
 .../TrcServ/static/src/NonCryptTrcServ.cpp    |    3 -
 .../cpp/TrcServ/static/src/TraceFile.cpp      |  965 -----
 .../cpp/TrcServ/static/src/Tracedll.cpp       |  748 ----
 .../cpp/TrcServ/static/src/TrcCfg.cpp         | 1903 ---------
 .../cpp/TrcServ/static/src/TrcClt.cpp         | 1564 --------
 .../cpp/TrcServ/static/src/TrcHdlClt.cpp      |  736 ----
 .../cpp/TrcServ/static/src/TrcPrtcl.cpp       | 3440 -----------------
 .../cpp/TrcServ/static/src/TrcServ.cpp        | 1947 ----------
 .../cpp/TrcServ/static/src/TrcShut.cpp        |  110 -
 .../cpp/TrcServ/static/src/decrypt.cpp        |  261 --
 .../cpp/TrcServ/static/src/matDaemonW32.cpp   |  580 ---
 .../cpp/TrcServ/static/src/matString.CPP      |  154 -
 .../cpp/TrcServ/static/src/matString.H        |   58 -
 .../Services/cpp/TrcServ/static/src/matTime.h |   48 -
 .../cpp/TrcServ/static/src/tracetest.cpp      |   48 -
 .../cpp/TrcServ/static/src/trcrmt.cpp         |  255 --
 .../cpp/TrcServ/static/src/trcstreamtest.cpp  |   43 -
 63 files changed, 21573 deletions(-)
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/inc/CltData.h
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/inc/HdlLst.h
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/inc/NonCryptingTrcServ_def.h
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/inc/TraceClt.h
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/inc/TraceDLL_def.h
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/inc/TraceFile.h
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/inc/TraceHDLDLL_def.h
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/inc/TraceStrExp.h
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/inc/TrcCfg.h
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/inc/TrcClt.h
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/inc/TrcData.h
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/inc/TrcExp.h
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/inc/TrcHdlClt.h
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/inc/TrcHdlExp.h
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/inc/TrcHdlStr.h
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/inc/TrcPrtcl.h
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/inc/TrcRmt.h
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/inc/TrcServ.h
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/inc/TrcServ_def.h
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/inc/TrcShut_def.h
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/inc/TrcStr.h
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/inc/VERSION.H
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/inc/argScan.hpp
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/inc/cfgAPI.hpp
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/inc/cxAPI.h
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/inc/decrypt_def.h
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/inc/fmtQueue.hpp
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/inc/matDaemon.h
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/inc/matMutexSem.hpp
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/inc/matos.h
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/inc/mutex.hpp
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/inc/sapiOS.h
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/inc/stList.hpp
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/inc/stString.hpp
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/inc/tracetestdll_def.h
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/res/NonCryptingTrcServ.rc
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/res/TraceDLL.rc
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/res/TraceHDLDLL.rc
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/res/TrcServ.rc
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/res/TrcShut.rc
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/res/decrypt.rc
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/res/tracetestdll.rc
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/src/CltData.cpp
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/src/ListTst.cpp
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/src/NT_ETC.CPP
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/src/NT_TIME.CPP
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/src/NonCryptTrcServ.cpp
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/src/TraceFile.cpp
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/src/Tracedll.cpp
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/src/TrcCfg.cpp
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/src/TrcClt.cpp
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/src/TrcHdlClt.cpp
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/src/TrcPrtcl.cpp
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/src/TrcServ.cpp
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/src/TrcShut.cpp
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/src/decrypt.cpp
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/src/matDaemonW32.cpp
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/src/matString.CPP
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/src/matString.H
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/src/matTime.h
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/src/tracetest.cpp
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/src/trcrmt.cpp
 delete mode 100644 SelfServiceCommon/Services/cpp/TrcServ/static/src/trcstreamtest.cpp

diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/CltData.h b/SelfServiceCommon/Services/cpp/TrcServ/static/inc/CltData.h
deleted file mode 100644
index ec3d24f7..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/CltData.h
+++ /dev/null
@@ -1,179 +0,0 @@
-/****************************************************************************
-
- FILE:      ClientData.h
-
- PURPOSE:   Data stored by TraceService for each TraceClient
-
- DATE:      20.09.99
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
-
- ts 05.02.2001 init pointer before configuration entries
-
-****************************************************************************/
-
-#ifndef CLIENTDATA_H
-#define CLIENTDATA_H
-
-
-/***************************************************************************
-
-  Includes
-
-***************************************************************************/
-
-#include "TrcCfg.h"
-#include "Asso.h"
-#include "SapiOS.H"
-#include "fmtQueue.hpp"
-
-#include "TrcCfg.h"
-#include "mcrypt.h"
-
-
-/***************************************************************************
-
-  Exported Functions / Classes
-
-***************************************************************************/
-//#define LEVELMASK
-
-class TraceService;
-
-
-class BasicTraceFile
-{
-  public:
-    long lTag;
-    BasicTraceFile();
-    virtual ~BasicTraceFile();
-
-    virtual void Text(long lDay, long lMonth, long lYear, long lHours, long lMinutes, long lSeconds, long lHundredths,
-              const char* pszApplication, long lInstance, long lFileInstance,
-              const char* pszFile, long lLine, const char* pszFunction,
-              const char* pszText,
-              const char* pszModule,
-              const char* pszTopic= 0)=0;
-    virtual void Dump(long lDay, long lMonth, long lYear, long lHours, long lMinutes, long lSeconds, long lHundredths,
-              const char* pszApplication, long lInstance, long lFileInstance,
-              const char* pszFile, long lLine, const char* pszFunction,
-              long lSize, const char* pDump,
-              const char* pszModule,
-              const char* pszTopic= 0)=0;
-    virtual void MoveTraceFile(const char* pszTrcPath, const char* pszCltPath,
-              const char* pszApplication, long lInstance, long lFileInstance,
-              const char* pszModule)= 0;
-
-    virtual void setPath(const char* pszPath)=0;
-    virtual int openNewFile()=0;
-    virtual int openFile()=0;
-    virtual long getMaxFileSize()=0;
-    virtual void setMaxFileSize(long lMaxFileSize)=0;
-    virtual long getFileGenerations()=0;
-    virtual void setFileGenerations(long lFileGenerations)=0;
-    virtual long getAppend()=0;
-    virtual void setAppend(long lAppend)=0;
-    virtual long getWidth()=0;
-    virtual void setWidth(long lWidth)=0;
-    virtual long getExtended()=0;
-    virtual void setExtended(long lExtended)=0;
-    virtual long getShortLine()=0;
-    virtual void setShortLine(long lShort)=0;
-    virtual void flush()=0;
-    virtual const char* getFileName() const=0;
-    virtual void storePlace(int inDirectory)= 0;
-};
-
-class ApplicationData
-{
-  public:
-    aMap InstanceHandles;
-  private:
-    // init pointer before all configuration entries
-    TraceService *pService;
-    BasicTraceFile *pTraceFile;
-    long lFileInstance;
-
-    aObject         ApplicationName;
-    long getInstance(long ClientApp);
-
-    aMap            cfgTopics;
-    FileName*        cfgFileName;
-    TraceLevel*      cfgTraceLevel;
-    MaxFileSize*     cfgMaxFileSize;
-//    FileGenerations cfgFileGenerations;
-    AppendTraces*    cfgAppendTraces;
-    ExtendedTrace*   cfgExtended;
-    ShortLine*       cfgShortLine;
-//    TraceWidth      cfgWidth;
-#ifdef LEVELMASK
-    TraceMask       cfgTraceMask;
-    LevelAsMask     cfgLevelAsMask;
-#endif
-    bool            stopping;
-    mcrypt          crypt;
-
-    bool formatCreditCardTrack(aMap& Data);
-
-  public:
-
-    ApplicationData(const aObject& Application, TraceService *pService, const char* szPath= 0);
-    ~ApplicationData();
-    void Text01(long ClientApp, long lInstance, aMap& Data);
-    void Dump01(long ClientApp, long lInstance, aMap& Data);
-    void Text02(long ClientApp, long lInstance, aMap& Data);
-    void Dump02(long ClientApp, long lInstance, aMap& Data);
-    void Crypt01(long ClientApp, long lInstance, aMap& Data, ApplicationData& cryptApplication, long encryptionType);
-    void Crypt02(long ClientApp, long lInstance, aMap& Data, ApplicationData& cryptApplication, long encryptionType);
-    void MoveFile01(long ClientApp, long lInstance, aMap& Data, const char* pszPath);
-    void Track01(long ClientApp, long lInstance, aMap& Data);
-    void Track02(long ClientApp, long lInstance, aMap& Data);
-    void writeTrace(long lTraceLevel,
-                    const char* pszFile, short sLine, const char* pszFunction,
-                    const char* pszText, const char* pszModule, const char* pApplication, long lInstance);
-    void changeFileName(const char* FileName);
-    void changeTraceLevel(long lTraceLevel);
-    void changeMaxFileSize(long lMaxFileSize);
-    void changeFileGenerations(long lFileGenerations);
-    void changeAppendTraces(long lAppend);
-    void changeLevelAsMask(long lLevelAsMask);
-    void changeTraceMask(long lTraceMask);
-    void changeTraceWidth(long lWidth);
-    void changeExtendedTrace(long lExtended);
-    void changeShortLine(long lShort);
-    void changeTopic(const aObject& Name, long lState);
-
-    const aObject& getName() const;
-    long getTopicState(const aObject& Name);
-    int  acceptTraceLevel(long lTraceLevel);
-    long getTraceLevel();
-    long getTraceMask();
-    long getLevelAsMask();
-    BasicTraceFile* getTraceFile();
-};
-
-class InstanceData
-{
-  public:
-    aObject ModuleName;
-    ApplicationData* pApplication;
-    long lClientHandle, lServerHandle;
-    long lInstance;
-    InstanceData(long lClientHandle, long lServerHandle, long lInstance, ApplicationData* pApplication);
-    InstanceData(long lClientHandle, long lServerHandle, long lInstance, ApplicationData* pApplication, const aObject& ModuleName);
-};
-
-
-char *checkFileEnding(const char *pszFileName);
-
-
-BasicTraceFile *newBasicTraceFile(const char* pszPath, const char* pszFileName, long lMaxFileSize, long lFileGenerations, long lAppend, long lWidth, long lExtended, long lType, long lShortLine);
-
-
-
-#endif
-
-/*************************************************************************************************
-      End Of File  ClientData.h
-************************************************************************************************/
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/HdlLst.h b/SelfServiceCommon/Services/cpp/TrcServ/static/inc/HdlLst.h
deleted file mode 100644
index b982ad4c..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/HdlLst.h
+++ /dev/null
@@ -1,65 +0,0 @@
-#ifndef HDLLST_H
-#define HDLLST_H
-
-
-template <class T> class HandleList
-{
-    T* pData;
-    int iSize;
-  public:
-    T nil;
-    int getSize()
-    {
-      return iSize;
-    }
-    HandleList(const T& nilValue, int iMaxCount)
-    {
-      int i;
-      pData= new T[iMaxCount];
-      if (pData)
-        iSize= iMaxCount;
-      else
-        iSize= 0;
-      nil= nilValue;
-      for (i= 0; i < iSize; i++)
-        pData[i]= nil;
-    }
-    ~HandleList()
-    {
-      if (pData)
-        delete[] pData;
-      iSize= 0;
-    }
-    int set(const T& element)
-    {
-      int i;
-      if (pData && iSize > 0)
-      {
-        for (i= 0; i < iSize; i++)
-        {
-          if (pData[i] == nil)
-          {
-            pData[i]= element;
-            return i;
-          }
-        }
-        return -2;
-      }
-      else
-        return -1;
-    }
-    T get(int iIndex)
-    {
-      if (pData && iIndex < iSize && iIndex >= 0)
-        return pData[iIndex];
-      else
-        return nil;
-    }
-    void del(int iIndex)
-    {
-      if (pData && iIndex < iSize && iIndex >= 0)
-        pData[iIndex]= nil;
-    }
-};
-
-#endif
\ No newline at end of file
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/NonCryptingTrcServ_def.h b/SelfServiceCommon/Services/cpp/TrcServ/static/inc/NonCryptingTrcServ_def.h
deleted file mode 100644
index b01247d5..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/NonCryptingTrcServ_def.h
+++ /dev/null
@@ -1,23 +0,0 @@
-/**
- *  @file      NonCryptingTrcServ_def.h
- *
- *  @brief     Version constants
- *
- *  @date      06.09.2007
- *
- *  @author    Materna Information & Communications (SteT)
- *
- ************************************************************************/
-
-#include "TrcServ_def.h"
-
-
-#undef FILEDESCRIPTION
-#undef INTERNALNAME
-#undef ORIGINALFILENAME
-
-#define FILEDESCRIPTION  "FileDescription"  ,"Non Crypting Trace Service\0"
-#define INTERNALNAME     "InternalName"     ,"NonCryptingTrcServ.exe\0"
-#define ORIGINALFILENAME "OriginalFilename" ,"NonCryptingTrcServ.exe\0"
-
-
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/TraceClt.h b/SelfServiceCommon/Services/cpp/TrcServ/static/inc/TraceClt.h
deleted file mode 100644
index 87864ce3..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/TraceClt.h
+++ /dev/null
@@ -1,340 +0,0 @@
-
-/****************************************************************************
-
- FILE:      TraceClt.h
-
- PURPOSE:   Interface definition for Traceing
-
- DATE:      20.09.99
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
-****************************************************************************/
-
-#ifndef TRACECLT_H
-#define TRACECLT_H
-
-
-/***************************************************************************
-
-  Defines
-
-***************************************************************************/
-
-
-
-
-#ifdef __cplusplus
-#define CX_CONSTSTR const char *
-extern "C"
-{
-#else
-#define CX_CONSTSTR char *
-#endif
-
-/*
-   Returncodes
-*/
-#define TRC_OK                    0
-#define TRC_ERROR                 1
-
-/*
-  TraceLevel
-
-*/
-#define      No                   0
-#define      MajorError           1
-#define      MinorError           2
-#define      MajorWarning         3
-#define      MinorWarning         4
-#define      BasicRuntime         5
-#define      BasicProcess         6
-#define      SecondaryRuntime     7
-#define      SecondaryFrequent    8
-#define      All                  9
-
-
-#define TOPIC_HERE              __FILE__,__LINE__,__FUNCTION__
-#define MajorError_HERE         1,__FILE__,__LINE__,__FUNCTION__
-#define MinorError_HERE         2,__FILE__,__LINE__,__FUNCTION__
-#define MajorWarning_HERE       3,__FILE__,__LINE__,__FUNCTION__
-#define MinorWarning_HERE       4,__FILE__,__LINE__,__FUNCTION__
-#define BasicRuntime_HERE       5,__FILE__,__LINE__,__FUNCTION__
-#define BasicProcess_HERE       6,__FILE__,__LINE__,__FUNCTION__
-#define SecondaryRuntime_HERE   7,__FILE__,__LINE__,__FUNCTION__
-#define SecondaryFrequent_HERE  8,__FILE__,__LINE__,__FUNCTION__
-
-
-/*
-   For pszTopic do not use:
-
-        "AppendTrace"
-        "Extended"
-        "Generations"
-        "MaxFileSize"
-        "MaxLineSize"
-        "TraceFile"
-        "TraceLevel"
-*/
-
-
-
-/***************************************************************************
-
-  Exported Functions
-
-***************************************************************************/
-
-
-/*
----------------------------------------------------------------------------
-   init Trace
-
----------------------------------------------------------------------------
-*/
-void _stdcall   openTrace
-                (
-                   CX_CONSTSTR pszApplication
-                );
-
-
-/*
----------------------------------------------------------------------------
-   init Trace
-
-   for processes with short life time
----------------------------------------------------------------------------
-*/
-void _stdcall   openTraceSLT
-                (
-                   CX_CONSTSTR pszApplication
-                );
-
-
-
-
-/*
----------------------------------------------------------------------------
-   cleanup Trace
-
----------------------------------------------------------------------------
-*/
-void _stdcall   closeTrace();
-
-/*
----------------------------------------------------------------------------
-   Trace Text
-
----------------------------------------------------------------------------
-*/
-long _stdcall   writeTraceText
-                (
-                   long lTraceLevel,
-                   CX_CONSTSTR pszFile,
-                   short  sLine,
-                   CX_CONSTSTR pszFunction,
-                   CX_CONSTSTR pszText
-                );
-
-
-/*
----------------------------------------------------------------------------
-   Trace Text
-   resulting string must be smaller than 4096 byte
-   deprecated (wrong calling convention) use wrtTrace
----------------------------------------------------------------------------
-*/
-long _stdcall   writeTrace(
-                   long lTraceLevel,
-                   CX_CONSTSTR pszFile,
-                   short  sLine,
-                   CX_CONSTSTR pszFunction,
-                   CX_CONSTSTR pszFormat,
-                   ...);
-/*
----------------------------------------------------------------------------
-   Trace Text
-   resulting string must be smaller than 4096 byte
----------------------------------------------------------------------------
-*/
-long _cdecl   wrtTrace(
-                   long lTraceLevel,
-                   CX_CONSTSTR pszFile,
-                   short  sLine,
-                   CX_CONSTSTR pszFunction,
-                   CX_CONSTSTR pszFormat,
-                   ...);
-/*
----------------------------------------------------------------------------
-   Trace Dump
----------------------------------------------------------------------------
-*/
-long _stdcall   dumpTrace
-                (
-                   long lTraceLevel,
-                   CX_CONSTSTR pszFile,
-                   short  sLine,
-                   CX_CONSTSTR pszFunction,
-                   long lDumpSize,
-                   CX_CONSTSTR pDump
-                );
-
-/*
----------------------------------------------------------------------------
-  Start new files
-
----------------------------------------------------------------------------
-*/
-long _stdcall startNewTraceFile(long lTraceLevel);
-
-
-/*
----------------------------------------------------------------------------
-   Trace Text
-
----------------------------------------------------------------------------
-*/
-long _stdcall   writeTraceTextForTopic
-                (
-                   CX_CONSTSTR pszTopic,
-                   CX_CONSTSTR pszFile,
-                   short  sLine,
-                   CX_CONSTSTR pszFunction,
-                   CX_CONSTSTR pszText
-                );
-
-/*
----------------------------------------------------------------------------
-   Trace Text
-   resulting string must be smaller than 4096 byte
-   deprecated (wrong calling convention) use wrtTraceForTopic
----------------------------------------------------------------------------
-*/
-long _stdcall   writeTraceForTopic(
-                   CX_CONSTSTR pszTopic,
-                   CX_CONSTSTR pszFile,
-                   short  sLine,
-                   CX_CONSTSTR pszFunction,
-                   CX_CONSTSTR pszFormat,
-                   ...);
-/*
----------------------------------------------------------------------------
-   Trace Text
-   resulting string must be smaller than 4096 byte
----------------------------------------------------------------------------
-*/
-long _cdecl    wrtTraceForTopic(
-                   CX_CONSTSTR pszTopic,
-                   CX_CONSTSTR pszFile,
-                   short  sLine,
-                   CX_CONSTSTR pszFunction,
-                   CX_CONSTSTR pszFormat,
-                   ...);
-/*
----------------------------------------------------------------------------
-   Trace Dump
----------------------------------------------------------------------------
-*/
-long _stdcall   dumpTraceForTopic
-                (
-                   CX_CONSTSTR pszTopic,
-                   CX_CONSTSTR pszFile,
-                   short  sLine,
-                   CX_CONSTSTR pszFunction,
-                   long lDumpSize,
-                   CX_CONSTSTR pDump
-                );
-
-/*
----------------------------------------------------------------------------
-  Start new files
-
----------------------------------------------------------------------------
-*/
-long _stdcall startNewTraceFileForTopic(CX_CONSTSTR pszTopic);
-
-
-/*
----------------------------------------------------------------------------
-   Trace encypted
----------------------------------------------------------------------------
-*/
-long _stdcall   cryptTrace
-                (
-                   long lTraceLevel,
-                   CX_CONSTSTR pszFile,
-                   short  sLine,
-                   CX_CONSTSTR pszFunction,
-                   long lDumpSize,
-                   CX_CONSTSTR pDump
-                );
-
-
-/*
----------------------------------------------------------------------------
-   Trace encypted
----------------------------------------------------------------------------
-*/
-long _stdcall   cryptTraceForTopic
-                (
-                   CX_CONSTSTR pszTopic,
-                   CX_CONSTSTR pszFile,
-                   short  sLine,
-                   CX_CONSTSTR pszFunction,
-                   long lDumpSize,
-                   CX_CONSTSTR pDump
-                );
-
-
-/*
----------------------------------------------------------------------------
-   move file
----------------------------------------------------------------------------
-*/
-long _stdcall   moveTrace
-                (
-                   CX_CONSTSTR pszPath
-                );
-
-/*
----------------------------------------------------------------------------
-   Trace credit card track
----------------------------------------------------------------------------
-*/
-long _stdcall   traceTrack
-                (
-                   long lTraceLevel,
-                   CX_CONSTSTR pszFile,
-                   short  sLine,
-                   CX_CONSTSTR pszFunction,
-                   long trackid,
-                   CX_CONSTSTR pszTrack
-                );
-
-
-/*
----------------------------------------------------------------------------
-   Trace credit card track
----------------------------------------------------------------------------
-*/
-long _stdcall   traceTrackForTopic
-                (
-                   CX_CONSTSTR pszTopic,
-                   CX_CONSTSTR pszFile,
-                   short  sLine,
-                   CX_CONSTSTR pszFunction,
-                   long trackid,
-                   CX_CONSTSTR pszTrack
-                );
-
-
-#ifdef __cplusplus
-}
-#endif
-
-
-#endif
-/*************************************************************************************************
-      End Of File  TraceClt.h
-************************************************************************************************/
-
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/TraceDLL_def.h b/SelfServiceCommon/Services/cpp/TrcServ/static/inc/TraceDLL_def.h
deleted file mode 100644
index 8edbde31..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/TraceDLL_def.h
+++ /dev/null
@@ -1,46 +0,0 @@
-/**
- *  @file      TraceDLL_def.h
- *
- *  @brief     Version constants
- *
- *  @date      27.11.2006
- *
- *  @author    Materna Information & Communications (SteT)
- *
- ************************************************************************/
-
-
-/*! \mainpage TraceDLL
- *
- *  @version V 2.1.17.1
- *
- *  \section change1 Change history
- *
- *  \date 11.01.2010 \li V 2.1.17.1 SteT Sleep removed, Context switch not needed?
- *
- *  \date 26.09.2007 \li V 2.1.17.0 SteT EDB 27828: bugfix access violation in string handling
- *
- *  \date 20.09.2007 \li V 2.1.16.0 SteT EDB 27720: PCI (Kreditkartensicherheitsrichtlinien) implemented, special function for writing tracks
- *
- *  \date 09.08.2007 \li V 2.1.13.0 SteT EDB 27738: TrcServ support move method
- *
- *  \date 19.04.2007 \li V 2.1.10.0 SteT EDB 27417: encrypt credit card data in trace
- *
- *  \date 12.03.2007 \li V 2.1.9.0  SteT EDB 27092: close in der Trace DLL soll warten, dass das schliessen erfolgreich war (max. 2 Sekunden)
- *
- *  \date 04.01.2007 \li V 2.1.8.0  SteT Absturz vom TrcServ (Invalid Handle)
- *
- *  \date 27.11.2006 \li V 2.1.7.0  SteT
- *                   \li Resource Version added
- *
- */
-
-#define FILE_VER_BIN     2,1,17,1
-#define FILE_VER_STR     "FileVersion", "2.1.17.1\0"
-
-#define FILEDESCRIPTION  "FileDescription"  ,"Trace DLL\0"
-#define INTERNALNAME     "InternalName"     ,"Trace.dll\0"
-#define LEGALTRADEMARKS  "LegalTrademarks"  ,"\0"
-#define ORIGINALFILENAME "OriginalFilename" ,"Trace.dll\0"
-
-
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/TraceFile.h b/SelfServiceCommon/Services/cpp/TrcServ/static/inc/TraceFile.h
deleted file mode 100644
index 42a60992..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/TraceFile.h
+++ /dev/null
@@ -1,62 +0,0 @@
-
-/****************************************************************************
-
- FILE:      traceFile.h
-
- PURPOSE:   multiple Generation file, with limited Size
-
- DATE:      20.09.99
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
-****************************************************************************/
-
-
-#ifndef TRACEFILE_H
-#define TRACEFILE_H
-
-
-/***************************************************************************
-
-  Exported Functions / Classes
-
-***************************************************************************/
-
-char *checkEnding(const char *pszFileName);
-char* fullName(const char* pszPath, const char* pszFileName);
-
-class _traceFile;
-
-class traceFile
-{
-    _traceFile *handle;
-    void checkPath();
-    void storeGeneration(int append, int newDay= 0);
-    int openNextGeneration(int newDay= 0);
-    int sameDay() const;
-  public:
-    long lMaxFileSize, lFileGenerations, lAppend;
-    long lTag;
-    int dateAsName;
-    ~traceFile();
-    traceFile(const char* pszPath, const char* pszFileName, long lMaxFileSize = 1000000, long lFileGenerations = 10, long lAppend = 0, int dateAsName= 0);
-    int fitToFile(long lSize) const;
-    void setPath(const char* pszPath);
-    int reopen();
-    int openFile();
-    int openNewFile();
-    void close();
-    int write(const char* pszLine);
-    int write(const char* pBuffer, int iSize);
-    const char* getFileName() const;
-    void flush();
-    void storePlace(int inDirectory);
-};
-
-
-
-#endif
-
-/*************************************************************************************************
-      End Of File  traceFile.h
-************************************************************************************************/
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/TraceHDLDLL_def.h b/SelfServiceCommon/Services/cpp/TrcServ/static/inc/TraceHDLDLL_def.h
deleted file mode 100644
index 5fd88705..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/TraceHDLDLL_def.h
+++ /dev/null
@@ -1,48 +0,0 @@
-/**
- *  @file      TrcHDLDLL_def.h
- *
- *  @brief     Version constants
- *
- *  @date      27.11.2006
- *
- *  @author    Materna Information & Communications (SteT)
- *
- ************************************************************************/
-
-
-/*! \mainpage TraceHDL
- *
- *  @version V 2.1.18.1
- *
- *  \section change1 Change history
- *
- *  \date 11.01.2010 \li V 2.1.18.1 SteT Sleep removed, Context switch not needed?
- *
- *  \date 11.10.2007 \li V 2.1.18.0 SteT EDB 27738: TrcServ support move method, function export corrected
- *
- *  \date 26.09.2007 \li V 2.1.17.0 SteT EDB 27828: bugfix access violation in string handling
- *
- *  \date 20.09.2007 \li V 2.1.16.0 SteT EDB 27720: PCI (Kreditkartensicherheitsrichtlinien) implemented, special function for writing tracks
- *
- *  \date 09.08.2007 \li V 2.1.13.0 SteT EDB 27738: TrcServ support move method
- *
- *  \date 19.04.2007 \li V 2.1.10.0 SteT EDB 27417: encrypt credit card data in trace
- *
- *  \date 12.03.2007 \li V 2.1.9.0  SteT EDB 27092: close in der Trace DLL soll warten, dass das schliessen erfolgreich war (max. 2 Sekunden)
- *
- *  \date 04.01.2007 \li V 2.1.8.0  SteT Absturz vom TrcServ (Invalid Handle)
- *
- *  \date 27.11.2006 \li V 2.1.7.0  SteT
- *                   \li Resource Version added
- *
- */
-
-#define FILE_VER_BIN     2,1,18,1
-#define FILE_VER_STR     "FileVersion", "2.1.18.1\0"
-
-#define FILEDESCRIPTION  "FileDescription"  ,"Trace HDL\0"
-#define INTERNALNAME     "InternalName"     ,"TraceHDL.dll\0"
-#define LEGALTRADEMARKS  "LegalTrademarks"  ,"\0"
-#define ORIGINALFILENAME "OriginalFilename" ,"TraceHDL.dll\0"
-
-
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/TraceStrExp.h b/SelfServiceCommon/Services/cpp/TrcServ/static/inc/TraceStrExp.h
deleted file mode 100644
index fe11d310..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/TraceStrExp.h
+++ /dev/null
@@ -1,68 +0,0 @@
-
-/****************************************************************************
-
- FILE:      TraceStr.h
-
- PURPOSE:   Interface definition for Traceing
-
- DATE:      26.02.01
-
- AUTHOR:    MATERNA Information & Communications  (TS)
-
-****************************************************************************/
-
-#ifndef TRACESTR_H
-#define TRACESTR_H
-
-
-#include <iostream.h>
-#include <strstrea.h>
-
-#define DllExport __declspec( dllexport )
-
-/***************************************************************************
-
-  Exported Functions / Classes
-
-***************************************************************************/
-
-
-class trcstreambasebuf;
-
-
-class DllExport trcstream: public ostream
-{
-    trcstreambasebuf* pBuf;
-  protected:
-    trcstream();
-    trcstream(trcstreambasebuf* pBuf);
-  public:
-    trcstream(ostream* out);
-    trcstream(const char* pszApplication);
-    ~trcstream();
-
-    /* trace the buffer and clear it */
-    trcstream& writeTrace();
-
-    /* set Parameter used for next trace output */
-    trcstream& setDump();
-    trcstream& setText();
-    trcstream& setTraceLevel(long lTraceLevel);
-    trcstream& setLine(short sLine);
-    trcstream& setTopic(const char* pszTopic);
-    trcstream& setFunction(const char* pszFunction);
-    trcstream& setFile(const char* pszFile);
-
-    trcstream& setTraceAtEndl(int iActive);
-
-    trcstream& changeTraceLevel(long lTraceLevel);
-    trcstream& changeTopic(const char* pszTopic, int iActive);
-    trcstream& changeExtended(int iActive);
-    trcstream& changeShortLine(int iActive);
-};
-
-#endif
-
-/*************************************************************************************************
-      End Of File  trcostre.h
-************************************************************************************************/
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/TrcCfg.h b/SelfServiceCommon/Services/cpp/TrcServ/static/inc/TrcCfg.h
deleted file mode 100644
index 92f30d0b..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/TrcCfg.h
+++ /dev/null
@@ -1,378 +0,0 @@
-/****************************************************************************
-
- FILE:      CfgTrace.h
-
- PURPOSE:   Configuation for TraceService
-
- DATE:      20.09.99
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
- ts 05.02.2001 init pointer before configuration entries
-
-****************************************************************************/
-
-
-#ifndef CFGTRACE_H
-#define CFGTRACE_H
-
-
-/***************************************************************************
-
-  Includes
-
-***************************************************************************/
-
-#ifdef MASSAICFG
-#include "nConfigText.hpp"
-#include "nConfigNumber.hpp"
-#include "nConfigSelection.hpp"
-#else
-#include "cfgAPI.hpp"
-#endif
-#include "Asso.h"
-
-
-/***************************************************************************
-
-  Definitions Used
-
-***************************************************************************/
-
-class ApplicationData;
-class TraceService;
-
-#ifdef MASSAICFG
-class Notify
-{
-  public:
-    Notify();
-    ~Notify();
-    void release();
-    virtual void notify();
-    void callNotify();
-  private:
-    bool released;
-};
-#else
-template <class T> class Pointer
-{
-  public:
-    T* pT;
-    Pointer()
-    {
-      pT= 0;
-    }
-    Pointer(T* setpT)
-    {
-      pT= setpT;
-    }
-    T& getElement()
-    {
-      return *pT;
-    }
-    T* getPointer()
-    {
-      return pT;
-    }
-};
-#endif
-
-/***************************************************************************
-
-  Exported Functions / Classes
-
-***************************************************************************/
-
-
-#ifdef MASSAICFG
-
-class SelectionValue
-{
-  public:
-    SelectionValue(long value);
-    long getID();
-  private:
-    long m_value;
-};
-
-class Encryption: public nConfig::gclSelection, public Notify
-{
-  public:
-    Encryption(const char *pszApplication, TraceService* Owner);
-    SelectionValue currentValue();
-  private:
-    virtual void notify();
-    virtual void valueChanged();
-    virtual void create(char const*& Rights, char const*& Explanation, long& DefaultIndex, nConfig::selection const*& Begin, nConfig::selection const*& End);
-
-    long m_currentValue;
-    bool m_changed;
-    TraceService* m_pOwner;
-};
-
-class TraceDirectory: public nConfig::gclText, public Notify
-{
-  public:
-    TraceDirectory(const char *pszApplication, TraceService* Owner);
-    const char* currentValue();
-  private:
-    virtual void notify();
-    virtual void valueChanged();
-    virtual void create(char const*& Rights, char const*& Explanation, char const*& Default, long &Max);
-
-    TraceService* m_pOwner;
-};
-
-class FileName: public nConfig::gclText, public Notify
-{
-  public:
-    FileName(const char *pszApplication, ApplicationData* Owner, const char* szPath);
-    const char* currentValue();
-  private:
-    virtual void notify();
-    aObject m_name;
-    virtual void valueChanged();
-    virtual void create(char const*& Rights, char const*& Explanation, char const*& Default, long &Max);
-
-    ApplicationData* m_pOwner;
-};
-
-class TraceLevel: public nConfig::gclSelection, public Notify
-{
-  public:
-    TraceLevel(const char *pszApplication, ApplicationData* Owner);
-    SelectionValue currentValue();
-  private:
-    virtual void notify();
-    virtual void valueChanged();
-    virtual void create(char const*& Rights, char const*& Explanation, long& DefaultIndex, nConfig::selection const*& Begin, nConfig::selection const*& End);
-
-    long m_currentValue;
-    bool m_changed;
-    ApplicationData* m_pOwner;
-};
-
-class MaxFileSize: public nConfig::gclNumber, public Notify
-{
-  public:
-    MaxFileSize(const char *pszApplication, ApplicationData* Owner);
-    long currentValue();
-  private:
-    virtual void notify();
-    virtual void valueChanged();
-    virtual void create(char const*& Rights, char const*& Explanation, long& Default, long& Min, long& Max);
-
-    ApplicationData* m_pOwner;
-};
-
-class FileGenerations: public nConfig::gclNumber, public Notify
-{
-  public:
-    FileGenerations(const char *pszApplication, ApplicationData* Owner);
-    long currentValue();
-  private:
-    virtual void notify();
-    virtual void valueChanged();
-    virtual void create(char const*& Rights, char const*& Explanation, long& Default, long& Min, long& Max);
-
-    ApplicationData* m_pOwner;
-};
-
-class TraceMask: public nConfig::gclNumber, public Notify
-{
-  public:
-    TraceMask(const char *pszApplication, ApplicationData* Owner);
-    long currentValue();
-  private:
-    virtual void notify();
-    virtual void valueChanged();
-    virtual void create(char const*& Rights, char const*& Explanation, long& Default, long& Min, long& Max);
-
-    ApplicationData* m_pOwner;
-};
-
-class AppendTraces: public nConfig::gclSelection, public Notify
-{
-  public:
-    AppendTraces(const char *pszApplication, ApplicationData* Owner);
-    SelectionValue currentValue();
-  private:
-    virtual void notify();
-    virtual void valueChanged();
-    virtual void create(char const*& Rights, char const*& Explanation, long& DefaultIndex, nConfig::selection const*& Begin, nConfig::selection const*& End);
-
-    ApplicationData* m_pOwner;
-};
-
-class LevelAsMask: public nConfig::gclSelection, public Notify
-{
-  public:
-    LevelAsMask(const char *pszApplication, ApplicationData* Owner);
-    SelectionValue currentValue();
-  private:
-    virtual void notify();
-    virtual void valueChanged();
-    virtual void create(char const*& Rights, char const*& Explanation, long& DefaultIndex, nConfig::selection const*& Begin, nConfig::selection const*& End);
-
-    ApplicationData* m_pOwner;
-};
-
-class Topic: public nConfig::gclSelection, public Notify
-{
-  public:
-    aObject Name;
-    Topic(const char *pszApplication, const char* pszTopicName, ApplicationData* Owner);
-    SelectionValue currentValue();
-  private:
-    virtual void notify();
-    virtual void valueChanged();
-    virtual void create(char const*& Rights, char const*& Explanation, long& DefaultIndex, nConfig::selection const*& Begin, nConfig::selection const*& End);
-
-    SelectionValue m_currentValue;
-    bool m_changed;
-    ApplicationData* m_pOwner;
-};
-
-class ExtendedTrace: public nConfig::gclSelection, public Notify
-{
-  public:
-    ExtendedTrace(const char *pszApplication, ApplicationData* Owner);
-    SelectionValue currentValue();
-  private:
-    virtual void notify();
-    virtual void valueChanged();
-    virtual void create(char const*& Rights, char const*& Explanation, long& DefaultIndex, nConfig::selection const*& Begin, nConfig::selection const*& End);
-
-    ApplicationData* m_pOwner;
-};
-
-class ShortLine: public nConfig::gclSelection, public Notify
-{
-  public:
-    ShortLine(const char *pszApplication, ApplicationData* Owner);
-    SelectionValue currentValue();
-  private:
-    virtual void notify();
-    virtual void valueChanged();
-    virtual void create(char const*& Rights, char const*& Explanation, long& DefaultIndex, nConfig::selection const*& Begin, nConfig::selection const*& End);
-
-    ApplicationData* m_pOwner;
-};
-
-class TraceWidth: public nConfig::gclNumber, public Notify
-{
-  public:
-    TraceWidth(const char *pszApplication, ApplicationData* Owner);
-    long currentValue();
-  private:
-    virtual void notify();
-    virtual void valueChanged();
-    virtual void create(char const*& Rights, char const*& Explanation, long& Default, long& Min, long& Max);
-
-    ApplicationData* m_pOwner;
-};
-
-#else
-
-
-class Encryption: public Pointer<TraceService>, public cfgAPI<cfgAPIToggle>
-{
-    virtual NOTIFY_RESULT notifyChange( const cfgAPIToggle& newValue);
-  public:
-    Encryption(const char *pszApplication, TraceService* Owner);
-};
-
-class TraceDirectory: public Pointer<TraceService>, public cfgAPI<cfgAPIString>
-{
-    virtual NOTIFY_RESULT notifyChange( const cfgAPIString& newValue);
-  public:
-    TraceDirectory(const char *pszApplication, TraceService* Owner);
-};
-
-
-class FileName: public Pointer<ApplicationData>, public cfgAPI<cfgAPIString>
-{
-    virtual NOTIFY_RESULT notifyChange( const cfgAPIString& newValue);
-  public:
-    FileName(const char *pszApplication, ApplicationData* Owner, const char* szPath);
-};
-
-class TraceLevel: public Pointer<ApplicationData>, public cfgAPI<cfgAPIToggle>
-{
-    virtual NOTIFY_RESULT notifyChange( const cfgAPIToggle& newValue);
-  public:
-    TraceLevel(const char *pszApplication, ApplicationData* Owner);
-};
-
-class MaxFileSize: public Pointer<ApplicationData>, public cfgAPI<long>
-{
-    virtual NOTIFY_RESULT notifyChange( const long& newValue);
-  public:
-    MaxFileSize(const char *pszApplication, ApplicationData* Owner);
-};
-
-class FileGenerations: public Pointer<ApplicationData>, public cfgAPI<long>
-{
-    virtual NOTIFY_RESULT notifyChange( const long& newValue);
-  public:
-    FileGenerations(const char *pszApplication, ApplicationData* Owner);
-};
-
-class TraceMask: public Pointer<ApplicationData>, public cfgAPI<long>
-{
-    virtual NOTIFY_RESULT notifyChange( const long& newValue);
-  public:
-    TraceMask(const char *pszApplication, ApplicationData* Owner);
-};
-
-class AppendTraces: public Pointer<ApplicationData>, public cfgAPI<cfgAPIToggle>
-{
-    virtual NOTIFY_RESULT notifyChange( const cfgAPIToggle& newValue);
-  public:
-    AppendTraces(const char *pszApplication, ApplicationData* Owner);
-};
-
-class LevelAsMask: public Pointer<ApplicationData>, public cfgAPI<cfgAPIToggle>
-{
-    virtual NOTIFY_RESULT notifyChange( const cfgAPIToggle& newValue);
-  public:
-    LevelAsMask(const char *pszApplication, ApplicationData* Owner);
-};
-
-class Topic: public Pointer<ApplicationData>, public cfgAPI<cfgAPIToggle>
-{
-    virtual NOTIFY_RESULT notifyChange( const cfgAPIToggle& newValue);
-  public:
-    aObject Name;
-    Topic(const char *pszApplication, const char* pszTopicName, ApplicationData* Owner);
-};
-
-class ExtendedTrace: public Pointer<ApplicationData>, public cfgAPI<cfgAPIToggle>
-{
-    virtual NOTIFY_RESULT notifyChange( const cfgAPIToggle& newValue);
-  public:
-    ExtendedTrace(const char *pszApplication, ApplicationData* Owner);
-};
-
-class ShortLine: public Pointer<ApplicationData>, public cfgAPI<cfgAPIToggle>
-{
-    virtual NOTIFY_RESULT notifyChange( const cfgAPIToggle& newValue);
-  public:
-    ShortLine(const char *pszApplication, ApplicationData* Owner);
-};
-
-
-class TraceWidth: public Pointer<ApplicationData>, public cfgAPI<long>
-{
-    virtual NOTIFY_RESULT notifyChange( const long& newValue);
-  public:
-    TraceWidth(const char *pszApplication, ApplicationData* Owner);
-};
-
-#endif
-#endif
-
-/*************************************************************************************************
-      End Of File  CfgTrace.h
-************************************************************************************************/
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/TrcClt.h b/SelfServiceCommon/Services/cpp/TrcServ/static/inc/TrcClt.h
deleted file mode 100644
index 3112a3ce..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/TrcClt.h
+++ /dev/null
@@ -1,128 +0,0 @@
-/****************************************************************************
-
- FILE:      TrcClt.h
-
- PURPOSE:   sending traces to TraceService
-
- DATE:      26.02.2001
-
- AUTHOR:    MATERNA Information & Communications  (TS)
-
- HISTORY:
-   09.08.2001 ts stopRead cxWrite(ClientHandle, ClientHandle) not supported by cxapi
-                 reconnection changed
-
-
-****************************************************************************/
-
-
-/***************************************************************************
-
-  Includes
-
-***************************************************************************/
-
-
-#include "sapiOS.H"
-#include "EventSem.hpp"
-#include "Mutex.hpp"
-#include "Asso.h"
-#include "TrcPrtcl.h"
-
-
-
-/***************************************************************************
-
-  Defines
-
-***************************************************************************/
-
-
-#ifndef _TRCCLT_H_
-#define _TRCCLT_H_
-
-
-
-
-/***************************************************************************
-
-  Function / Classes ProtoTypes
-
-***************************************************************************/
-
-class TraceClient;
-
-class ReadLoop: public osThrd
-{
-    void function();
-  public:
-    int iEnd;
-    int iThreadRunning;
-    TraceClient *Owner;
-    eventSemaphore Stopped;
-    ReadLoop();
-};
-
-
-class TraceClient
-{
-    friend class ReadLoop;
-
-    aMap Topics;
-
-    aObject ApplicationName;       // needed for common configuration for different executeables
-    aObject ModuleName;            // executeable/ appears in traces
-    mutexSemaphore writeMutex, topicMutex;
-    long lInstance;
-    long lTraceLevel, lTraceMask;
-    int  iLevelAsMask;
-    long lOwnClientHandle, lServiceServerHandle;
-    int  iOwnClient, iServiceServer;
-    int iConnectError;
-    int iConnected;
-//   09.08.2001 ts stopRead cxWrite(ClientHandle, ClientHandle) not supported by cxapi
-//                 reconnection changed
-    int iReconnect;  // set if clients try to reconnect to server
-    cxBuffer *pcxBuf;
-
-    int bSLT;
-    int bCltdbg;  // if true the client writes output to debugview
-
-    #ifndef TRCLIGHT
-    ReadLoop Thread;
-    #else
-    int iTried;
-    #endif
-    void connect();
-    void reconnect();
-    void createHandles();
-    void deleteHandles();
-    void stopRead();
-    long getTopicState(const char* pszTopic);
-  public:
-    TraceClient();
-    ~TraceClient();
-//   22.10.2001 ts added openTraceSLT/Init03 for short life time processes => server sends no message to client
-    void openTrace(int bSLT= 0);
-    void openTrace(const aObject& ApplicationName, int bSLT= 0);
-    long writeText(long lTraceLevel, const char *pszFile, short  sLine, const char *pszFunction, const char *pszText);
-    long writeDump(long lTraceLevel, const char *pszFile, short  sLine, const char *pszFunction, long lDumpSize, const char *pDump);
-    long NewFile(long lTraceLevel);
-    long writeText(const char *pszTopic, const char *pszFile, short  sLine, const char *pszFunction, const char *pszText);
-    long writeDump(const char *pszTopic, const char *pszFile, short  sLine, const char *pszFunction, long lDumpSize, const char *pDump);
-    long NewFile(const char *pszTopic);
-
-    long cryptTrace(long lTraceLevel, const char *pszFile, short  sLine, const char *pszFunction, long lDumpSize, const char *pDump);
-    long cryptTrace(const char *pszTopic, const char *pszFile, short  sLine, const char *pszFunction, long lDumpSize, const char *pDump);
-    long moveTraceFile(const char* pszPath);
-
-    long traceTrack(long lTraceLevel, const char *pszFile, short  sLine, const char *pszFunction, long trackid, const char *pszTrack);
-    long traceTrack(const char *pszTopic, const char *pszFile, short  sLine, const char *pszFunction, long trackid, const char *pszTrack);
-};
-
-#endif
-
-/*************************************************************************************************
-      End Of File  TrcClt.h
-************************************************************************************************/
-
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/TrcData.h b/SelfServiceCommon/Services/cpp/TrcServ/static/inc/TrcData.h
deleted file mode 100644
index 459aa3ee..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/TrcData.h
+++ /dev/null
@@ -1,50 +0,0 @@
-/****************************************************************************
-
- FILE:      TrcData.h
-
- PURPOSE:   Data Name for Communication in aMap between TrcServ, TrcListen
-
- DATE:      05.02.2001
-
- AUTHOR:    MATERNA Information & Communications  (TS)
-
- HISTORY:
-
-****************************************************************************/
-
-
-#ifndef TRACEDATA_H
-#define TRACEDATA_H
-
-
-
-
-enum DataName
-{                          // L numeric, S zero sized string, B binary buffer
-  DN_LTRACELEVEL = 1,
-  DN_LTRACEMASK,
-  DN_LLEVELASMASK,
-  DN_SFILE,
-  DN_LLINE,
-  DN_SFUNCTION,
-  DN_STEXT,
-  DN_LINSTANCE,
-  DN_SAPPLICATION,
-  DN_BDUMP,
-  DN_LHOURS,
-  DN_LMINUTES,
-  DN_LSECONDS,
-  DN_LHUNDREDTHS,
-  DN_LDAY,
-  DN_LMONTH,
-  DN_LYEAR,
-  DN_STOPIC,
-  DN_LTOPICSTATE,
-  DN_SMODULE,
-  DN_LTYPE,
-  DN_SPATH,
-  DN_LTRACKID,
-};
-
-
-#endif
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/TrcExp.h b/SelfServiceCommon/Services/cpp/TrcServ/static/inc/TrcExp.h
deleted file mode 100644
index 8d8ca8fb..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/TrcExp.h
+++ /dev/null
@@ -1,317 +0,0 @@
-
-/****************************************************************************
-
- FILE:      TraceExp.h
-
- PURPOSE:   Interface definition for Traceing, determine exported functions
-
- DATE:      20.09.99
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
-****************************************************************************/
-
-#ifndef TRACEEXP_H
-#define TRACEEXP_H
-
-
-/***************************************************************************
-
-  Defines
-
-***************************************************************************/
-
-
-#define DllExport __declspec( dllexport )
-
-
-#ifdef __cplusplus
-#define CX_CONSTSTR const char *
-extern "C"
-{
-#else
-#define CX_CONSTSTR char *
-#endif
-
-/*
-   Returncodes
-*/
-#define TRC_OK                    0
-#define TRC_ERROR                 1
-
-/*
-  TraceLevel
-
-*/
-#define      No                   0
-#define      MajorError           1
-#define      MinorError           2
-#define      MajorWarning         3
-#define      MinorWarning         4
-#define      BasicRuntime         5
-#define      BasicProcess         6
-#define      SecondaryRuntime     7
-#define      SecondaryFrequent    8
-#define      All                  9
-
-#define TOPIC_HERE              __FILE__,__LINE__,__FUNCTION__
-#define MajorError_HERE         1,__FILE__,__LINE__,__FUNCTION__
-#define MinorError_HERE         2,__FILE__,__LINE__,__FUNCTION__
-#define MajorWarning_HERE       3,__FILE__,__LINE__,__FUNCTION__
-#define MinorWarning_HERE       4,__FILE__,__LINE__,__FUNCTION__
-#define BasicRuntime_HERE       5,__FILE__,__LINE__,__FUNCTION__
-#define BasicProcess_HERE       6,__FILE__,__LINE__,__FUNCTION__
-#define SecondaryRuntime_HERE   7,__FILE__,__LINE__,__FUNCTION__
-#define SecondaryFrequent_HERE  8,__FILE__,__LINE__,__FUNCTION__
-
-/***************************************************************************
-
-  Exported Functions
-
-***************************************************************************/
-
-
-
-/*
----------------------------------------------------------------------------
-   init Trace
-
----------------------------------------------------------------------------
-*/
-DllExport void _stdcall   openTrace
-                (
-                   CX_CONSTSTR pszApplication
-                );
-/*
----------------------------------------------------------------------------
-   init Trace
-
-   for processes with short life time
----------------------------------------------------------------------------
-*/
-DllExport void _stdcall   openTraceSLT
-                (
-                   CX_CONSTSTR pszApplication
-                );
-
-DllExport void _stdcall   closeTrace
-                (
-                );
-
-/*
----------------------------------------------------------------------------
-   Trace Text
-
----------------------------------------------------------------------------
-*/
-DllExport long _stdcall   writeTraceText
-                (
-                   long lTraceLevel,
-                   CX_CONSTSTR pszFile,
-                   short  sLine,
-                   CX_CONSTSTR pszFunction,
-                   CX_CONSTSTR pszText
-                );
-
-
-/*
----------------------------------------------------------------------------
-   Trace Text
-   resulting string must be smaller than 4096 byte
----------------------------------------------------------------------------
-*/
-DllExport long _stdcall   writeTrace(
-                   long lTraceLevel,
-                   CX_CONSTSTR pszFile,
-                   short  sLine,
-                   CX_CONSTSTR pszFunction,
-                   CX_CONSTSTR pszFormat,
-                   ...);
-/*
----------------------------------------------------------------------------
-   Trace Text
-   resulting string must be smaller than 4096 byte
----------------------------------------------------------------------------
-*/
-DllExport long _cdecl   wrtTrace(
-                   long lTraceLevel,
-                   CX_CONSTSTR pszFile,
-                   short  sLine,
-                   CX_CONSTSTR pszFunction,
-                   CX_CONSTSTR pszFormat,
-                   ...);
-/*
----------------------------------------------------------------------------
-   Trace Dump
----------------------------------------------------------------------------
-*/
-DllExport long _stdcall   dumpTrace
-                (
-                   long lTraceLevel,
-                   CX_CONSTSTR pszFile,
-                   short  sLine,
-                   CX_CONSTSTR pszFunction,
-                   long lDumpSize,
-                   CX_CONSTSTR pDump
-                );
-
-/*
----------------------------------------------------------------------------
-  Start new files
-
----------------------------------------------------------------------------
-*/
-DllExport long _stdcall   startNewTraceFile(long lTraceLevel);
-
-/*
----------------------------------------------------------------------------
-   Trace Text
-
----------------------------------------------------------------------------
-*/
-DllExport long _stdcall   writeTraceTextForTopic
-                (
-                   CX_CONSTSTR pszTopic,
-                   CX_CONSTSTR pszFile,
-                   short  sLine,
-                   CX_CONSTSTR pszFunction,
-                   CX_CONSTSTR pszText
-                );
-
-
-/*
----------------------------------------------------------------------------
-   Trace Text
-   resulting string must be smaller than 4096 byte
----------------------------------------------------------------------------
-*/
-DllExport long _stdcall   writeTraceForTopic(
-                   CX_CONSTSTR pszTopic,
-                   CX_CONSTSTR pszFile,
-                   short  sLine,
-                   CX_CONSTSTR pszFunction,
-                   CX_CONSTSTR pszFormat,
-                   ...);
-/*
----------------------------------------------------------------------------
-   Trace Text
-   resulting string must be smaller than 4096 byte
----------------------------------------------------------------------------
-*/
-DllExport long _cdecl   wrtTraceForTopic(
-                   CX_CONSTSTR pszTopic,
-                   CX_CONSTSTR pszFile,
-                   short  sLine,
-                   CX_CONSTSTR pszFunction,
-                   CX_CONSTSTR pszFormat,
-                   ...);
-/*
----------------------------------------------------------------------------
-   Trace Dump
----------------------------------------------------------------------------
-*/
-DllExport long _stdcall dumpTraceForTopic
-                (
-                   CX_CONSTSTR pszTopic,
-                   CX_CONSTSTR pszFile,
-                   short  sLine,
-                   CX_CONSTSTR pszFunction,
-                   long lDumpSize,
-                   CX_CONSTSTR pDump
-                );
-
-/*
----------------------------------------------------------------------------
-  Start new files
-
----------------------------------------------------------------------------
-*/
-DllExport long _stdcall startNewTraceFileForTopic(CX_CONSTSTR pszTopic);
-
-
-/*
----------------------------------------------------------------------------
-   Trace encypted
----------------------------------------------------------------------------
-*/
-long _stdcall   cryptTrace
-                (
-                   long lTraceLevel,
-                   CX_CONSTSTR pszFile,
-                   short  sLine,
-                   CX_CONSTSTR pszFunction,
-                   long lDumpSize,
-                   CX_CONSTSTR pDump
-                );
-
-
-/*
----------------------------------------------------------------------------
-   Trace encypted
----------------------------------------------------------------------------
-*/
-long _stdcall   cryptTraceForTopic
-                (
-                   CX_CONSTSTR pszTopic,
-                   CX_CONSTSTR pszFile,
-                   short  sLine,
-                   CX_CONSTSTR pszFunction,
-                   long lDumpSize,
-                   CX_CONSTSTR pDump
-                );
-
-
-/*
----------------------------------------------------------------------------
-   move file
----------------------------------------------------------------------------
-*/
-
-long _stdcall   moveTrace
-                (
-                   CX_CONSTSTR pszPath
-                );
-
-
-/*
----------------------------------------------------------------------------
-   Trace credit card track
----------------------------------------------------------------------------
-*/
-long _stdcall   traceTrack
-                (
-                   long lTraceLevel,
-                   CX_CONSTSTR pszFile,
-                   short  sLine,
-                   CX_CONSTSTR pszFunction,
-                   long trackid,
-                   CX_CONSTSTR pszTrack
-                );
-
-
-/*
----------------------------------------------------------------------------
-   Trace credit card track
----------------------------------------------------------------------------
-*/
-long _stdcall   traceTrackForTopic
-                (
-                   CX_CONSTSTR pszTopic,
-                   CX_CONSTSTR pszFile,
-                   short  sLine,
-                   CX_CONSTSTR pszFunction,
-                   long trackid,
-                   CX_CONSTSTR pszTrack
-                );
-
-
-#ifdef __cplusplus
-}
-#endif
-
-
-#endif
-/*************************************************************************************************
-      End Of File  TraceExp.h
-************************************************************************************************/
-
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/TrcHdlClt.h b/SelfServiceCommon/Services/cpp/TrcServ/static/inc/TrcHdlClt.h
deleted file mode 100644
index bfee4f3d..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/TrcHdlClt.h
+++ /dev/null
@@ -1,364 +0,0 @@
-
-/****************************************************************************
-
- FILE:      TrcHdlClt.h
-
- PURPOSE:   Interface definition for Traceing
-
- DATE:      20.09.99
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
-****************************************************************************/
-
-#ifndef TRCHDLCLT_H
-#define TRCHDLCLT_H
-
-
-/***************************************************************************
-
-  Defines
-
-***************************************************************************/
-
-
-
-
-#ifdef __cplusplus
-#define CX_CONSTSTR const char *
-extern "C"
-{
-#else
-#define CX_CONSTSTR char *
-#endif
-
-/*
-   Returncodes
-*/
-#define TRC_OK                    0
-#define TRC_ERROR                 1
-
-
-#define INVALIDHANDLE_INIT -1
-#define INVALIDHANDLE_FULL -2
-typedef int trcHandle;
-
-/*
-  TraceLevel
-
-*/
-#define      No                   0
-#define      MajorError           1
-#define      MinorError           2
-#define      MajorWarning         3
-#define      MinorWarning         4
-#define      BasicRuntime         5
-#define      BasicProcess         6
-#define      SecondaryRuntime     7
-#define      SecondaryFrequent    8
-#define      All                  9
-
-
-#define TOPIC_HERE              __FILE__,__LINE__,__FUNCTION__
-#define MajorError_HERE         1,__FILE__,__LINE__,__FUNCTION__
-#define MinorError_HERE         2,__FILE__,__LINE__,__FUNCTION__
-#define MajorWarning_HERE       3,__FILE__,__LINE__,__FUNCTION__
-#define MinorWarning_HERE       4,__FILE__,__LINE__,__FUNCTION__
-#define BasicRuntime_HERE       5,__FILE__,__LINE__,__FUNCTION__
-#define BasicProcess_HERE       6,__FILE__,__LINE__,__FUNCTION__
-#define SecondaryRuntime_HERE   7,__FILE__,__LINE__,__FUNCTION__
-#define SecondaryFrequent_HERE  8,__FILE__,__LINE__,__FUNCTION__
-
-
-/*
-   For pszTopic do not use:
-
-        "AppendTrace"
-        "Extended"
-        "Generations"
-        "MaxFileSize"
-        "MaxLineSize"
-        "TraceFile"
-        "TraceLevel"
-*/
-
-
-
-/***************************************************************************
-
-  Exported Functions
-
-***************************************************************************/
-
-
-
-/*
----------------------------------------------------------------------------
-   init Trace
-
----------------------------------------------------------------------------
-*/
-trcHandle _stdcall   openTrace
-                (
-                   CX_CONSTSTR pszApplication
-                );
-
-
-/*
----------------------------------------------------------------------------
-   init Trace
-
-   for processes with short life time
----------------------------------------------------------------------------
-*/
-trcHandle _stdcall   openTraceSLT
-                (
-                   CX_CONSTSTR pszApplication
-                );
-
-
-/*
----------------------------------------------------------------------------
-   cleanup Trace
-
----------------------------------------------------------------------------
-*/
-void _stdcall   closeTrace(trcHandle hdl);
-
-/*
----------------------------------------------------------------------------
-   Trace Text
-
----------------------------------------------------------------------------
-*/
-long _stdcall   writeTraceText
-                (
-                   trcHandle hdl,
-                   long lTraceLevel,
-                   CX_CONSTSTR pszFile,
-                   short  sLine,
-                   CX_CONSTSTR pszFunction,
-                   CX_CONSTSTR pszText
-                );
-
-
-/*
----------------------------------------------------------------------------
-   Trace Text
-   resulting string must be smaller than 4096 byte
-   deprecated (wrong calling convention) use wrtTrace
----------------------------------------------------------------------------
-*/
-long _stdcall   writeTrace(
-                   trcHandle hdl,
-                   long lTraceLevel,
-                   CX_CONSTSTR pszFile,
-                   short  sLine,
-                   CX_CONSTSTR pszFunction,
-                   CX_CONSTSTR pszFormat,
-                   ...);
-/*
----------------------------------------------------------------------------
-   Trace Text
-   resulting string must be smaller than 4096 byte
----------------------------------------------------------------------------
-*/
-long _cdecl   wrtTrace(
-                   trcHandle hdl,
-                   long lTraceLevel,
-                   CX_CONSTSTR pszFile,
-                   short  sLine,
-                   CX_CONSTSTR pszFunction,
-                   CX_CONSTSTR pszFormat,
-                   ...);
-/*
----------------------------------------------------------------------------
-   Trace Dump
----------------------------------------------------------------------------
-*/
-long _stdcall   dumpTrace
-                (
-                   trcHandle hdl,
-                   long lTraceLevel,
-                   CX_CONSTSTR pszFile,
-                   short  sLine,
-                   CX_CONSTSTR pszFunction,
-                   long lDumpSize,
-                   CX_CONSTSTR pDump
-                );
-
-/*
----------------------------------------------------------------------------
-  Start new files
-
----------------------------------------------------------------------------
-*/
-long _stdcall startNewTraceFile(trcHandle hdl, long lTraceLevel);
-
-
-/*
----------------------------------------------------------------------------
-   Trace Text
-
----------------------------------------------------------------------------
-*/
-long _stdcall   writeTraceTextForTopic
-                (
-                   trcHandle hdl,
-                   CX_CONSTSTR pszTopic,
-                   CX_CONSTSTR pszFile,
-                   short  sLine,
-                   CX_CONSTSTR pszFunction,
-                   CX_CONSTSTR pszText
-                );
-
-
-/*
----------------------------------------------------------------------------
-   Trace Text
-   resulting string must be smaller than 4096 byte
-   deprecated (wrong calling convention) use wrtTrace
----------------------------------------------------------------------------
-*/
-long _stdcall   writeTraceForTopic(
-                   trcHandle hdl,
-                   CX_CONSTSTR pszTopic,
-                   CX_CONSTSTR pszFile,
-                   short  sLine,
-                   CX_CONSTSTR pszFunction,
-                   CX_CONSTSTR pszFormat,
-                   ...);
-/*
----------------------------------------------------------------------------
-   Trace Text
-   resulting string must be smaller than 4096 byte
----------------------------------------------------------------------------
-*/
-long _cdecl   wrtTraceForTopic(
-                   trcHandle hdl,
-                   CX_CONSTSTR pszTopic,
-                   CX_CONSTSTR pszFile,
-                   short  sLine,
-                   CX_CONSTSTR pszFunction,
-                   CX_CONSTSTR pszFormat,
-                   ...);
-
-/*
----------------------------------------------------------------------------
-   Trace Dump
----------------------------------------------------------------------------
-*/
-long _stdcall   dumpTraceForTopic
-                (
-                   trcHandle hdl,
-                   CX_CONSTSTR pszTopic,
-                   CX_CONSTSTR pszFile,
-                   short  sLine,
-                   CX_CONSTSTR pszFunction,
-                   long lDumpSize,
-                   CX_CONSTSTR pDump
-                );
-
-/*
----------------------------------------------------------------------------
-  Start new files
-
----------------------------------------------------------------------------
-*/
-long _stdcall startNewTraceFileForTopic(trcHandle hdl, CX_CONSTSTR pszTopic);
-
-
-
-/*
----------------------------------------------------------------------------
-   Trace encypted
----------------------------------------------------------------------------
-*/
-long _stdcall   cryptTrace
-                (
-                   trcHandle hdl,
-                   long lTraceLevel,
-                   CX_CONSTSTR pszFile,
-                   short  sLine,
-                   CX_CONSTSTR pszFunction,
-                   long lDumpSize,
-                   CX_CONSTSTR pDump
-                );
-
-
-/*
----------------------------------------------------------------------------
-   Trace encypted
----------------------------------------------------------------------------
-*/
-long _stdcall   cryptTraceForTopic
-                (
-                   trcHandle hdl,
-                   CX_CONSTSTR pszTopic,
-                   CX_CONSTSTR pszFile,
-                   short  sLine,
-                   CX_CONSTSTR pszFunction,
-                   long lDumpSize,
-                   CX_CONSTSTR pDump
-                );
-
-
-/*
----------------------------------------------------------------------------
-   move file
----------------------------------------------------------------------------
-*/
-
-long _stdcall   moveTrace
-                (
-                   trcHandle hdl,
-                   CX_CONSTSTR pszPath
-                );
-
-
-
-
-/*
----------------------------------------------------------------------------
-   Trace credit card track
----------------------------------------------------------------------------
-*/
-long _stdcall   traceTrack
-                (
-                   trcHandle hdl,
-                   long lTraceLevel,
-                   CX_CONSTSTR pszFile,
-                   short  sLine,
-                   CX_CONSTSTR pszFunction,
-                   long trackid,
-                   CX_CONSTSTR pszTrack
-                );
-
-
-/*
----------------------------------------------------------------------------
-   Trace credit card track
----------------------------------------------------------------------------
-*/
-long _stdcall   traceTrackForTopic
-                (
-                   trcHandle hdl,
-                   CX_CONSTSTR pszTopic,
-                   CX_CONSTSTR pszFile,
-                   short  sLine,
-                   CX_CONSTSTR pszFunction,
-                   long trackid,
-                   CX_CONSTSTR pszTrack
-                );
-
-
-#ifdef __cplusplus
-}
-#endif
-
-
-#endif
-/*************************************************************************************************
-      End Of File  TraceClt.h
-************************************************************************************************/
-
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/TrcHdlExp.h b/SelfServiceCommon/Services/cpp/TrcServ/static/inc/TrcHdlExp.h
deleted file mode 100644
index ade21445..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/TrcHdlExp.h
+++ /dev/null
@@ -1,336 +0,0 @@
-
-/****************************************************************************
-
- FILE:      TraceExp.h
-
- PURPOSE:   Interface definition for Traceing, determine exported functions
-
- DATE:      20.09.99
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
-****************************************************************************/
-
-#ifndef TRACEEXP_H
-#define TRACEEXP_H
-
-
-/***************************************************************************
-
-  Defines
-
-***************************************************************************/
-
-
-#define DllExport __declspec( dllexport )
-
-
-#ifdef __cplusplus
-#define CX_CONSTSTR const char *
-extern "C"
-{
-#else
-#define CX_CONSTSTR char *
-#endif
-
-/*
-   Returncodes
-*/
-#define TRC_OK                    0
-#define TRC_ERROR                 1
-
-#define INVALIDHANDLE_INIT -1
-#define INVALIDHANDLE_FULL -2
-typedef int trcHandle;
-
-/*
-  TraceLevel
-
-*/
-#define      No                   0
-#define      MajorError           1
-#define      MinorError           2
-#define      MajorWarning         3
-#define      MinorWarning         4
-#define      BasicRuntime         5
-#define      BasicProcess         6
-#define      SecondaryRuntime     7
-#define      SecondaryFrequent    8
-#define      All                  9
-
-#define TOPIC_HERE              __FILE__,__LINE__,__FUNCTION__
-#define MajorError_HERE         1,__FILE__,__LINE__,__FUNCTION__
-#define MinorError_HERE         2,__FILE__,__LINE__,__FUNCTION__
-#define MajorWarning_HERE       3,__FILE__,__LINE__,__FUNCTION__
-#define MinorWarning_HERE       4,__FILE__,__LINE__,__FUNCTION__
-#define BasicRuntime_HERE       5,__FILE__,__LINE__,__FUNCTION__
-#define BasicProcess_HERE       6,__FILE__,__LINE__,__FUNCTION__
-#define SecondaryRuntime_HERE   7,__FILE__,__LINE__,__FUNCTION__
-#define SecondaryFrequent_HERE  8,__FILE__,__LINE__,__FUNCTION__
-
-/***************************************************************************
-
-  Exported Functions
-
-***************************************************************************/
-
-
-
-/*
----------------------------------------------------------------------------
-   init Trace
-
----------------------------------------------------------------------------
-*/
-DllExport trcHandle _stdcall   openTrace
-                (
-                   CX_CONSTSTR pszApplication
-                );
-
-/*
----------------------------------------------------------------------------
-   init Trace
-
-   for processes with short life time
----------------------------------------------------------------------------
-*/
-DllExport trcHandle _stdcall   openTraceSLT
-                (
-                   CX_CONSTSTR pszApplication
-                );
-
-
-DllExport void _stdcall   closeTrace
-                (
-                   trcHandle hdl
-                );
-
-/*
----------------------------------------------------------------------------
-   Trace Text
-
----------------------------------------------------------------------------
-*/
-DllExport long _stdcall   writeTraceText
-                (
-                   trcHandle hdl,
-                   long lTraceLevel,
-                   CX_CONSTSTR pszFile,
-                   short  sLine,
-                   CX_CONSTSTR pszFunction,
-                   CX_CONSTSTR pszText
-                );
-
-
-/*
----------------------------------------------------------------------------
-   Trace Text
-   resulting string must be smaller than 4096 byte
----------------------------------------------------------------------------
-*/
-DllExport long _stdcall   writeTrace(
-                   trcHandle hdl,
-                   long lTraceLevel,
-                   CX_CONSTSTR pszFile,
-                   short  sLine,
-                   CX_CONSTSTR pszFunction,
-                   CX_CONSTSTR pszFormat,
-                   ...);
-/*
----------------------------------------------------------------------------
-   Trace Text
-   resulting string must be smaller than 4096 byte
----------------------------------------------------------------------------
-*/
-DllExport long _cdecl   wrtTrace(
-                   trcHandle hdl,
-                   long lTraceLevel,
-                   CX_CONSTSTR pszFile,
-                   short  sLine,
-                   CX_CONSTSTR pszFunction,
-                   CX_CONSTSTR pszFormat,
-                   ...);
-/*
----------------------------------------------------------------------------
-   Trace Dump
----------------------------------------------------------------------------
-*/
-DllExport long _stdcall   dumpTrace
-                (
-                   trcHandle hdl,
-                   long lTraceLevel,
-                   CX_CONSTSTR pszFile,
-                   short  sLine,
-                   CX_CONSTSTR pszFunction,
-                   long lDumpSize,
-                   CX_CONSTSTR pDump
-                );
-
-/*
----------------------------------------------------------------------------
-  Start new files
-
----------------------------------------------------------------------------
-*/
-DllExport long _stdcall   startNewTraceFile(trcHandle hdl, long lTraceLevel);
-
-/*
----------------------------------------------------------------------------
-   Trace Text
-
----------------------------------------------------------------------------
-*/
-DllExport long _stdcall   writeTraceTextForTopic
-                (
-                   trcHandle hdl,
-                   CX_CONSTSTR pszTopic,
-                   CX_CONSTSTR pszFile,
-                   short  sLine,
-                   CX_CONSTSTR pszFunction,
-                   CX_CONSTSTR pszText
-                );
-
-
-/*
----------------------------------------------------------------------------
-   Trace Text
-   resulting string must be smaller than 4096 byte
----------------------------------------------------------------------------
-*/
-DllExport long _stdcall   writeTraceForTopic(
-                   trcHandle hdl,
-                   CX_CONSTSTR pszTopic,
-                   CX_CONSTSTR pszFile,
-                   short  sLine,
-                   CX_CONSTSTR pszFunction,
-                   CX_CONSTSTR pszFormat,
-                   ...);
-/*
----------------------------------------------------------------------------
-   Trace Text
-   resulting string must be smaller than 4096 byte
----------------------------------------------------------------------------
-*/
-DllExport long _cdecl   wrtTraceForTopic(
-                   trcHandle hdl,
-                   CX_CONSTSTR pszTopic,
-                   CX_CONSTSTR pszFile,
-                   short  sLine,
-                   CX_CONSTSTR pszFunction,
-                   CX_CONSTSTR pszFormat,
-                   ...);
-/*
----------------------------------------------------------------------------
-   Trace Dump
----------------------------------------------------------------------------
-*/
-DllExport long _stdcall dumpTraceForTopic
-                (
-                   trcHandle hdl,
-                   CX_CONSTSTR pszTopic,
-                   CX_CONSTSTR pszFile,
-                   short  sLine,
-                   CX_CONSTSTR pszFunction,
-                   long lDumpSize,
-                   CX_CONSTSTR pDump
-                );
-
-/*
----------------------------------------------------------------------------
-  Start new files
-
----------------------------------------------------------------------------
-*/
-DllExport long _stdcall startNewTraceFileForTopic(trcHandle hdl, CX_CONSTSTR pszTopic);
-
-/*
----------------------------------------------------------------------------
-   Trace encypted
----------------------------------------------------------------------------
-*/
-long _stdcall   cryptTrace
-                (
-                   trcHandle hdl,
-                   long lTraceLevel,
-                   CX_CONSTSTR pszFile,
-                   short  sLine,
-                   CX_CONSTSTR pszFunction,
-                   long lDumpSize,
-                   CX_CONSTSTR pDump
-                );
-
-
-/*
----------------------------------------------------------------------------
-   Trace encypted
----------------------------------------------------------------------------
-*/
-long _stdcall   cryptTraceForTopic
-                (
-                   trcHandle hdl,
-                   CX_CONSTSTR pszTopic,
-                   CX_CONSTSTR pszFile,
-                   short  sLine,
-                   CX_CONSTSTR pszFunction,
-                   long lDumpSize,
-                   CX_CONSTSTR pDump
-                );
-
-
-/*
----------------------------------------------------------------------------
-   move file
----------------------------------------------------------------------------
-*/
-
-long _stdcall   moveTrace
-                (
-                   trcHandle hdl,
-                   CX_CONSTSTR pszPath
-                );
-
-
-/*
----------------------------------------------------------------------------
-   Trace credit card track
----------------------------------------------------------------------------
-*/
-long _stdcall   traceTrack
-                (
-                   trcHandle hdl,
-                   long lTraceLevel,
-                   CX_CONSTSTR pszFile,
-                   short  sLine,
-                   CX_CONSTSTR pszFunction,
-                   long trackid,
-                   CX_CONSTSTR pszTrack
-                );
-
-
-/*
----------------------------------------------------------------------------
-   Trace credit card track
----------------------------------------------------------------------------
-*/
-long _stdcall   traceTrackForTopic
-                (
-                   trcHandle hdl,
-                   CX_CONSTSTR pszTopic,
-                   CX_CONSTSTR pszFile,
-                   short  sLine,
-                   CX_CONSTSTR pszFunction,
-                   long trackid,
-                   CX_CONSTSTR pszTrack
-                );
-
-
-#ifdef __cplusplus
-}
-#endif
-
-
-#endif
-/*************************************************************************************************
-      End Of File  TraceExp.h
-************************************************************************************************/
-
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/TrcHdlStr.h b/SelfServiceCommon/Services/cpp/TrcServ/static/inc/TrcHdlStr.h
deleted file mode 100644
index e05d29b6..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/TrcHdlStr.h
+++ /dev/null
@@ -1,174 +0,0 @@
-/****************************************************************************
-
- FILE:      TrcHdlStr.h
-
- PURPOSE:   stream interface for traceclt.h
-
- DATE:      30.08.2001
-
- AUTHOR:    MATERNA Information & Communications  (TS)
-
-****************************************************************************/
-
-#ifndef TRCHDLSTR_H
-#define TRCHDLSTR_H
-
-/***************************************************************************
-
-  Includes
-
-***************************************************************************/
-
-//#include <strstrea.h>
-#include <string.h>
-#include "trchdlclt.h"
-
-/***************************************************************************
-
-  Defines
-
-***************************************************************************/
-
-
-
-/***************************************************************************
-
-  Exported Functions / Classes
-
-***************************************************************************/
-
-
-class trchstream: public ostrstream
-{
-    char *pFile, *pFunction, *pTopic;
-    int iDump, iTopic;
-    long lTraceLevel;
-    short sLine;
-    int hdl;
-    static char *copy(const char* pSrc)
-    {
-      char *pDest;
-      long lSize;
-      if (pSrc == 0)
-        pDest = 0;
-      else
-      {
-        lSize = strlen(pSrc);
-        pDest = new char[lSize + 1];
-        if (pDest)
-          strcpy(pDest, pSrc);
-      };
-      return pDest;
-    }
-
-  public:
-    trchstream(int hdl, long lTraceLevel, const char* pszFile, short sLine, const char* pszFunction, int iDump= 0)
-    {
-      this->lTraceLevel= lTraceLevel;
-      this->sLine= sLine;
-      this->iDump= iDump;
-      this->hdl= hdl;
-      pFile= copy(pszFile);
-      pFunction= copy(pszFunction);
-      pTopic= 0;
-      iTopic= 0;
-    }
-    trchstream(int hdl, const char* pszTopic, const char* pszFile, short sLine, const char* pszFunction, int iDump= 0)
-    {
-      this->lTraceLevel= 0;
-      this->sLine= sLine;
-      this->iDump= iDump;
-      this->hdl= hdl;
-      pFile= copy(pszFile);
-      pFunction= copy(pszFunction);
-      pTopic= copy(pszTopic);
-      iTopic= 1;
-    }
-    virtual ~trchstream()
-    {
-      long result;
-      char *pBuffer;
-      long lSize;
-      if (!iDump)
-      {
-        put((char)0);
-        lSize = pcount();
-        if (lSize > 1)
-        {
-          pBuffer = str();
-          if (iTopic)
-            result= writeTraceTextForTopic(hdl, pTopic, pFile, sLine, pFunction, pBuffer);
-          else
-            result= writeTraceText(hdl, lTraceLevel, pFile, sLine, pFunction, pBuffer);
-          delete[] pBuffer;
-        }
-      }
-      else
-      {
-        lSize = pcount();
-        if (lSize > 0)
-        {
-          pBuffer = str();
-          if (iTopic)
-            result= dumpTraceForTopic(hdl, pTopic, pFile, sLine, pFunction, lSize, pBuffer);
-          else
-            result= dumpTrace(hdl, lTraceLevel, pFile, sLine, pFunction, lSize, pBuffer);
-          delete[] pBuffer;
-        }
-      }
-      if (pFile)
-        delete[] pFile;
-      if (pTopic)
-        delete[] pTopic;
-      if (pFunction)
-        delete[] pFunction;
-    }
-};
-
-
-
-/*
-example:
-
-
-#include <strstrea.h>
-#include "trchdlclt.h"
-#include "trchdlstr.h"
-#include "asso.h"
-#include "assodump.hpp"
-#include <windows.h>
-
-void main(int argc, char** argv)
-{
-  aMap test;
-  char Buffer[406];
-  int i;
-  int hdl;
-  if (argc == 1)
-    hdl= openTrace("Test");
-
-  {
-    trchstream trc(hdl, "Topic", TOPIC_HERE);
-    trc << "Line2";
-    dumpMap(&trc, test);
-  }
-
-  for (i= 0; i< 405; i++)
-    Buffer[i]= 'i';
-  Buffer[405]= 0;
-
-  for(i= 0; i < 10; i++)
-    trchstream(hdl, MajorError_HERE) << i << Buffer;
-};
-*/
-
-
-
-
-
-#endif
-
-
-/*************************************************************************************************
-      End Of File  TrcStr.h
-************************************************************************************************/
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/TrcPrtcl.h b/SelfServiceCommon/Services/cpp/TrcServ/static/inc/TrcPrtcl.h
deleted file mode 100644
index 5dd1bff2..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/TrcPrtcl.h
+++ /dev/null
@@ -1,191 +0,0 @@
-
-/****************************************************************************
-
- FILE:      TraceProtocol.h
-
- PURPOSE:   common definitions for TraceService and TraceClient
-
- DATE:      20.09.99
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
-****************************************************************************/
-
-
-#ifndef TRACEPROTOCOL_H
-#define TRACEPROTOCOL_H
-
-
-/***************************************************************************
-
-  Includes
-
-***************************************************************************/
-
-#include "Asso.h"
-#include "TrcData.h"
-
-
-/***************************************************************************
-
-  Defines
-
-***************************************************************************/
-
-
-#define TRACESERVICENAME         "TrcServ"
-#define TRACELISTENERNAME        "TrcServ-Listener"
-#define TRACESERVICEREMOTENAME   "RTrc"
-
-
-/*
-CXAPI - ERROR CODES
-#define CXRC_OK                    0
-#define CXRC_ERROR                 1
-#define CXRC_WRONG_PARAMETER       2
-#define CXRC_NAME_ALREADY_EXISTS   3
-#define CXRC_NOT_FOUND             4
-#define CXRC_BUFFER_TOO_SMALL      5
-#define CXRC_MORE_DATA             6
-#define CXRC_PARTNER_LOST          7
-*/
-
-
-#define TRC_OUTOFMEMORY    100  // an error code, that should not used by cxWrite
-#define TRC_FORMATCORRUPT  101
-
-#define MAXLINESIZE  1000       // meaning has changed: while reading buffer grows in steps of MAXLINESIZE
-#define UNDEFINED   "Standard"
-
-
-enum TOPIC_STATE
-{
-  TS_UNKNOWN,
-  TS_ACTIVE,
-  TS_INACTIVE,
-  TS_INVALID
-};
-
-
-enum TraceType
-{
-  TT_CMDSTOP01,            // TraceService sends Stop to stop its blocking thread
-  TT_TEXT01,               // Client sends Text to Service
-  TT_DUMP01,               // Client sends Dump to Service
-  TT_CMDNEWFILE01,         // Client sends NewFile to Service
-  TT_CMDINIT01,            // Client sends Init to Service
-  TT_CMDPARAMETER01,       // Service sends Tracelevel to Client
-  TT_TEXT02,               // Client sends Text to Service
-  TT_DUMP02,               // Client sends Dump to Service
-  TT_CMDNEWFILE02,         // Client sends NewFile to Service
-  TT_CMDTOPICSTATE01,      // Service sends TopicState to Client
-  TT_CMDINIT02,            // ModuleName added
-  TT_CMDSHUTDOWN01,        // Client notifies the Service to ShutDown
-  TT_CMDINITLISTEN01,      // Init Listener
-  TT_CMDDATA01,
-  TT_CMDINIT03,            // Client sends Init to Service (client has short life time)
-  TT_CRYPT01,              // Client sends cryptTrace to Service
-  TT_CRYPT02,              // Client sends cryptTrace to Service
-  TT_CMDMOVE01,            // Client sends Move to Service
-  TT_TRACK01,              // Client sends credit card track to Service
-  TT_TRACK02,              // Client sends credit card track to Service
-};
-
-
-/***************************************************************************
-
-  Exported Functions / Classes
-
-***************************************************************************/
-
-class cxBuffer
-{
-    struct cxEntry
-    {
-      long lOwnHandle, lPartnerHandle, lSize;
-      char* pData;
-    };
-    cxEntry* pEntries;
-    int iFirst, iLast, iSize;
-    void addEntry(long lOwnHandle, long lPartnerHandle, const char* pData, long lSize);
-    void removeEntry();
-    long sendNextEntry();
-    long sendAllEntries();
-    int isEmpty();
-    void inc(int& iPos);
-    cxBuffer(const cxBuffer&);
-    cxBuffer& operator=(const cxBuffer&);
-  public:
-    cxBuffer();
-    cxBuffer(int iSetSize);
-    ~cxBuffer();
-    long Write(long lOwnHandle, long lPartnerHandle, const char* pData, long* plSize);
-};
-
-
-const char* getTypeName(long lType);
-const char* getErrorName(long lError);
-void ClientName (aObject& Buffer, long lInstance, const aObject& Name);
-void ServerName (aObject& Buffer, long lInstance, const aObject& Name);
-void NotifyName (aObject& Buffer, long lInstance, const aObject& Name);
-void getAppName(aObject& AppName);
-const char* non_null(const char* pszText);
-
-/*
-  possibly return codes for write...
-  CXRC_OK
-  CXRC_ERROR
-  CXRC_WRONG_PARAMETER
-  CXRC_NOT_FOUND
-  CXRC_PARTNER_LOST
-
-  TRC_OUTOFMEMORY
-*/
-long writeCmdStop01(long OwnHandle, long PartnerHandle, cxBuffer* cxBuf= 0);
-long writeText01(long OwnHandle, long PartnerHandle, long lTraceLevel, const char *pszFile, short  sLine, const char *pszFunction, const char *pszText, cxBuffer* cxBuf= 0);
-long writeDump01(long OwnHandle, long PartnerHandle, long lTraceLevel, const char *pszFile, short  sLine, const char *pszFunction, long lDumpSize, const char *pDump, cxBuffer* cxBuf= 0);
-long writeCmdNewFile01(long OwnHandle, long PartnerHandle, long lTraceLevel, cxBuffer* cxBuf= 0);
-long writeCmdInit01(long OwnHandle, long PartnerHandle, long lInstance, const char *pszApplication, cxBuffer* cxBuf= 0);
-long writeCmdInit02(long OwnHandle, long PartnerHandle, long lInstance, const char *pszApplication, const char* pszModule, cxBuffer* cxBuf= 0);
-long writeCmdInitListen01(long OwnHandle, long PartnerHandle, cxBuffer* cxBuf= 0);
-long writeCmdData01(long OwnHandle, long PartnerHandle, aMap Data, cxBuffer* cxBuf= 0);
-long writeCmdParameter01(long OwnHandle, long PartnerHandle, long lTraceLevel, long lTraceMask, long lLevelAsMask, cxBuffer* cxBuf= 0);
-long writeCmdShutdown01(long OwnHandle, long PartnerHandle, cxBuffer* cxBuf= 0);
-
-long writeText02(long OwnHandle, long PartnerHandle, const char *pszTopic, const char *pszFile, short  sLine, const char *pszFunction, const char *pszText, cxBuffer* cxBuf= 0);
-long writeDump02(long OwnHandle, long PartnerHandle, const char *pszTopic, const char *pszFile, short  sLine, const char *pszFunction, long lDumpSize, const char *pDump, cxBuffer* cxBuf= 0);
-long writeCmdNewFile02(long OwnHandle, long PartnerHandle, const char *pszTopic, cxBuffer* cxBuf= 0);
-long writeCmdTopicState01(long OwnHandle, long PartnerHandle, const char *pszTopic, long lState, cxBuffer* cxBuf= 0);
-//   22.10.2001 ts added openTraceSLT/Init03 for short life time processes => server sends no message to client
-long writeCmdInit03(long OwnHandle, long PartnerHandle, long lInstance, const char *pszApplication, const char* pszModule, cxBuffer* cxBuf= 0);
-
-long writeCrypt01(long OwnHandle, long PartnerHandle, long lTraceLevel, const char *pszFile, short  sLine, const char *pszFunction, long lDumpSize, const char *pDump, cxBuffer* cxBuf= 0);
-long writeCrypt02(long OwnHandle, long PartnerHandle, const char *pszTopic, const char *pszFile, short  sLine, const char *pszFunction, long lDumpSize, const char *pDump, cxBuffer* cxBuf= 0);
-
-long writeCmdMove01(long OwnHandle, long PartnerHandle, const char *pszPath, cxBuffer* cxBuf= 0);
-
-long writeTrack01(long OwnHandle, long PartnerHandle, long lTraceLevel, const char *pszFile, short  sLine, const char *pszFunction, long trackId, const char *pszTrack, cxBuffer* cxBuf= 0);
-long writeTrack02(long OwnHandle, long PartnerHandle, const char *pszTopic, const char *pszFile, short  sLine, const char *pszFunction, long trackId, const char *pszTrack, cxBuffer* cxBuf= 0);
-
-
-/*
-  possibly return codes for ReadTrace
-  CXRC_OK
-  CXRC_ERROR
-  CXRC_WRONG_PARAMETER
-  CXRC_NOT_FOUND
-  CXRC_BUFFER_TOO_SMALL
-  CXRC_MORE_DATA
-  CXRC_PARTNER_LOST
-
-  TRC_FORMATCORRUPT
-*/
-
-long ReadTrace(long OwnHandle, long *PartnerHandle, long *lType, aMap& Data);
-long ReadTrace(long OwnHandle, long *PartnerHandle, long *lType, aMap& Data, long& rcError);
-
-#endif
-
-/*************************************************************************************************
-      End Of File  TraceProtocol.h
-************************************************************************************************/
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/TrcRmt.h b/SelfServiceCommon/Services/cpp/TrcServ/static/inc/TrcRmt.h
deleted file mode 100644
index 5661d11f..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/TrcRmt.h
+++ /dev/null
@@ -1,37 +0,0 @@
-/****************************************************************************
-
- FILE:      TrcRmt.h
-
- PURPOSE:   Client listening to TrcServ
-
- DATE:      05.02.2001
-
- AUTHOR:    MATERNA Information & Communications  (TS)
-
- HISTORY:
-
-****************************************************************************/
-
-#ifndef TRACELISTEN_H
-#define TRACELISTEN_H
-
-#include "TrcData.h"
-
-class _Listener;
-
-class Listener
-{
-    _Listener* pHandle;
-  public:
-    Listener(const char* pszRemoteHost);
-    virtual ~Listener();
-    virtual void newEntry(aMap Data);
-    virtual void connected();
-    virtual void disconnected();
-};
-
-#endif
-
-/*************************************************************************************************
-      End Of File  TrcRmt.h
-************************************************************************************************/
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/TrcServ.h b/SelfServiceCommon/Services/cpp/TrcServ/static/inc/TrcServ.h
deleted file mode 100644
index eadadfe7..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/TrcServ.h
+++ /dev/null
@@ -1,168 +0,0 @@
-/****************************************************************************
-
- FILE:      TraceService.h
-
- PURPOSE:   TraceService
-
- DATE:      20.09.99
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
-****************************************************************************/
-
-#ifndef TRACESERVICE_H
-#define TRACESERVICE_H
-
-
-/***************************************************************************
-
-  Includes
-
-***************************************************************************/
-
-#include "Asso.h"
-#include "sapiOS.H"
-#include "EventSem.hpp"
-#include "fmtQueue.hpp"
-
-#include "CltData.h"
-#include "TrcCfg.h"
-
-/***************************************************************************
-
-  Defines
-
-***************************************************************************/
-
-
-#define      No                   0
-#define      MajorError           1
-#define      MinorError           2
-#define      MajorWarning         3
-#define      MinorWarning         4
-#define      BasicRuntime         5
-#define      BasicProcess         6
-#define      SecondaryRuntime     7
-#define      SecondaryFrequent    8
-#define      All                  9
-
-#define HERE  __FILE__,__LINE__,__FUNCTION__
-
-/***************************************************************************
-
-  Exported Functions / Classes
-
-***************************************************************************/
-
-int debugOut();
-
-void requestFileAccess();
-void releaseFileAccess();
-
-class TraceService;
-
-class ReadLoop: public osThrd
-{
-    void function();
-  public:
-    int iEnd;
-    int iRunning;
-    TraceService* Owner;
-    eventSemaphore Stopped;
-    ReadLoop();
-};
-
-
-class NotifyLoop: public osThrd
-{
-    void function();
-  public:
-    int iEnd;
-    int iRunning;
-    TraceService* Owner;
-    eventSemaphore Stopped;
-    NotifyLoop();
-};
-
-struct LevelNotify
-{
-  LevelNotify(long lHandle, long lTraceLevel, long lTraceMask, long lLevelAsMask);
-  LevelNotify(long lHandle, const aObject Topic, long lTopicState);
-  LevelNotify(long lHandle);
-  LevelNotify();
-  long lType;
-  long lHandle, lTraceLevel, lTraceMask, lLevelAsMask;
-  aObject Topic;
-  long lTopicState;
-};
-
-
-
-class TraceService
-{
-  friend class ReadLoop;
-  friend class NotifyLoop;
-
-  int iEnd;
-  long lServerHandle;
-  int iServerHandle;
-  aMap Instances, Applications, Files;             // Using aMap as a map of pointer
-                                                   // Instances: ClientHandle -> InstanceData
-                                                   // Applications: ApplicationName -> ApplicationData
-                                                   // Files: FileName -> TraceFile
-  aMap Listener;                                   // List of ListenerHandles
-
-  eventSemaphore Done;
-  //mutexSemaphore MapAccess;
-
-  ReadLoop ReadThread;
-  NotifyLoop NotifyThread;
-  fmtQueue<LevelNotify> NotifyQueue;
-
-  TraceDirectory cfgTraceDir;
-
-  ApplicationData StdApplication;                 // must follow the declaration of aMap Files
-                                                // cause StdApplication needs Files to be constructed
-
-#ifdef CRYPTING_TRCSERV
-  Encryption     cfgEncryption;
-  ApplicationData cryptApplication;             // must follow the declaration of aMap Files
-                                                // cause CryptApplication needs Files to be constructed
-#endif
-
-  void Notify();
-  void Read();
-  void deleteInstance(long ClientHandle);
-  void deleteApplication(ApplicationData *pApplication);
-  void getApplication(ApplicationData** ppApplication, long* plInstance, aObject& ModuleName, long ClientHandle);
-  long getServerHandle(long ClientHandle);
-  long Init01(long ClientHandle, const aMap& Data);
-  long Init02(long ClientHandle, const aMap& Data);
-// 22.10.2001 2.2.5 ts added openTraceSLT/Init03 for short life time processes => server sends no message to client
-  long Init03(long ClientHandle, const aMap& Data);
-  void InitListen01(long ClientHandle, const aMap& Data);
-  void forward(long lType, const aMap& Data);
-  void restartFiles01(long lTraceLevel, const aMap& Data);
-  void restartFiles02(long lTraceLevel, const aMap& Data);
-  void stopInstance(long lHandle);
-
-  public:
-    TraceService(int reconnect);
-    ~TraceService();
-    void start();
-    void stop();
-    int readyToStart();
-    BasicTraceFile* newTraceFile(const aObject& FileName, long lMaxFileSize, long lFileGenerations, long lAppend, long lWidth, long lExtended, long lType, long lShortLine);
-    void deleteTraceFile(BasicTraceFile *pTraceFile);
-    void NotifyClient(long ClientHandle, const aObject& Topic, long lTopicState);
-    void NotifyClient(long ClientHandle, long lTraceLevel, long lTraceMask, long lLevelAsMask);
-    void changeTraceDirectory(const char* pszDir);
-    void changeEncryption(long type);
-};
-
-
-#endif
-/*************************************************************************************************
-      End Of File  TraceService.h
-************************************************************************************************/
-
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/TrcServ_def.h b/SelfServiceCommon/Services/cpp/TrcServ/static/inc/TrcServ_def.h
deleted file mode 100644
index 677d6ee0..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/TrcServ_def.h
+++ /dev/null
@@ -1,50 +0,0 @@
-/**
- *  @file      TrcServ_def.h
- *
- *  @brief     Version constants
- *
- *  @date      27.11.2006
- *
- *  @author    Materna Information & Communications (SteT)
- *
- ************************************************************************/
-
-
-/*! \mainpage TrcServ
- *
- *  @version V 2.3.17.0
- *
- *  \section change1 Change history
- *
- *  \date 26.09.2007 \li V 2.3.17.0 SteT EDB 27828: bugfix access violation in string handling
- *
- *  \date 20.09.2007 \li V 2.3.16.0 SteT EDB 27720: PCI (Kreditkartensicherheitsrichtlinien) implemented, special function for writing tracks
- *
- *  \date 05.09.2007 \li V 2.3.15.0 SteT EDB 27720: PCI (Kreditkartensicherheitsrichtlinien) implemented, track data not written (really not written, even not encrypted!)
- *
- *  \date 05.09.2007 \li V 2.3.14.0 SteT EDB 27800: private Version of TrcServ which does not encrypt the traces
- *
- *  \date 09.08.2007 \li V 2.3.13.0 SteT EDB 27738: TrcServ support move method
- *
- *  \date 01.08.2007 \li V 2.3.12.0 SteT EDB 27720: PCI (Kreditkartensicherheitsrichtlinien) implemented, track data not written
- *
- *  \date 19.04.2007 \li V 2.3.11.0 SteT EDB 27543: TT 28510, traceservice causes 100% cpu load
- *
- *  \date 19.04.2007 \li V 2.3.10.0 SteT EDB 27417: encrypt credit card data in trace
- *
- *  \date 04.01.2007 \li V 2.3.9.0  SteT Absturz vom TrcServ (Invalid Handle)
- *
- *  \date 27.11.2006 \li V 2.3.8.0  SteT
- *                   \li Resource Version added
- *
- */
-
-#define FILE_VER_BIN     2,3,17,0
-#define FILE_VER_STR     "FileVersion", "2.3.17.0\0"
-
-#define FILEDESCRIPTION  "FileDescription"  ,"Trace Service\0"
-#define INTERNALNAME     "InternalName"     ,"TrcServ.exe\0"
-#define LEGALTRADEMARKS  "LegalTrademarks"  ,"\0"
-#define ORIGINALFILENAME "OriginalFilename" ,"TrcServ.exe\0"
-
-
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/TrcShut_def.h b/SelfServiceCommon/Services/cpp/TrcServ/static/inc/TrcShut_def.h
deleted file mode 100644
index 38110e10..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/TrcShut_def.h
+++ /dev/null
@@ -1,31 +0,0 @@
-/**
- *  @file      TrcShut_def.h
- *
- *  @brief     Version constants
- *
- *  @date      19.09.2007
- *
- *  @author    Materna Information & Communications (SteT)
- *
- ************************************************************************/
-
-
-/*! \mainpage TrcShut
- *
- *  @version V 1.0.0.0
- *
- *  \section change1 Change history
- *
- *  \date 19.09.2007 \li V 1.0.0.0 SteT initial Version
- *
- */
-
-#define FILE_VER_BIN     1,0,0,0
-#define FILE_VER_STR     "FileVersion", "1.0.0.0\0"
-
-#define FILEDESCRIPTION  "FileDescription"  ,"TrcShut\0"
-#define INTERNALNAME     "InternalName"     ,"TrcShut.exe\0"
-#define LEGALTRADEMARKS  "LegalTrademarks"  ,"\0"
-#define ORIGINALFILENAME "OriginalFilename" ,"TrcShut.exe\0"
-
-
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/TrcStr.h b/SelfServiceCommon/Services/cpp/TrcServ/static/inc/TrcStr.h
deleted file mode 100644
index d4bd1b14..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/TrcStr.h
+++ /dev/null
@@ -1,139 +0,0 @@
-/****************************************************************************
-
- FILE:      TrcStr.h
-
- PURPOSE:   stream interface for traceclt.h
-
- DATE:      30.08.2001
-
- AUTHOR:    MATERNA Information & Communications  (TS)
-
-****************************************************************************/
-
-#ifndef TRCSTR_H
-#define TRCSTR_H
-
-/***************************************************************************
-
-  Includes
-
-***************************************************************************/
-
-//#include <strstrea.h>
-#include <string.h>
-#include "TraceClt.h"
-
-/***************************************************************************
-
-  Defines
-
-***************************************************************************/
-
-
-
-/***************************************************************************
-
-  Exported Functions / Classes
-
-***************************************************************************/
-
-
-class trcstream: public ostrstream
-{
-    char *pFile, *pFunction, *pTopic;
-    int iDump, iTopic;
-    long lTraceLevel;
-    short sLine;
-    static char *copy(const char* pSrc)
-    {
-      char *pDest;
-      long lSize;
-      if (pSrc == 0)
-        pDest = 0;
-      else
-      {
-        lSize = strlen(pSrc);
-        pDest = new char[lSize + 1];
-        if (pDest)
-          strcpy(pDest, pSrc);
-      };
-      return pDest;
-    }
-
-  public:
-    trcstream(long lTraceLevel, const char* pszFile, short sLine, const char* pszFunction, int iDump= 0)
-    {
-      this->lTraceLevel= lTraceLevel;
-      this->sLine= sLine;
-      this->iDump= iDump;
-      pFile= copy(pszFile);
-      pFunction= copy(pszFunction);
-      pTopic= 0;
-      iTopic= 0;
-    }
-    trcstream(const char* pszTopic, const char* pszFile, short sLine, const char* pszFunction, int iDump= 0)
-    {
-      this->lTraceLevel= 0;
-      this->sLine= sLine;
-      this->iDump= iDump;
-      pFile= copy(pszFile);
-      pFunction= copy(pszFunction);
-      pTopic= copy(pszTopic);
-      iTopic= 1;
-    }
-    virtual ~trcstream()
-    {
-      long result;
-      char *pBuffer;
-      long lSize;
-      if (!iDump)
-      {
-        put((char)0);
-        lSize = pcount();
-        if (lSize > 1)
-        {
-          pBuffer = str();
-          if (iTopic)
-            result= writeTraceTextForTopic(pTopic, pFile, sLine, pFunction, pBuffer);
-          else
-            result= writeTraceText(lTraceLevel, pFile, sLine, pFunction, pBuffer);
-          delete[] pBuffer;
-        }
-      }
-      else
-      {
-        lSize = pcount();
-        if (lSize > 0)
-        {
-          pBuffer = str();
-          if (iTopic)
-            result= dumpTraceForTopic(pTopic, pFile, sLine, pFunction, lSize, pBuffer);
-          else
-            result= dumpTrace(lTraceLevel, pFile, sLine, pFunction, lSize, pBuffer);
-          delete[] pBuffer;
-        }
-      }
-      if (pFile)
-        delete[] pFile;
-      if (pTopic)
-        delete[] pTopic;
-      if (pFunction)
-        delete[] pFunction;
-    }
-};
-
-
-
-
-
-
-
-
-
-
-#endif
-
-
-/*************************************************************************************************
-      End Of File  TrcStr.h
-************************************************************************************************/
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/VERSION.H b/SelfServiceCommon/Services/cpp/TrcServ/static/inc/VERSION.H
deleted file mode 100644
index 21f5bc00..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/VERSION.H
+++ /dev/null
@@ -1,44 +0,0 @@
-/*****************************************************************************
-
-    FILE:       VERSION.H
-
-    PURPOSE:    unique usage of version strings / id
-
-    DATE:       06-DEC-94
-
-    AUTHOR:     Dr. Materna GmbH (rb)
-    CHANGES:
-        29/03/95 rb add _atsad_rev, make all vars public
-
-*****************************************************************************/
-
-/*****************************************************************************
-
-                *** ATTENTION ***
-
-make sure to use this file only once within an application
-
-*****************************************************************************/
-#ifndef __VERSION_H__
-#define __VERSION_H__
-
-#define MAT_VERS_ID     "$Materna$Ver$Rel$Rev: "
-
-#define ATSA_VER( ver, rel, rev ) \
-char _atsaver[] = MAT_VERS_ID #ver "." #rel "." #rev
-
-extern char _atsaver[];
-extern char _atsaver_ext[];
-
-#define GET_VERSION() (&_atsaver[22])
-
-#define VERSION_ID( ver, rel, rev ) \
-char _atsaver_ext[] = MAT_VERS_ID #ver "." #rel "." #rev
-
-#define VERSION_ID_DT( ver, rel, rev ) \
-char _atsaver_ext[] = MAT_VERS_ID #ver "." #rel "." #rev ", " __DATE__ ", " __TIME__
-
-#define GETVERSION_ID() (&_atsaver_ext[22])
-
-#endif
-/**** End of File ***********************************************************/
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/argScan.hpp b/SelfServiceCommon/Services/cpp/TrcServ/static/inc/argScan.hpp
deleted file mode 100644
index 0e3446c7..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/argScan.hpp
+++ /dev/null
@@ -1,327 +0,0 @@
-/**
- **************************************************************************
- * 
- * @file argScan.hpp
- * 
- * Contains inline class argScan
- * 
- * @note please include either <fstream> or <ftream.h> as well.
- * 
- * @author JK
- * 
- * Copyright (c) 1998-2000 MATERNA Information & Communications
- *
- **************************************************************************
-**/
-#ifndef ARGSCAN_HPP
-#define ARGSCAN_HPP
-
-#include <stdlib.h>
-
-/**
- * 
- * Commandline argument scanner class.
- * 
-**/
-class argScan
-{
-   
-   //! Copy of main-argc
-   int          M_ArgC;
-   
-   //! Copy of main-argv
-   char **      M_ArgV;
-   
-   //! Name of file with additional parameters (0, if none)
-   char const * M_Filename;
-   
-public:
-   
-   /**
-    * 
-    * Constructor
-    * 
-    * @param argc Please provide argc from main().
-    * 
-    * @param argv Please provide argv from main().
-    * 
-   **/
-   argScan( int argc, char ** argv )
-      : M_ArgC( argc ), M_ArgV( argv ), M_Filename( 0 )
-   {
-   }
-
-   /**
-    * 
-    * Standard constructor - intentionally not implemented.
-    * 
-   **/
-   argScan();
-   
-   /**
-    * 
-    * Copy constructor - intentionally not implemented.
-    * 
-   **/
-   argScan( argScan const & );
-   
-   /**
-    * 
-    * Assignment operator - intentionally not implemented.
-    * 
-   **/
-   argScan & operator=( argScan const & );
-
-   /**
-    * 
-    * Give the name of a file with additional parameters.
-    * The file is supposed to contain one parameter per line.
-    *
-    * @param File path and name
-    * 
-   **/
-   void file( char const * pszM_Filename )
-   {
-      M_Filename = pszM_Filename;
-   }
-
-   /**
-    * 
-    * Retrieve a string argument by argument index. Every parameter, which
-    * is not an option (see option() method), is an argument. The command
-    * itself is retrieved with the index 0. The first non-option argument
-    * would be returned with the index 1. If the index exceeds the number
-    * of arguments, the 0 pointer is returned.
-    * If a parameter file (see file() method) is given, every non-empty
-    * line of the parameter file is returned as an argument. Index counting
-    * for a parameter file starts after the last index for commandline
-    * arguments.
-    *
-    * @param Index Argument index.
-    * 
-    * @return Argument string.
-    * 
-   **/
-   char const * argument( int Index ) const
-   {
-      int M_ArgCount = 0;           // Counts the non-special arguments
-      int AllCount = 0;             // Counts all commandline arguments
-      //
-      // Check the commandline parameters
-      //
-      while( AllCount < M_ArgC )
-      {
-         char *pArg = M_ArgV[AllCount];
-         if( (*pArg == '-') || (*pArg == '/') )
-         {
-            //
-            // Skip special arguments
-            //
-            ++AllCount;
-         }
-         else
-         {
-            //
-            // These we are interested in
-            //
-            if( M_ArgCount == Index )
-            {
-               //
-               // This has the index wanted
-               //
-               return pArg;
-            }
-            ++M_ArgCount;
-            ++AllCount;
-         }
-      }
-      //
-      // Check for an input file
-      //
-      if( M_Filename )
-      {
-         ifstream I( M_Filename );
-         static char Buffer[256];
-         for(;;)
-         {
-            // read a line
-            I.getline( Buffer, sizeof(Buffer) - 1 );
-            if( I )
-            {
-               if( Buffer[0] )
-               {
-                  // We have got a non-empty line (empty lines ignored)
-                  if( M_ArgCount == Index )
-                  {
-                     // Line index matches
-                     Buffer[sizeof(Buffer) - 1] = 0;
-                     return Buffer;
-                  }
-                  ++M_ArgCount;
-               }
-            }
-            else
-               // At end-of-file -> no success
-               return 0;
-         }
-      }
-      return 0;
-   }
-
-   /**
-    * 
-    * Retrieve an integer argument by argument index. For indexes and
-    * parameterfiles see argument() method.
-    * If the index exceeds the number of arguments, the default value
-    * is returned.
-    * 
-    * @param Index Argument index.
-    * 
-    * @param Default The value to be returned in case of failure.
-    * 
-    * @return Argument value.
-    * 
-   **/
-   int argumentInteger( int Index, int Default = 0 ) const
-   {
-      char const * String = argument( Index );
-      if( String )
-         Default = atoi( String );
-      return Default;
-   }
-
-   /**
-    * 
-    * Retrieve a string option by option key. An option is supposed to look
-    * like "-<key>[:<value>]" or "/<key>[:<value>]" i.e. the "/", "-" and
-    * ":" characters are treated specially.
-    * The key string should be given in upper-case only, commandline
-    * parameter evaluation then is not case-sensitive.
-    * If an option key not found, the 0 pointer is returned.
-    *
-    * @param Key Option key (without leading "-" or "/").
-    * 
-    * @return Option string (all after the ":") or
-    *         0, if option not found or
-    *         the "" string (length 0), if no option value is specified.
-    * 
-   **/
-   char const *option( char const * Key ) const
-   {
-      int cnt = 1;
-      while( cnt < M_ArgC )
-      {
-         char const *pArg = M_ArgV[cnt];
-         if( (*pArg == '-') || (*pArg == '/') )
-         {
-            ++pArg;
-            char const *pP = Key;
-            int Equal = 1;
-            while( *pP && Equal )
-            {
-               char X = *pArg;
-               if( ( X >= 'a' ) && ( X <= 'z' ) ) X &= ~0x20;
-               if( X != *pP )
-                  Equal = 0;
-               ++pP;
-               ++pArg;
-            }
-            if( Equal )
-            {
-               while( *pArg && ( *pArg != ':' ) ) ++pArg;
-               if( *pArg ) ++pArg;
-               return pArg;
-            }
-         }
-         ++cnt;
-      }
-      return 0;
-   }
-
-   /**
-    *
-    * Retrieve an integer option by option key.
-    * Works like the option() method and argumentInteger() method combined.
-    * 
-    * @param Key Option key (without leading "-" or "/").
-    * 
-    * @param Default The value to be returned in case of failure.
-    * 
-    * @return Option value.
-    * 
-   **/
-   int optionInteger( char const * Key, int Default = 0 ) const
-   {
-      char const * String = option( Key);
-      if( String )
-         Default = atoi( String );
-      return Default;
-   }
-   
-   /**
-    * 
-    * Retrieve a hexadecimal integer option by option key.
-    * Works like optionInteger(), but expects the parameter in hexadecimal
-    * notation (e.g. "affe" or "0E")
-    * 
-    * @param Key Option key (without leading "-" or "/").
-    * 
-    * @param Default The value to be returned in case of failure.
-    * 
-    * @return Option value.
-    * 
-   **/
-   int optionInteger16( char const * Key, int Default = 0 ) const
-   {
-      char const * String = option( Key );
-      if( String )
-      {
-         Default = 0;
-         while( *String )
-         {
-            int C = (int)*String++;
-            if( C >= 'A' )
-               C = (C & 0x0F) + 9;
-            else
-               C = C & 0x0F;
-            Default = Default * 0x10 + C;
-         }
-      }
-      return Default;
-   }
-   
-   /**
-    * 
-    * Checks the existence of commandline parameters.
-    * 
-    * @return 1 if commandline contains no parameters, 0 else.
-    * 
-   **/
-   int none() const
-   {
-      return M_ArgC == 1;
-   }
-
-   /**
-    * 
-    * Checks the existence of commandline help patterns.
-    * 
-    * @return 1, if help desired, 0 if not.
-    * 
-   **/
-   int help() const
-   {
-      return option( "HELP" ) || option( "?" );
-   }
-
-};
-
-#endif
-/**
- **************************************************************************
- *
- * End of file
- *
- **************************************************************************
-**/
-
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/cfgAPI.hpp b/SelfServiceCommon/Services/cpp/TrcServ/static/inc/cfgAPI.hpp
deleted file mode 100644
index a982b7c6..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/cfgAPI.hpp
+++ /dev/null
@@ -1,383 +0,0 @@
-//
-// CFGAPI.HPP
-//
-// SSD Classic - Configuration Application Interface
-//
-// This defines:
-//
-// - the configuration interface class
-//   - cfgAPI<T>
-//
-// - the configuration type classes
-//   - cfgAPIString
-//   - cfgAPIStrings
-//   - cfgAPIToggle
-//
-// - the predifined configuration class
-//   - cfgAPI_TraceLevel
-//
-//
-#ifndef CFGAPI_HPP
-#define CFGAPI_HPP
-
-#include "stlist.hpp"
-#include "ststring.hpp"
-
-//
-// Configuration interface class
-//
-// read the configuration value into a variable of type T
-// - for INTEGER variables use "long"
-// - for STRING variables use "cfgAPIString"
-// - for STRING-LIST variables use "cfgAPIStrings"
-// - for TOGGLE variables use "cfgAPIToggles"
-//
-template <class T>
-class cfgAPI
-{
-
-public:
-
-   typedef enum
-   {
-      CHANGE_DEFAULT,                 // Changes take effect on restart only
-      CHANGE_NOTIFY,                  // Application must be notified
-      CHANGE_ON_THE_FLY               // Changes are always possible
-   } CHANGE_MODE;
-
-   typedef enum
-   {
-      NOTIFY_ACCEPTED,                // Changes are accepted
-      NOTIFY_REJECTED                 // Changes are rejected
-   } NOTIFY_RESULT;
-
-private:
-
-   friend class cfgAPI_Handle;
-   class cfgAPI_Handle * Handle;
-
-   T           _CurrentValue;
-   CHANGE_MODE _ChangeMode;
-
-   virtual NOTIFY_RESULT notifyChange
-   (
-      const T & newValue
-   ) { return NOTIFY_ACCEPTED; };
-
-   virtual void postChange() {}
-
-public:
-
-   //
-   // Constructor only default information
-   //
-   cfgAPI
-   (
-      //
-      // Default parameters
-      //
-      const char *      Section,
-      const char *      Subsection,
-      const char *      Item,
-      CHANGE_MODE       ChangeMode,
-      const char *      ShortExplanation,
-      const char *      LongExplanation,
-      const T &         DefaultValue
-      //
-      // No range restrictions
-      //
-   );
-
-   //
-   // Constructor with range information
-   //
-   cfgAPI
-   (
-      //
-      // Default parameters
-      //
-      const char *      Section,
-      const char *      Subsection,
-      const char *      Item,
-      CHANGE_MODE       ChangeMode,
-      const char *      ShortExplanation,
-      const char *      LongExplanation,
-      const T &         DefaultValue,
-      //
-      // Valid items must be in the range from MinValue up to MaxValue.
-      //
-      const T &         MinValue,
-      const T &         MaxValue
-   );
-
-   //
-   // Constructor with list of valid entries
-   //
-   cfgAPI
-   (
-      //
-      // Default parameters
-      //
-      const char *      Section,
-      const char *      Subsection,
-      const char *      Item,
-      CHANGE_MODE       ChangeMode,
-      const char *      ShortExplanation,
-      const char *      LongExplanation,
-      const T &         DefaultValue,
-      //
-      // Valid items are mentioned in the list below.
-      //
-      const stList<T> & Toggles
-   );
-
-   //
-   // Destructor
-   //
-   ~cfgAPI();
-
-   //
-   // type conversion, can be used to obtain the current configuration value. Please
-   // note, that a temporary object of T may be created.
-   //
-   operator T();
-
-   //
-   // Return the current configuration value. Please note, that a temporary
-   // object of T may be created.
-   //
-   const T &    currentValue();
-
-   //
-   // Return a pointer to the current configuration value.
-   //
-   const T *    pCurrentValue() { return &_CurrentValue; }
-
-   //
-   // Return a zero-terminated string describing the current configuration.
-   // The string returned depends on the implementation for the type T.
-   //
-   const char * pszCurrentValue();
-
-};
-
-
-//
-// Configuration value type: STRING
-//
-typedef stString cfgAPIString;
-
-
-//
-// Configuration value type: STRING-LIST
-//
-typedef stList<cfgAPIString> cfgAPIStrings;
-
-
-//
-// Configuration value type: TEXT
-//
-class cfgAPIText : public stString
-{
-public:
-   cfgAPIText() : stString() {}
-   cfgAPIText( const char * Src ) : stString( Src ) {}
-};
-
-
-//
-// Configuration value type: TOGGLE
-//
-class cfgAPIToggle
-{
-   const char * V;
-   const char * E;
-   long  I;
-public:
-   cfgAPIToggle()
-   {
-      V = 0;
-      E = 0;
-      I = 0;
-   }
-   cfgAPIToggle( long lID, const char *Value, const char *Explanation )
-   {
-      V = Value;
-      E = Explanation;
-      I = lID;
-   }
-
-   cfgAPIToggle( const char *Value, const char *Explanation )
-   {
-      V = Value;
-      E = Explanation;
-      I = 0;
-   }
-
-   const char *getValue() const
-   {
-      return V;
-   }
-   const char *getExplanation() const
-   {
-      return E;
-   }
-
-   long getID() const
-   {
-     return I;
-   }
-
-   operator long()
-   {
-     return I;
-   }
-};
-
-
-//
-// Predefined configuration class: "TraceLevel"
-//
-// The class "cfgAPI_Tracelevel" defines all information available
-// for a TraceLevel configuration variable.
-//
-class cfgAPI_TraceLevel : public cfgAPI<long>
-{
-   //
-   // notifyChange
-   //
-   // always accepts a change. For an application to have a different
-   // behaviour this method must be overloaded.
-   //
-   virtual NOTIFY_RESULT notifyChange( const long & ) { return NOTIFY_ACCEPTED; };
-
-public:
-   //
-   // Constructor
-   //
-   // The application can specify Section and Subsection
-   // all other parameters are handles by this class
-   //
-   cfgAPI_TraceLevel( const char * Sect, const char * Subs )
-   : cfgAPI<long>
-   (
-      Sect, Subs, "TraceLevel",                      // Config item
-      CHANGE_NOTIFY,                                 // Notify application when changed
-      "trace level",                                 // Short explanation
-      "enter the level of detail for the application trace. "
-      "(0 = no trace)",                              // Long explanation
-      9, 0, 9                                        // Default value, min, max
-   ) {}
-};
-
-
-//
-// Predefined configuration class: "Toggles"
-//
-// The class "cfgAPI_Toggles" defines all information available
-// for a Toggle configuration variable.
-//
-class cfgAPI_Toggles : public cfgAPI<cfgAPIToggle>
-{
-   //
-   // notifyChange
-   //
-   // always accepts a change. For an application to have a different
-   // behaviour this method must be overloaded.
-   //
-   virtual NOTIFY_RESULT notifyChange( const cfgAPIToggle & ) { return NOTIFY_ACCEPTED; };
-
-public:
-   //
-   // Constructor
-   //
-   // The application can specify Section and Subsection
-   // all other parameters are handles by this class
-   //
-   cfgAPI_Toggles(
-      const char *          Section,
-      const char *          Subsection,
-      const char *          Item,
-      CHANGE_MODE           ChangeMode,
-      const char *          ShortExplanation,
-      const char *          LongExplanation,
-      const cfgAPIToggle &  DefaultValue,
-      //
-      // Valid items are mentioned in the list below. If no item matches the configured
-      // string, the ErrorValue is taken.
-      //
-      const stList<cfgAPIToggle> & Toggles
-      )
-   : cfgAPI<cfgAPIToggle>
-   (
-      Section, Subsection, Item,
-      ChangeMode,
-      ShortExplanation,
-      LongExplanation,
-      DefaultValue,
-      Toggles
-   ) {}
-
-   operator long()
-   {
-     return (cfgAPIToggle) *this;
-   }
-};
-
-//
-// Predefined configuration class: "BOOL"
-//
-// The class "cfgAPI_BOOL" defines all information available
-// for a BOOL configuration variable.
-//
-class cfgAPI_BOOL
-{
-  cfgAPI_Toggles *pToggle;
-
-public:
-   cfgAPI_BOOL(
-      const char *          Section,
-      const char *          Subsection,
-      const char *          Item,
-      cfgAPI_Toggles::CHANGE_MODE           ChangeMode,
-      const char *          ShortExplanation,
-      const char *          LongExplanation,
-      long                  DefaultValue
-      )
-   {
-     cfgAPIToggle FlagTRUE ( 1,"YES", "Enabled" );
-     cfgAPIToggle FlagFALSE( 0,"NO",  "Disabled" );
-
-     stList<cfgAPIToggle> Flagvalues;
-     Flagvalues.append( FlagFALSE );
-     Flagvalues.append( FlagTRUE );
-
-     pToggle = new cfgAPI_Toggles(Section,Subsection,Item,
-                                  ChangeMode,
-                                  ShortExplanation,
-                                  LongExplanation,
-                                  (DefaultValue)?FlagTRUE:FlagFALSE,
-                                  Flagvalues
-                                 );
-
-   }
-
-   ~cfgAPI_BOOL()
-   {
-     delete pToggle;
-     pToggle = 0;
-   }
-
-   operator long()
-   {
-     return *pToggle;
-   }
-};
-
-
-
-#endif
-//
-// end-of-file
-//
-
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/cxAPI.h b/SelfServiceCommon/Services/cpp/TrcServ/static/inc/cxAPI.h
deleted file mode 100644
index d13a444b..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/cxAPI.h
+++ /dev/null
@@ -1,244 +0,0 @@
-/**
- **************************************************************************
- * 
- * @file cxAPI.h
- * 
- * Contains interface definitions to the cxAPI library.
- *
- * @note Define the environment variable CXAPI_TRACE to obtain event
- *       logging to stdout.
- * 
- * @author JK
- * 
- * Copyright (c) 1998-2000 MATERNA Information & Communications
- * 
- **************************************************************************
-**/
-#ifndef CXAPI_H
-#define CXAPI_H
-
-#ifdef __cplusplus
-#define CX_CONSTSTR const char *
-extern "C"
-{
-#else
-#define CX_CONSTSTR char *
-#endif
-
-/**
- * 
- * Create a communication point.
- * 
- * @param       pOwnHandle      Address of the handle variable for the new
- *                              communication point.
- * 
- * @param       pszOwnName      The name for this communication point.
- * 
- * @return      0 = success, otherwise failure.
- * 
-**/
-long _stdcall   cxCreateHandle
-                (
-                   long *      pOwnHandle,
-                   CX_CONSTSTR pszOwnName
-                );
-
-/**
- * 
- * Delete a communication point.
- * 
- * @param       OwnHandle       Communication point handle.
- * 
- * @return      0 = success, otherwise failure.
- * 
-**/
-long _stdcall   cxDeleteHandle
-                (
-                   long        OwnHandle
-                );
-
-/**
- * 
- * Retrieve a handle for an existing partner communication point.
- * 
- * @param       pHandle       Address of the handle variable for the
- *                            partner communication point.
- * 
- * @param       pszName       The name of the partner communication point.
- * 
- * @return      0 = success, otherwise failure.
- * 
-**/
-long _stdcall   cxGetHandle
-                (
-                   long *      pHandle,
-                   CX_CONSTSTR pszName
-                );
-
-/**
- * 
- * Retrieve the name for a handle.
- * 
- * @param       Handle          The handle to search the name for.
- * 
- * @param       BufferAddress   Pointer to the buffer for the name.
- * 
- * @param       BufferLength    Size of the buffer for the name.
- * 
- * @return      0 = success, otherwise failure.
- * 
-**/
-long _stdcall   cxGetName
-                (
-                   long        Handle,
-                   char *      BufferAddress,
-                   long        BufferLength
-                );
-
-/**
- * 
- * Retrieve a handle for an existing partner communication point. If there
- * is none, wait. The function returns also, when cxDeleteHandle for
- * OwnHandle is called.
- * 
- * @param       Ownhandle     The own handle, previously obtained by a call
- *                            to cxCreateHandle.
- * 
- * @param       pHandle       Address of the handle variable for the
- *                            partner communication point.
- * 
- * @param       pszName       The name of the partner communication point.
- * 
- * @return      0 = success, otherwise failure.
- * 
-**/
-long _stdcall   cxGetWaitHandle
-                (
-                   long        OwnHandle,
-                   long *      pHandle,
-                   CX_CONSTSTR pszName
-                );
-
-/**
- * 
- * Write a data block to the communication partner.
- * 
- * @param       OwnHandle       The origin of the data block.
- * 
- * @param       PartnerHandle   The destination of the data block.
- * 
- * @param       BufferAddress   Pointer to the data block to write.
- * 
- * @param       BufferLength    Pointer to an integer carrying the length
- *                              of the data block. On return gives the
- *                              actually written data.
- * 
- * @return      0 = success, otherwise failure.
- *
-**/
-long _stdcall   cxWrite
-                (
-                   long        OwnHandle,
-                   long        PartnerHandle,
-                   CX_CONSTSTR BufferAddress,
-                   long *      BufferLength
-                );
-
-/**
- * 
- * Read a data block from a communication partner. This function blocks the
- * calling thread until data is available, unless the BufferLength variable
- * is 0. The function returns also, when cxDeleteHandle for OwnHandle is
- * called.
- * 
- * @param       OwnHandle       The destination descriptor.
- * 
- * @param       PartnerHandle   Pointer to an integer to put the originator
- *                              in.
- * 
- * @param       BufferAddress   Pointer to the memory buffer to copy the
- *                              data block to.
- * 
- * @param       BufferLength    Length of the memory buffer. On return
- *                              gives the actually length of the data blk.
- * 
- * @return      0 = success, otherwise failure.
- * 
-**/
-long _stdcall   cxRead
-                (
-                   long        OwnHandle,
-                   long *      PartnerHandle,
-                   char *      BufferAddress,
-                   long *      BufferLength
-                );
-
-/**
- * 
- * Give an explanation for the return code.
- * 
- * @param       RC              The return code of a cxAPI function.
- * 
- * @return                      Pointer to a static zero-terminated string
- *                              describing the returncode.
- * 
-**/
-char * _stdcall cxErrorText
-                (
-                   long RC
-                );
-
-/**
- * 
- * Create a proxy for a remote communication point.
- * 
- * @param       pHandle        Address of the handle variable for the new
- *                             communication point.
- * 
- * @param       pszLocalname   The local name for this communication point.
- * 
- * @param       pszRemotename  The name on the remote host
- *                             (maybe equal to pszLocalname)
- * 
- * @param       pszHost        The host to create the proxy for.
- * 
- * @return      0 = success, otherwise failure.
- * 
-**/
-long _stdcall   cxCreateProxyHandle
-                (
-                   long *      pHandle,
-                   CX_CONSTSTR pszLocalname,
-                   CX_CONSTSTR pszRemotename,
-                   CX_CONSTSTR pszHost
-                );
-
-#ifdef __cplusplus
-}
-#endif
-
-/*
-   Returncodes
-*/
-#define CXRC_OK                    0
-#define CXRC_ERROR                 1
-#define CXRC_WRONG_PARAMETER       2
-#define CXRC_NAME_ALREADY_EXISTS   3
-#define CXRC_NOT_FOUND             4
-#define CXRC_BUFFER_TOO_SMALL      5
-#define CXRC_MORE_DATA             6
-#define CXRC_PARTNER_LOST          7
-#define CXRC_CANCELLED             8
-#define CXRC_WRONG_PARTNER         9
-#define CXRC_WRONG_HANDLE          10
-#define CXRC_TRY_AGAIN             11
-
-#endif
-/**
- **************************************************************************
- * 
- * End of file
- * 
- **************************************************************************
-**/
-
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/decrypt_def.h b/SelfServiceCommon/Services/cpp/TrcServ/static/inc/decrypt_def.h
deleted file mode 100644
index 2b872527..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/decrypt_def.h
+++ /dev/null
@@ -1,31 +0,0 @@
-/**
- *  @file      decrypt_def.h
- *
- *  @brief     Version constants
- *
- *  @date      19.09.2007
- *
- *  @author    Materna Information & Communications (SteT)
- *
- ************************************************************************/
-
-
-/*! \mainpage decrypt
- *
- *  @version V 1.0.0.0
- *
- *  \section change1 Change history
- *
- *  \date 19.09.2007 \li V 1.0.0.0 SteT initial Version
- *
- */
-
-#define FILE_VER_BIN     1,0,0,0
-#define FILE_VER_STR     "FileVersion", "1.0.0.0\0"
-
-#define FILEDESCRIPTION  "FileDescription"  ,"decrypt\0"
-#define INTERNALNAME     "InternalName"     ,"decrypt.exe\0"
-#define LEGALTRADEMARKS  "LegalTrademarks"  ,"\0"
-#define ORIGINALFILENAME "OriginalFilename" ,"decrypt.exe\0"
-
-
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/fmtQueue.hpp b/SelfServiceCommon/Services/cpp/TrcServ/static/inc/fmtQueue.hpp
deleted file mode 100644
index 9902bbaf..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/fmtQueue.hpp
+++ /dev/null
@@ -1,614 +0,0 @@
-/**
- **************************************************************************
- * 
- * @file fmtQueue.hpp
- * 
- * Contains the template class fmtQueue.
- * 
- * @author JK
- * 
- * Copyright (c) 1997-2001 MATERNA Information & Communications
- * 
- **************************************************************************
-**/
-#ifndef FMTQUEUE_HPP
-#define FMTQUEUE_HPP
-
-
-
-#include "mutex.hpp"
-#include "eventSem.hpp"
-
-
-
-/**
- * 
- * Returncodes
- * 
- */
-typedef enum
-{
-   //! Successful completion
-   FMTQ_OK,
-   
-   //! Hard error
-   FMTQ_ERROR,
-   
-   //! Queue full
-   FMTQ_FULL,
-   
-   //! Timeout occured
-   FMTQ_TIMEOUT,
-   
-   //! Queue empty
-   FMTQ_EMPTY
-      
-} fmtQueueRC;
-
-
-
-/**
- * 
- * Fixed-size multi-thread queue. Suitable for applications, which need a
- * fast queue to support inter-thread communication.
- * The queue has a length attribute, which describes the current number of
- * queue elements. Another attribute is the size, which describes the
- * maximum number of queue elements. No fancy stuff like e.g. dynamic size
- * adaptation takes place. Basic operations on the queue are a non-blocking
- * write() and a blocking read().
- * 
- * @param fmtQueueElement The template argument defines the type of the
- *                        queue elements to be queued.
- * 
- * @note Operations on queue elements include standard construction, copy
- *       construction and assignment. The fmtQueueElement should provide
- *       the correct implementation for these.
- * 
-**/
-template<class fmtQueueElement>
-class fmtQueue
-{
-   /**
-    * 
-    * Pointer to the queue element buffer.
-    * 
-    */
-   fmtQueueElement * M_BufPtr;
-   
-   /**
-    * 
-    * Size of the queue element buffer.
-    * 
-    */
-   unsigned long     M_BufSiz;
-   
-   /**
-    * 
-    * Buffer offset for write operations.
-    * 
-    */
-   unsigned long     M_OffWrite;
-   
-   /**
-    * 
-    * Buffer offset for read operations.
-    * 
-    */
-   unsigned long     M_OffRead;
-   
-   /**
-    * 
-    * Current queue length.
-    * 
-    */
-   unsigned long     M_Length;
-   
-   /**
-    * 
-    * The number of currently reading threads.
-    * 
-    */
-   long              M_Reading;
-   
-   /**
-    * 
-    * Protect queue agains simultaneous access.
-    * 
-    */
-   mutexSemaphore    M_Mutex;
-   
-   /**
-    * 
-    * Signal queue events to a reader.
-    * 
-    */
-   eventSemaphore    M_Event;
-
-   /**
-    * 
-    * Private method, allocate resources.
-    * 
-   **/
-   void qAlloc( unsigned long Size = 0 )
-   {
-      M_Mutex.request();
-      if( Size )
-      {
-         M_BufPtr = new fmtQueueElement[Size];
-      }
-      else
-      {
-         M_BufPtr = 0;
-      }
-      M_BufSiz = Size;
-      M_OffWrite = M_OffRead = 0;
-      M_Length = 0;
-      M_Reading = 0;
-      M_Mutex.release();
-   }
-      
-   /**
-    * 
-    * Private method, free resources.
-    * 
-   **/
-   void qFree()
-   {
-      M_Mutex.request();
-      //
-      // Prevent new calls to write() and read() in the mutex-gap below.
-      //
-      M_Length = M_BufSiz = 0;
-      //
-      // Give pending read() a chance to finish.
-      // Use D_Reading to limit tries, even if reader is already dead.
-      //
-      long D_Reading = M_Reading;
-      while( M_Reading && D_Reading )
-      {
-         --D_Reading;
-         M_Mutex.release();
-         M_Event.post();
-         eventSemaphore().wait( 10 );
-         M_Mutex.request();
-      }
-      //
-      // No more read() pending - it is safe now to return.
-      //
-      if( M_BufPtr ) delete[] M_BufPtr;
-      M_Mutex.release();
-   }
-
-   /**
-    * 
-    * Private method, increment a buffer offset
-    * 
-   **/
-   void offInc( unsigned long & Off )
-   {
-      if( ( Off + 1 ) < M_BufSiz )
-         ++Off;
-      else
-         Off = 0;
-   }
-
-   /**
-    * 
-    * Private method, decrement a buffer offset
-    * 
-   **/
-   void offDec( unsigned long & Off )
-   {
-      if( Off )
-         --Off;
-      else
-         Off = M_BufSiz - 1;
-   }
-
-public:
-
-   /**
-    * 
-    * Standard constructor. Does provide for a queue size of 0 only.
-    * To use the queue at all, the size method should be called later for
-    * a proper queue size.
-    * 
-   **/
-   fmtQueue() :
-      M_Mutex(),
-      M_Event()
-   {
-      qAlloc();
-   }
-
-   /**
-    * 
-    * Constructor. Makes a queue with the size given.
-    * 
-    * @param Size Initial size of the queue.
-    * 
-   **/
-   fmtQueue( unsigned long Size ) :
-      M_Mutex(),
-      M_Event()
-   {
-      qAlloc( Size );
-   }
-
-   /**
-    * 
-    * Copy constructor - intentionally not implemented.
-    * 
-   **/
-   fmtQueue( const fmtQueue<fmtQueueElement> & );
-
-   /**
-    * 
-    * Destructor
-    * 
-   **/
-   ~fmtQueue()
-   {
-      qFree();
-   }
-
-   /**
-    * 
-    * Assignment operator - intentionally not implemented.
-    * 
-   **/
-   fmtQueue<fmtQueueElement> & operator=
-   (
-      const fmtQueue<fmtQueueElement> &
-   );
-
-   /**
-    * 
-    * Resets queue. Already queued items will be lost.
-    *
-   **/
-   void clear()
-   {
-      M_Mutex.request();
-      M_OffWrite = M_OffRead = 0;
-      M_Length = 0;
-      M_Mutex.release();
-   }
-   
-   /**
-    * 
-    * Resizes and resets queue. Already queued items will be lost.
-    *
-    * @param Size New size of the queue.
-    * 
-    * @return New size of queue.
-    * 
-   **/
-   unsigned long size( unsigned long Size )
-   {
-      qFree();
-      qAlloc( Size );
-      return Size;
-   }
-
-   /**
-    * 
-    * Read an item from the queue. The function will suspend the
-    * execution thread, until an item is available.
-    * 
-    * @param Destination Refers the destination to place the element read.
-    * 
-    * @return FMTQ_OK or FMTQ_ERROR.
-    *
-   **/
-   fmtQueueRC read( fmtQueueElement& Destination )
-   {
-      //
-      // Protect access, check buffer size
-      //
-      M_Mutex.request();
-      if( !M_BufSiz )
-      {
-         //
-         // Error condition
-         //
-         M_Mutex.release();
-         return FMTQ_ERROR;
-      }
-      //
-      // Increment reading threads count
-      //
-      ++M_Reading;
-      while( M_Length == 0 )
-      {
-         //
-         // Queue empty - release access, wait for insert
-         //
-         M_Event.reset();
-         M_Mutex.release();
-         M_Event.wait();
-         //
-         // Some event - procect access and continue.
-         //
-         M_Mutex.request();
-         if( !M_BufSiz )
-         {
-            //
-            // Error condition
-            //
-            --M_Reading;
-            M_Mutex.release();
-            return FMTQ_ERROR;
-         }
-      }
-      //
-      // Read item from queue
-      //
-      Destination = M_BufPtr[M_OffRead];
-      offInc( M_OffRead );
-      //
-      // Counter update
-      //
-      --M_Length;
-      //
-      // Release access, return OK
-      //
-      --M_Reading;
-      M_Mutex.release();
-      return FMTQ_OK;
-   }
-
-   /**
-    * 
-    * Read an item from the queue. The function will suspend the
-    * execution thread, until an item is available or until a timeout
-    * has occured.
-    * 
-    * @param Destination Refers the destination to place the element read.
-    *
-    * @param Time Time in milliseconds for read
-    * 
-    * @return FMTQ_OK, FMTQ_ERROR or FMTQ_TIMEOUT.
-    *
-   **/
-   fmtQueueRC read( fmtQueueElement& Destination, long Time )
-   {
-      //
-      // Protect access, check buffer size
-      //
-      M_Mutex.request();
-      if( !M_BufSiz )
-      {
-         //
-         // Error condition
-         //
-         M_Mutex.release();
-         return FMTQ_ERROR;
-      }
-      //
-      // Increment reading threads count
-      //
-      ++M_Reading;
-      while( M_Length == 0 )
-      {
-         //
-         // Queue empty - release access, wait for insert
-         //
-         M_Event.reset();
-         M_Mutex.release();
-         if( M_Event.wait( Time ) )
-         {
-            //
-            // Event timeout - leave Destination unchanged
-            //
-            --M_Reading;
-            return FMTQ_TIMEOUT;
-         }
-         //
-         // Some event - procect access and continue.
-         //
-         M_Mutex.request();
-         if( !M_BufSiz )
-         {
-            //
-            // Error condition
-            //
-            --M_Reading;
-            M_Mutex.release();
-            return FMTQ_ERROR;
-         }
-      }
-      //
-      // Read item from queue
-      //
-      Destination = M_BufPtr[M_OffRead];
-      offInc( M_OffRead );
-      //
-      // Counter update
-      //
-      --M_Length;
-      //
-      // Release access, return OK
-      //
-      --M_Reading;
-      M_Mutex.release();
-      return FMTQ_OK;
-   }
-
-   /**
-    * 
-    * Write an item to the queue. Write will fail, it the queue is already
-    * full.
-    * 
-    * @param Source The item to write
-    * 
-    * @return FMTQ_OK or FMTQ_FULL.
-    * 
-   **/
-   fmtQueueRC write( fmtQueueElement const & Source )
-   {
-      //
-      // Protect access
-      //
-      M_Mutex.request();
-      if( M_Length < M_BufSiz )
-      {
-         //
-         // Queue not yet full - write item to queue
-         //
-         M_BufPtr[M_OffWrite] = Source;
-         offInc( M_OffWrite );
-         //
-         // Counter update
-         //
-         ++M_Length;
-         //
-         // Release access, post sema, return OK
-         //
-         M_Mutex.release();
-         M_Event.post();
-         return FMTQ_OK;
-      }
-      else
-      {
-         //
-         // Queue full - release access, return ERROR
-         M_Mutex.release();
-         return FMTQ_FULL;
-      }
-   }
-
-   /**
-    * 
-    * Write an item to the front of the queue. The next read operation
-    * will return this item. The write will fail, if the queue is already
-    * full.
-    * 
-    * @param Source The item to write
-    * 
-    * @return FMTQ_OK or FMTQ_FULL.
-    * 
-   **/
-   fmtQueueRC writeFront( fmtQueueElement const & Source )
-   {
-      //
-      // Protect access
-      //
-      M_Mutex.request();
-      if( M_Length < M_BufSiz )
-      {
-         //
-         // Queue not yet full - write item to queue
-         //
-         offDec( M_OffRead );
-         M_BufPtr[M_OffRead] = Source;
-         //
-         // Counter update
-         //
-         ++M_Length;
-         //
-         // Release access, post sema, return OK
-         //
-         M_Mutex.release();
-         M_Event.post();
-         return FMTQ_OK;
-      }
-      else
-      {
-         //
-         // Queue full - release access, return ERROR
-         M_Mutex.release();
-         return FMTQ_FULL;
-      }
-   }
-
-   /**
-    * 
-    * Query queue length. This is advised prior to blocking read(),
-    * if you do not want to be blocked.
-    * 
-    * @return Length of the queue.
-    * 
-   **/
-   unsigned long length() const
-   {
-      return M_Length;
-   }
-
-   /**
-    * 
-    * Peek into the queue. The function will return immediately.
-    * peek( 0 ) will yield the next item to be read, peek( 1 ) the 2nd but
-    * next, etc. The queue contents will not be modified. The returncode
-    * will indicate, if the index-d place is not used (FMTQ_EMPTY) or
-    * beyond the size of queue (FMTQ_ERROR). A queue of size 0 will always
-    * return FMTQ_ERROR.
-    * 
-    * @note With several threads reading it might be advisable to use the
-    *       lock() / unlock() methods around peek().
-    *
-    * @param pDestination A pointer, which after successful return will
-    *        address the target element.
-    * 
-    * @return FMTQ_OK, FMTQ_EMPTY or FMTQ_ERROR.
-    * 
-   **/
-   fmtQueueRC peek
-   (
-      fmtQueueElement * & pDestination,
-      unsigned long       Index = 0
-   ) const
-   {
-      if( Index >= M_Length  )
-      {
-         if( Index >= M_BufSiz )
-            return FMTQ_ERROR;
-         else
-            return FMTQ_EMPTY;
-      }
-      else
-      {
-         unsigned long Offset = M_OffRead + Index;
-         if( Offset >= M_BufSiz )
-            Offset -= M_BufSiz;
-         pDestination = &M_BufPtr[Offset];
-         return FMTQ_OK;
-      }
-   }
-
-   /**
-    * 
-    * Lock the queue against modifications. The execution of size(), read()
-    * and write() methods is blocked.
-    * 
-   **/
-   void lock()
-   {
-      M_Mutex.request();
-   }
-
-   /**
-    * 
-    * Undo a previous lock().
-    * 
-    * @note Do not use unlock() without a previous lock()!
-    * 
-   **/
-   void unlock()
-   {
-      M_Mutex.release();
-   }
-
-
-};
-
-
-#endif
-/**
- **************************************************************************
- * 
- * End of file
- * 
- **************************************************************************
-**/
-
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/matDaemon.h b/SelfServiceCommon/Services/cpp/TrcServ/static/inc/matDaemon.h
deleted file mode 100644
index 969df9dd..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/matDaemon.h
+++ /dev/null
@@ -1,104 +0,0 @@
-/**
- **************************************************************************
- *
- * @file mDaemon.h
- *
- * Interface to mDaemon functions.
- *
- * @author JK
- *
- * Copyright (c) 2001 MATERNA Information & Communications
- *
- **************************************************************************
-**/
-#ifndef MDAEMON_H
-#define MDAEMON_H
-
-#ifdef __cplusplus
-extern "C" {
-#endif
-
-  /**
-    *
-    * List of services that must start before this service
-    * This function is implemented by the service-specific part of the daemon.
-    *
-   **/
-   char const * mDaemon_dependencies();
-   /**
-    *
-    * Give command-line parameters help.
-    * This function is implemented by the service-specific part of the daemon.
-    *
-   **/
-   char const * mDaemon_help();
-
-   /**
-    *
-    * Get the name for the daemon process.
-    * This function is implemented by the service-specific part of the daemon.
-    *
-   **/
-   char const * mDaemon_name();
-
-   /**
-    *
-    * Run the daemon process.
-    * This function is implemented by the service-specific part of the daemon.
-    *
-   **/
-   int mDaemon_main( int argc, char ** argv );
-
-   /**
-    *
-    * Stop the daemon process.
-    * This function is implemented by the service-specific part of the daemon.
-    *
-   **/
-   void mDaemon_stop( void );
-
-   /**
-    *
-    * This function is called by the service-specific part of the daemon
-    * to indicate the service is initializing.
-    *
-   **/
-   int mDaemon_indInitializing( unsigned long mSec );
-
-   /**
-    *
-    * This function is called by the service-specific part of the daemon
-    * to indicate the service is ready for operation.
-    *
-   **/
-   int mDaemon_indReady( unsigned long mSec );
-
-   /**
-    *
-    * This function is called by the service-specific part of the daemon
-    * to write an application event.
-    *
-   **/
-   void mDaemon_log( char const * Data );
-
-   /**
-    *
-    * This function is called by the service-specific part of the daemon
-    * to check if the process is running as service
-    *
-   **/
-   int mDaemon_isService();
-
-#ifdef __cplusplus
-}
-#endif
-
-#endif
-/**
- **************************************************************************
- *
- * End of file
- *
- **************************************************************************
-**/
-
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/matMutexSem.hpp b/SelfServiceCommon/Services/cpp/TrcServ/static/inc/matMutexSem.hpp
deleted file mode 100644
index 6941b92a..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/matMutexSem.hpp
+++ /dev/null
@@ -1,4 +0,0 @@
-//
-// Include redirection
-//
-#include "Mutex.hpp"
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/matos.h b/SelfServiceCommon/Services/cpp/TrcServ/static/inc/matos.h
deleted file mode 100644
index f1438dbc..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/matos.h
+++ /dev/null
@@ -1,4 +0,0 @@
-//
-// Include redirection
-//
-#include "sapios.h"
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/mutex.hpp b/SelfServiceCommon/Services/cpp/TrcServ/static/inc/mutex.hpp
deleted file mode 100644
index 2b772c80..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/mutex.hpp
+++ /dev/null
@@ -1,16 +0,0 @@
-#ifndef MUTEX_HPP
-#define MUTEX_HPP
-
-#include "mMutexSem.hpp"
-
-using Materna::MSSD::mutexSemaphore;
-
-
-#endif
-/**
- **************************************************************************
- *
- * End of file
- *
- **************************************************************************
-**/
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/sapiOS.h b/SelfServiceCommon/Services/cpp/TrcServ/static/inc/sapiOS.h
deleted file mode 100644
index 35674ed8..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/sapiOS.h
+++ /dev/null
@@ -1,118 +0,0 @@
-
-#ifndef SAPIOS_H
-#define SAPIOS_H
-// -------------------------------------------------------------------
-//
-// SAPIOS.H
-//
-// contains function prototypes from the sapios library,
-// which provides an interface to os-independent os functions
-//
-// Dr. Materna GmbH - JK/RB - 1996
-//
-// -------------------------------------------------------------------
-//
-// osExit function
-// causes the program to terminate
-//
-long osExit( long code );
-//
-// osExitHandler function
-// maintains a routines that execute when the current process ends
-//
-typedef void (*PCBLONG)  (long);
-long osExitHandler( PCBLONG p );
-//
-// os sleep function
-//
-long osSleep( long milliSeconds );
-//
-// os beep function
-//
-long osBeep( long a, long b );
-//
-// OS independen thread management
-// This class replaces the osThread... functions below
-//
-#define OSPRTY_HIGH         2
-#define OSPRTY_NORMAL       3
-#define OSPRTY_LOW          4
-class osThrd_;
-class osThrd
-{
-   friend class osThrd_;
-   //
-   // refers to private elements of the sapios library
-   //
-   osThrd_ * internal;
-   //
-   // function()
-   //
-   // must be overloaded with the clients thread function
-   //
-   virtual void function() = 0;
-   //
-   // Copy contructor (do not use)
-   //
-   osThrd( const osThrd & );
-   //
-   // Assignment operator (do not use)
-   //
-   void operator=( const osThrd & );
-   //
-public:
-   //
-   // constructor()
-   //
-   // does not aktually start a new thread
-   //
-   osThrd( long stacksize = 0 );
-   //
-   // destructor()
-   //
-   // terminates the thread
-   //
-   // note: with some operating systems (e.g. Windows NT) deleting a thread
-   //       object will cause a memory-leak. This happens, because the stack
-   //       allocated with start() is not freed.
-   //
-   ~osThrd();
-   //
-   // start()
-   //
-   // starts a new thread, should be called only once or after stop()
-   //
-   long start( long priority = OSPRTY_NORMAL );
-   //
-   // stop()
-   //
-   // stops an existing thread, should be called only after start()
-   //
-   long stop();
-   //
-};
-//
-// os independent function to create a thread
-// returns 0, when created successfully
-//
-typedef void           (*PCALLBACK)();
-long osThread( PCALLBACK threadfunc, long stacksize = 0 );
-long osThread( long prty, PCALLBACK threadfunc, long stacksize = 0 );
-//
-// same as above, but now a parameter (void *) can be passed to the thread function
-//
-typedef void           (*PCALLBACKPV)( void * );
-long osThread( PCALLBACKPV threadfunc, void * funcparams, long stacksize = 0 );
-long osThread( long prty, PCALLBACKPV threadfunc, void *funcparams, long stacksize = 0 );
-//
-// returns the current threads id
-//
-long osThreadId();
-//
-// change the current threads priority
-//
-long osThreadPrty( long prty );
-//
-// -------------------------------------------------------------------
-#endif
-
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/stList.hpp b/SelfServiceCommon/Services/cpp/TrcServ/static/inc/stList.hpp
deleted file mode 100644
index 92ef0d34..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/stList.hpp
+++ /dev/null
@@ -1,690 +0,0 @@
-
-//-------------------------------------------------------------------
-//
-// STLIST.HPP
-//
-// Simple Template List classes
-//
-// Definitions for:     stList
-//                      stSortableList
-//                      stListCursor
-//
-// Debugging is enabled by defining STLIST_STREAM
-// (e.g. "#define STLIST_STREAM cout")
-//
-//-------------------------------------------------------------------
-#ifndef STLIST_HPP
-#define STLIST_HPP
-
-#ifdef STLIST_STREAM
-
-#include <iostream.h>
-
-static int stList_Level = 0;
-
-#define _STLIST_TRACE_BEGIN(trc,pro)\
-                                    stList_Level++;\
-                                    for( int i = 0; i<stList_Level;i++)\
-                                       STLIST_STREAM << "   ";\
-                                    STLIST_STREAM <<\
-                                    hex << (unsigned)this <<\
-                                    pro << trc << endl;
-
-#define STLIST_TRACE_BEGIN(trc)     _STLIST_TRACE_BEGIN(trc," stList<T>::")
-#define STLISTC_TRACE_BEGIN(trc)    _STLIST_TRACE_BEGIN(trc," stListCursor<T>::")
-#define STLISTL_TRACE_BEGIN(trc)    _STLIST_TRACE_BEGIN(trc," stCarrier<T>::")
-#define STLISTS_TRACE_BEGIN(trc)    _STLIST_TRACE_BEGIN(trc," stSortableList<T>::")
-#define STLIST_TRACE_END            stList_Level--;
-
-#else
-
-#define STLIST_TRACE_BEGIN(trc)
-#define STLISTC_TRACE_BEGIN(trc)
-#define STLISTL_TRACE_BEGIN(trc)
-#define STLISTS_TRACE_BEGIN(trc)
-#define STLIST_TRACE_END
-
-#endif
-
-#define STLISTC_TRACE_END STLIST_TRACE_END
-#define STLISTL_TRACE_END STLIST_TRACE_END
-#define STLISTS_TRACE_END STLIST_TRACE_END
-
-
-//
-// Prototype
-//
-template<class T> class stListCursor;
-
-
-//-------------------------------------------------------------------
-//
-// stList
-//
-//-------------------------------------------------------------------
-#define NELEMENTS(p) (sizeof(p)/sizeof(p[0]))
-#define ELEMENTS(p) p,NELEMENTS(p)
-
-template<class T> class stList
-{
-
-   friend class stListCursor<T>;
-
-protected:
-
-   //
-   // PRIVATE:   Link structure
-   //
-   class stCarrier
-   {
-      stCarrier *  pSucc;
-      stCarrier *  pPred;
-      T *          pInfo;
-   public:
-      stCarrier( const T & t )
-         {
-            STLISTL_TRACE_BEGIN("stCarrier( const T & )")
-            pInfo = new T(t);
-            pSucc = pPred = 0;
-            STLISTL_TRACE_END
-         }
-      ~stCarrier()
-         {
-            STLISTL_TRACE_BEGIN("~stCarrier()")
-            delete pInfo;
-            STLISTL_TRACE_END
-         };
-      T * info()                { return pInfo; }
-      void unlink()             {
-                                   STLISTL_TRACE_BEGIN("unlink()")
-                                   if( pPred ) pPred->pSucc = pSucc;
-                                   if( pSucc ) pSucc->pPred = pPred;
-                                   pPred = pSucc = 0;
-                                   STLISTL_TRACE_END
-                                }
-      stCarrier * pred()        { return pPred; }
-      stCarrier * succ()        { return pSucc; }
-      stCarrier * succ( stCarrier * pC )
-                                {
-                                   STLISTL_TRACE_BEGIN("succ( stCarrier * )")
-                                   if( pC->pPred )
-                                   {
-                                      //
-                                      // The new successor already has a predecessor
-                                      // -> insert this before the new successor
-                                      //
-                                      pPred = pC->pPred;
-                                      pPred->pSucc = this;
-                                   }
-                                   // we assume: this->pSucc = 0;
-                                   pSucc = pC;
-                                   pC->pPred = this;
-                                   STLISTL_TRACE_END
-                                   return pSucc;
-                                }
-   };
-
-   //
-   // PRIVATE:   List object data
-   //
-   stCarrier *    pFstCarrier;
-   stCarrier *    pLstCarrier;
-
-public:
-
-   //
-   // PUBLIC:    stList<T>::stList()
-   //
-   // Default constructor, makes the empty list
-   //
-   stList()
-         {
-            STLIST_TRACE_BEGIN("stList()")
-            pFstCarrier = pLstCarrier = 0;
-            STLIST_TRACE_END
-         }
-
-   //
-   // PUBLIC:    stList<T>::stList( const T * pSrc, int nSrc )
-   //
-   // Constructor to make a list from an array of T (pSrc) and the number of
-   // items in the array (nSrc)
-   //
-   stList( const T *pSrc, int nSrc )
-         {
-            STLIST_TRACE_BEGIN("stList( pSrc, nSrc )")
-            pFstCarrier = pLstCarrier = 0;
-            while( nSrc-- )
-            {
-               append( *pSrc++ );
-            }
-            STLIST_TRACE_END
-         }
-
-   //
-   // PUBLIC:    stList<T>::stList( const stList<T> & Src )
-   //
-   // Copy constructor
-   //
-   stList( const stList<T> & Src )
-         {
-            STLIST_TRACE_BEGIN("stList( const stList<T> & )")
-            stListCursor<T> CS( (stList<T> &) Src );
-            pFstCarrier = pLstCarrier = 0;
-            while( !CS.eof() )
-            {
-               append( **CS );
-               ++CS;
-            }
-            STLIST_TRACE_END
-         }
-
-   //
-   // destructor
-   //
-   ~stList()
-         {
-            STLIST_TRACE_BEGIN("~stList()")
-            clear();
-            STLIST_TRACE_END
-         }
-
-   //
-   // PUBLIC:    stList<T>& stList<T>::clear()
-   //
-   // Clears the list completelly
-   //
-   stList<T>& clear()
-         {
-            STLIST_TRACE_BEGIN("clear()")
-            stCarrier * p = pFstCarrier;
-            while( p )
-            {
-               stCarrier * q = p;
-               p = p->succ();
-               //
-               // Delete carrier
-               //
-               delete q;
-            }
-            pFstCarrier = pLstCarrier = 0;
-            STLIST_TRACE_END
-            return *this;
-         }
-
-   //
-   // PUBLIC:    stList<T>& stList<T>::operator=( const stList<T> & Src )
-   //
-   // Assignment operator
-   //
-   stList<T>& operator =( const stList<T> & Src )
-         {
-            STLIST_TRACE_BEGIN("operator=( const stList<T> & )")
-            clear();
-            stListCursor<T> CS( (stList<T> &) Src );
-            while( !CS.eof() )
-            {
-               append( **CS );
-               ++CS;
-            }
-            STLIST_TRACE_END
-            return *this;
-         }
-
-   //
-   // PUBLIC:    stList<T>& stList<T>::append( const T& t )
-   //
-   // Appends a copy of an object of type T to the end of the list.
-   //
-   stList<T>& append( const T & t )
-         {
-            STLIST_TRACE_BEGIN("append( const T & )")
-            //
-            // Create carrier
-            //
-            stCarrier * c = new stCarrier( t );
-            //
-            // Link it to the list
-            //
-            if( pLstCarrier )
-            {
-               pLstCarrier = pLstCarrier->succ( c );
-            }
-            else
-            {
-               pFstCarrier = c;
-               pLstCarrier = c;
-            }
-            STLIST_TRACE_END
-            return *this;
-         }
-
-   //
-   // PUBLIC:    stList<T>::insert( int, const T& )
-   //
-   // Insert the element at the index given
-   //
-   stList<T>& insert( int Index, const T& t )
-         {
-            STLIST_TRACE_BEGIN("insert( int, const T & )")
-            stCarrier * pC = pFstCarrier;
-            while( Index )
-            {
-               if( pC )
-               {
-                  --Index;
-                  pC = pC->succ();
-               }
-               else
-                  Index = 0;
-            }
-            if( pC )
-            {
-               if( pC == pFstCarrier )
-               {
-                  //
-                  // insert before pFstCarrier
-                  //
-                  stCarrier * pIns = new stCarrier( t );
-                  pIns->succ( pFstCarrier );
-                  pFstCarrier = pIns;
-               }
-               else
-               {
-                  //
-                  // insert in the middle
-                  //
-                  stCarrier * pIns = new stCarrier( t );
-                  pIns->succ( pC );
-               }
-            }
-            else
-            {
-               append( t );
-            }
-            STLIST_TRACE_END
-            return *this;
-         }
-
-   //
-   // PUBLIC:    stList<T>::remove( int, T & )
-   //
-   // Remove the element at the index given ( -1 means the last element )
-   //
-   stList<T>& remove( int Index, T& t )
-         {
-            STLIST_TRACE_BEGIN("remove( int )")
-            stCarrier * pC = pFstCarrier;
-            if( Index == -1 )
-               pC = pLstCarrier;
-            else
-               while( Index )
-               {
-                  if( pC )
-                  {
-                     --Index;
-                     pC = pC->succ();
-                  }
-                  else
-                     Index = 0;
-               }
-            if( pC )
-            {
-               if( pC == pFstCarrier ) pFstCarrier = pC->succ();
-               if( pC == pLstCarrier ) pLstCarrier = pC->pred();
-               pC->unlink();
-               t = *pC->info();
-               delete pC;
-            }
-            STLIST_TRACE_END
-            return *this;
-         }
-
-   //
-   // PUBLIC:    int stList<T>::length()
-   //
-   // Returns the actual number of objects of type T held in the list.
-   //
-   int length() const
-         {
-            STLIST_TRACE_BEGIN("length()")
-            int N = 0;
-            stCarrier * p = pFstCarrier;
-            while( p )
-            {
-               ++N;
-               p = p->succ();
-            }
-            STLIST_TRACE_END
-            return N;
-         }
-
-};
-
-
-//-------------------------------------------------------------------
-//
-// stSortableList
-//
-//-------------------------------------------------------------------
-template<class T> class stSortableList : public stList<T>
-{
-
-public:
-
-   //
-   // PUBLIC:    stSortableList<T>::stSortableList()
-   //
-   // Default constructor, makes the empty list
-   //
-   stSortableList()
-         {
-            STLISTS_TRACE_BEGIN("stSortableList()")
-            pFstCarrier = pLstCarrier = 0;
-            STLISTS_TRACE_END
-         }
-
-   //
-   // PUBLIC:    stSortableList<T>::stSortableList( const stSortableList<T> & Src )
-   //
-   // Copy constructor
-   //
-   stSortableList( const stSortableList<T> & Src )
-         {
-            STLISTS_TRACE_BEGIN("stSortableList( const stSortableList<T> & )")
-            stListCursor<T> CS( (stList<T> &) Src );
-            pFstCarrier = pLstCarrier = 0;
-            while( !CS.eof() )
-            {
-               append( **CS );
-               ++CS;
-            }
-            STLISTS_TRACE_END
-         }
-
-   //
-   // PUBLIC:    stSortableList<T>::stSortableList( const stList<T> & Src )
-   //
-   // Constructor from an unsorted list
-   //
-   stSortableList( const stList<T> & Src )
-         {
-            STLISTS_TRACE_BEGIN("stSortableList( const stList<T> & )")
-            stListCursor<T> CS( (stList<T> &) Src );
-            pFstCarrier = pLstCarrier = 0;
-            while( !CS.eof() )
-            {
-               insert( **CS );
-               ++CS;
-            }
-            STLISTS_TRACE_END
-         }
-
-   //
-   // PUBLIC:    stSortableList<T>::insert( const T& )
-   //
-   // Insert an element at the correct place of the list.
-   // If the "<" operator always returns 0, it will
-   // insert at the beginning of the list;
-   //
-   stSortableList<T>& insert( const T& t )
-         {
-            STLISTS_TRACE_BEGIN("insert( const T & )")
-            stCarrier * pC = pFstCarrier;
-            int IO = 1;
-            //
-            // Find a place to insert
-            //
-            while( pC && IO )
-            {
-               if( *(pC->info()) < t )
-                  pC = pC->succ();
-               else
-                  IO = 0;
-            }
-            if( pC )
-            {
-               if( pC == pFstCarrier )
-               {
-                  //
-                  // insert before pFstCarrier
-                  //
-                  stCarrier * pIns = new stCarrier( t );
-                  pIns->succ( pFstCarrier );
-                  pFstCarrier = pIns;
-               }
-               else
-               {
-                  //
-                  // insert in the middle
-                  //
-                  stCarrier * pIns = new stCarrier( t );
-                  pIns->succ( pC );
-               }
-            }
-            else
-            {
-               append( t );
-            }
-            STLISTS_TRACE_END
-            return *this;
-         }
-
-   //
-   // PUBLIC:    stSortableList<T>::remove( int, T & )
-   //
-   // Remove the element at the index given ( -1 means the last element )
-   //
-   stSortableList<T>& remove( int Index, T& t )
-   {
-      stList<T>::remove( Index, t );
-      return *this;
-   }
-
-   //
-   // PUBLIC:    stSortableList<T>::remove( const T& )
-   //
-   // Remove all elements from the list, which are equal ("=" operator)
-   // to the given one.
-   //
-   stSortableList<T>& remove( const T& t )
-         {
-            STLISTS_TRACE_BEGIN("remove( const T & )")
-            stCarrier * pC = pFstCarrier;
-            while( pC )
-            {
-               stCarrier *pTmpC = pC->succ();
-               if( *(pC->info()) == t )
-               {
-                  if( pC == pFstCarrier ) pFstCarrier = pC->succ();
-                  if( pC == pLstCarrier ) pLstCarrier = pC->pred();
-                  pC->unlink();
-                  delete pC;
-                  pC = pTmpC;
-               }
-               else
-               {
-                  pC = pC->succ();
-               }
-            }
-            STLISTS_TRACE_END
-            return *this;
-         }
-
-};
-
-
-//-------------------------------------------------------------------
-//
-// stListCursor
-//
-//-------------------------------------------------------------------
-template<class T> class stListCursor
-{
-
-   //
-   // Private object data
-   //
-   const stList<T> *       pList;
-   stList<T>::stCarrier *  pCarrier;
-public:
-
-   //
-   // PUBLIC:    stListCursor<T>::stListCursor()
-   //
-   // default constructor
-   //
-   stListCursor()
-         {
-            STLISTC_TRACE_BEGIN("stListCursor()")
-            pList = 0;
-            pCarrier = 0;
-            STLISTC_TRACE_END
-         }
-
-   //
-   // PUBLIC:    stListCursor<T>::stListCursor( const stList<T> & List )
-   //
-   // constructor, creates a cursor object for the list given
-   //
-   stListCursor( const stList<T> & List )
-         {
-            STLISTC_TRACE_BEGIN("stListCursor( const stList<T> & )")
-            pList = &List;
-            pCarrier = pList->pFstCarrier;
-            STLISTC_TRACE_END
-         };
-
-   //
-   // PUBLIC:    stListCursor<T>::stListCursor( const stListCursor<T> & List )
-   //
-   // copy constructor
-   //
-   stListCursor( const stListCursor<T> & Src )
-         {
-            STLISTC_TRACE_BEGIN("stListCursor( const stListCursor<T> & )")
-            pList = Src.pList;
-            pCarrier = Src.pCarrier;
-            STLISTC_TRACE_END
-         };
-
-   //
-   // PUBLIC:    stListCursor<T>::operator=( const stList<T> & )
-   //
-   // returns the current item
-   //
-   stListCursor<T>& operator=( const stList<T> & Src )
-         {
-            STLISTC_TRACE_BEGIN("operator=( const stList<T> & )")
-            pList = &Src;
-            pCarrier = pList->pFstCarrier;
-            STLISTC_TRACE_END
-            return *this;
-         }
-   //
-   // PUBLIC:    stListCursor<T>::~stListCursor()
-   //
-   // destructor, destroys the cursor - not the list referred
-   //
-   ~stListCursor()
-         {
-            STLISTC_TRACE_BEGIN("~stListCursor()")
-            STLISTC_TRACE_END
-         };
-
-   //
-   // PUBLIC:    stListCursor<T>::getCurrent()
-   //
-   // returns a pointer to the item currently under the cursor
-   //
-   const T * getCurrent() const
-         {
-            STLISTC_TRACE_BEGIN("getCurrent()")
-            STLISTC_TRACE_END
-            if( pCarrier )
-               return pCarrier->info();
-            return 0;
-         }
-
-   //
-   // PUBLIC:    stListCursor<T>::getFirst()
-   //
-   // returns a pointer to the first item in the list
-   //
-   const T * getFirst()
-         {
-            STLISTC_TRACE_BEGIN("getFirst()")
-            pCarrier = pList->pFstCarrier;
-            const T *pItem = getCurrent();
-            STLISTC_TRACE_END
-            return pItem;
-         }
-
-   //
-   // PUBLIC:    stListCursor<T>::getNext()
-   //
-   // returns a pointer to the next item in the list
-   //
-   const T * getNext()
-         {
-            STLISTC_TRACE_BEGIN("getFirst()")
-            operator++();
-            const T *pItem = getCurrent();
-            STLISTC_TRACE_END
-            return pItem;
-         }
-
-   //
-   // PUBLIC:    stListCursor<T>::eof()
-   //
-   // returns 0, if the cursor refers a valid position. 1 otherwise.
-   //
-   long eof() const
-         {
-            STLISTC_TRACE_BEGIN("eof()")
-            STLISTC_TRACE_END
-            if( pCarrier ) return 0;
-            else return 1;
-         }
-
-   //
-   // PUBLIC:    stListCursor<T>::operator++()
-   //
-   // prefix cursor increment
-   //
-   stListCursor<T> & operator++()
-         {
-            STLISTC_TRACE_BEGIN("operator++()")
-            if( pCarrier )
-            {
-               pCarrier = pCarrier->succ();
-            }
-            STLISTC_TRACE_END
-            return *this;
-         }
-
-   //
-   // PUBLIC:    stListCursor<T>::operator*()
-   //
-   // returns the current item
-   //
-   const T * operator*() const
-         {
-            STLISTC_TRACE_BEGIN("operator*()")
-            STLISTC_TRACE_END
-            if( pCarrier )
-               return pCarrier->info();
-            else
-               return 0;
-         }
-
-};
-
-
-#endif
-//-------------------------------------------------------------------
-//
-// End of file
-//
-//-------------------------------------------------------------------
-
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/stString.hpp b/SelfServiceCommon/Services/cpp/TrcServ/static/inc/stString.hpp
deleted file mode 100644
index ef332976..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/stString.hpp
+++ /dev/null
@@ -1,84 +0,0 @@
-
-#ifndef STSTRING_HPP
-#define STSTRING_HPP
-
-class stString
-{
-   char *       _Buffer;
-   void _create( const char *Buf )
-   {
-      long Length = 0;
-      // count nbr of chars incl. term. zero
-      while( Buf[Length++] );
-      // allocate buffer
-      _Buffer = new char[Length];
-      // copy from source
-      while( Length-- ) { _Buffer[Length] = Buf[Length]; }
-   }
-   void _delete()
-   {
-      if( _Buffer )
-      {
-         delete _Buffer;
-         _Buffer = 0;
-      }
-   }
-public:
-   stString( const stString & Src )
-   {
-      if( Src._Buffer )
-      {
-         _create( Src._Buffer );
-      }
-      else
-      {
-         _Buffer = 0;
-      }
-   }
-   stString()
-   {
-      _Buffer = 0;
-   }
-   stString( const char *Src )
-   {
-      if( Src )
-      {
-         _create( Src );
-      }
-      else
-      {
-         _Buffer = 0;
-      }
-   }
-   ~stString()
-   {
-      _delete();
-   }
-   stString & operator =( const stString & Src )
-   {
-      _delete();
-      if( Src._Buffer )
-      {
-         _create( Src._Buffer );
-      }
-      return *this;
-   }
-   operator char *()
-   {
-      if (_Buffer)
-        return _Buffer;
-      else
-        return "";  
-   }
-   operator const char *() const
-   {
-      if (_Buffer)
-        return _Buffer;
-      else
-        return "";  
-   }
-};
-
-#endif
-
-
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/tracetestdll_def.h b/SelfServiceCommon/Services/cpp/TrcServ/static/inc/tracetestdll_def.h
deleted file mode 100644
index 9d465c43..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/inc/tracetestdll_def.h
+++ /dev/null
@@ -1,33 +0,0 @@
-/**
- *  @file      tracetestdll_def.h
- *
- *  @brief     Version constants
- *
- *  @date      19.09.2007
- *
- *  @author    Materna Information & Communications (SteT)
- *
- ************************************************************************/
-
-
-/*! \mainpage tracetestdll
- *
- *  @version V 1.0.0.1
- *
- *  \section change1 Change history
- *
- *  \date 20.09.2007 \li V 1.0.0.1 SteT EDB 27720: PCI (Kreditkartensicherheitsrichtlinien) implemented, special function for writing tracks
- *
- *  \date 19.09.2007 \li V 1.0.0.0 SteT initial Version
- *
- */
-
-#define FILE_VER_BIN     1,0,0,1
-#define FILE_VER_STR     "FileVersion", "1.0.0.1\0"
-
-#define FILEDESCRIPTION  "FileDescription"  ,"tracetestdll\0"
-#define INTERNALNAME     "InternalName"     ,"tracetestdll.exe\0"
-#define LEGALTRADEMARKS  "LegalTrademarks"  ,"\0"
-#define ORIGINALFILENAME "OriginalFilename" ,"tracetestdll.exe\0"
-
-
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/res/NonCryptingTrcServ.rc b/SelfServiceCommon/Services/cpp/TrcServ/static/res/NonCryptingTrcServ.rc
deleted file mode 100644
index c9c336d8..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/res/NonCryptingTrcServ.rc
+++ /dev/null
@@ -1,45 +0,0 @@
-#include "Global_def.h"
-#include "NonCryptingTrcServ_def.h"
-#include "winver.h"
-
-
-
-VS_VERSION_INFO VERSIONINFO
- FILEVERSION FILE_VER_BIN
- PRODUCTVERSION PRODUCT_VER_BIN
- FILEFLAGSMASK 0x3fL
-#ifdef _DEBUG
- FILEFLAGS 0x1L
-#else
- FILEFLAGS 0x0L
-#endif
- FILEOS 0x40004L
- FILETYPE 0x2L
- FILESUBTYPE 0x0L
-BEGIN
-    BLOCK "StringFileInfo"
-    BEGIN
-        BLOCK "040704b0"
-        BEGIN
-            VALUE COMPANY
-            VALUE FILEDESCRIPTION
-            VALUE FILE_VER_STR
-            VALUE INTERNALNAME
-            VALUE COPYRIGHT
-            VALUE LEGALTRADEMARKS
-            VALUE ORIGINALFILENAME
-            VALUE PRODUCT
-            VALUE PRODUCT_VER_STR
-        END
-    END
-    BLOCK "VarFileInfo"
-    BEGIN
-        VALUE "Translation", 0x407, 1200
-    END
-END
-
-
-
-//
-// End of file
-//
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/res/TraceDLL.rc b/SelfServiceCommon/Services/cpp/TrcServ/static/res/TraceDLL.rc
deleted file mode 100644
index 9bf5efc0..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/res/TraceDLL.rc
+++ /dev/null
@@ -1,109 +0,0 @@
-#include "Global_def.h"
-#include "TraceDLL_def.h"
-
-
-//IDI_ICON1 ICON "res\massai30.ico"
-//IDI_ICON2 ICON "res\massai16x16.ico"
-
-#define APSTUDIO_READONLY_SYMBOLS
-/////////////////////////////////////////////////////////////////////////////
-//
-// Generated from the TEXTINCLUDE 2 resource.
-//
-#include "afxres.h"
-
-/////////////////////////////////////////////////////////////////////////////
-#undef APSTUDIO_READONLY_SYMBOLS
-
-/////////////////////////////////////////////////////////////////////////////
-// German (Germany) resources
-
-#if !defined(AFX_RESOURCE_DLL) || defined(AFX_TARG_DEU)
-#ifdef _WIN32
-LANGUAGE LANG_GERMAN, SUBLANG_GERMAN
-#pragma code_page(1252)
-#endif //_WIN32
-
-#ifndef _MAC
-/////////////////////////////////////////////////////////////////////////////
-//
-// Version
-//
-
-VS_VERSION_INFO VERSIONINFO
- FILEVERSION FILE_VER_BIN
- PRODUCTVERSION PRODUCT_VER_BIN
- FILEFLAGSMASK 0x3fL
-#ifdef _DEBUG
- FILEFLAGS 0x1L
-#else
- FILEFLAGS 0x0L
-#endif
- FILEOS 0x40004L
- FILETYPE 0x2L
- FILESUBTYPE 0x0L
-BEGIN
-    BLOCK "StringFileInfo"
-    BEGIN
-        BLOCK "040704b0"
-        BEGIN
-            VALUE COMPANY
-			VALUE FILEDESCRIPTION
-			VALUE FILE_VER_STR
-			VALUE INTERNALNAME
-			VALUE COPYRIGHT
-			VALUE LEGALTRADEMARKS
-			VALUE ORIGINALFILENAME
-			VALUE PRODUCT
-            VALUE PRODUCT_VER_STR
-        END
-    END
-    BLOCK "VarFileInfo"
-    BEGIN
-        VALUE "Translation", 0x407, 1200
-    END
-END
-
-#endif    // !_MAC
-
-
-#ifdef APSTUDIO_INVOKED
-/////////////////////////////////////////////////////////////////////////////
-//
-// TEXTINCLUDE
-//
-
-1 TEXTINCLUDE DISCARDABLE
-BEGIN
-    "resource.h\0"
-END
-
-2 TEXTINCLUDE DISCARDABLE
-BEGIN
-    "#include ""afxres.h""\r\n"
-    "\0"
-END
-
-3 TEXTINCLUDE DISCARDABLE
-BEGIN
-    "\r\n"
-    "\0"
-END
-
-#endif    // APSTUDIO_INVOKED
-
-#endif    // German (Germany) resources
-/////////////////////////////////////////////////////////////////////////////
-
-
-
-#ifndef APSTUDIO_INVOKED
-/////////////////////////////////////////////////////////////////////////////
-//
-// Generated from the TEXTINCLUDE 3 resource.
-//
-
-
-/////////////////////////////////////////////////////////////////////////////
-#endif    // not APSTUDIO_INVOKED
-
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/res/TraceHDLDLL.rc b/SelfServiceCommon/Services/cpp/TrcServ/static/res/TraceHDLDLL.rc
deleted file mode 100644
index 8bf22b72..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/res/TraceHDLDLL.rc
+++ /dev/null
@@ -1,109 +0,0 @@
-#include "Global_def.h"
-#include "TraceHDLDLL_def.h"
-
-
-//IDI_ICON1 ICON "res\massai30.ico"
-//IDI_ICON2 ICON "res\massai16x16.ico"
-
-#define APSTUDIO_READONLY_SYMBOLS
-/////////////////////////////////////////////////////////////////////////////
-//
-// Generated from the TEXTINCLUDE 2 resource.
-//
-#include "afxres.h"
-
-/////////////////////////////////////////////////////////////////////////////
-#undef APSTUDIO_READONLY_SYMBOLS
-
-/////////////////////////////////////////////////////////////////////////////
-// German (Germany) resources
-
-#if !defined(AFX_RESOURCE_DLL) || defined(AFX_TARG_DEU)
-#ifdef _WIN32
-LANGUAGE LANG_GERMAN, SUBLANG_GERMAN
-#pragma code_page(1252)
-#endif //_WIN32
-
-#ifndef _MAC
-/////////////////////////////////////////////////////////////////////////////
-//
-// Version
-//
-
-VS_VERSION_INFO VERSIONINFO
- FILEVERSION FILE_VER_BIN
- PRODUCTVERSION PRODUCT_VER_BIN
- FILEFLAGSMASK 0x3fL
-#ifdef _DEBUG
- FILEFLAGS 0x1L
-#else
- FILEFLAGS 0x0L
-#endif
- FILEOS 0x40004L
- FILETYPE 0x2L
- FILESUBTYPE 0x0L
-BEGIN
-    BLOCK "StringFileInfo"
-    BEGIN
-        BLOCK "040704b0"
-        BEGIN
-            VALUE COMPANY
-			VALUE FILEDESCRIPTION
-			VALUE FILE_VER_STR
-			VALUE INTERNALNAME
-			VALUE COPYRIGHT
-			VALUE LEGALTRADEMARKS
-			VALUE ORIGINALFILENAME
-			VALUE PRODUCT
-            VALUE PRODUCT_VER_STR
-        END
-    END
-    BLOCK "VarFileInfo"
-    BEGIN
-        VALUE "Translation", 0x407, 1200
-    END
-END
-
-#endif    // !_MAC
-
-
-#ifdef APSTUDIO_INVOKED
-/////////////////////////////////////////////////////////////////////////////
-//
-// TEXTINCLUDE
-//
-
-1 TEXTINCLUDE DISCARDABLE
-BEGIN
-    "resource.h\0"
-END
-
-2 TEXTINCLUDE DISCARDABLE
-BEGIN
-    "#include ""afxres.h""\r\n"
-    "\0"
-END
-
-3 TEXTINCLUDE DISCARDABLE
-BEGIN
-    "\r\n"
-    "\0"
-END
-
-#endif    // APSTUDIO_INVOKED
-
-#endif    // German (Germany) resources
-/////////////////////////////////////////////////////////////////////////////
-
-
-
-#ifndef APSTUDIO_INVOKED
-/////////////////////////////////////////////////////////////////////////////
-//
-// Generated from the TEXTINCLUDE 3 resource.
-//
-
-
-/////////////////////////////////////////////////////////////////////////////
-#endif    // not APSTUDIO_INVOKED
-
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/res/TrcServ.rc b/SelfServiceCommon/Services/cpp/TrcServ/static/res/TrcServ.rc
deleted file mode 100644
index f4a25692..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/res/TrcServ.rc
+++ /dev/null
@@ -1,45 +0,0 @@
-#include "Global_def.h"
-#include "TrcServ_def.h"
-#include "winver.h"
-
-
-
-VS_VERSION_INFO VERSIONINFO
- FILEVERSION FILE_VER_BIN
- PRODUCTVERSION PRODUCT_VER_BIN
- FILEFLAGSMASK 0x3fL
-#ifdef _DEBUG
- FILEFLAGS 0x1L
-#else
- FILEFLAGS 0x0L
-#endif
- FILEOS 0x40004L
- FILETYPE 0x2L
- FILESUBTYPE 0x0L
-BEGIN
-    BLOCK "StringFileInfo"
-    BEGIN
-        BLOCK "040704b0"
-        BEGIN
-            VALUE COMPANY
-            VALUE FILEDESCRIPTION
-            VALUE FILE_VER_STR
-            VALUE INTERNALNAME
-            VALUE COPYRIGHT
-            VALUE LEGALTRADEMARKS
-            VALUE ORIGINALFILENAME
-            VALUE PRODUCT
-            VALUE PRODUCT_VER_STR
-        END
-    END
-    BLOCK "VarFileInfo"
-    BEGIN
-        VALUE "Translation", 0x407, 1200
-    END
-END
-
-
-
-//
-// End of file
-//
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/res/TrcShut.rc b/SelfServiceCommon/Services/cpp/TrcServ/static/res/TrcShut.rc
deleted file mode 100644
index 9a180240..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/res/TrcShut.rc
+++ /dev/null
@@ -1,45 +0,0 @@
-#include "Global_def.h"
-#include "TrcShut_def.h"
-#include "winver.h"
-
-
-
-VS_VERSION_INFO VERSIONINFO
- FILEVERSION FILE_VER_BIN
- PRODUCTVERSION PRODUCT_VER_BIN
- FILEFLAGSMASK 0x3fL
-#ifdef _DEBUG
- FILEFLAGS 0x1L
-#else
- FILEFLAGS 0x0L
-#endif
- FILEOS 0x40004L
- FILETYPE 0x2L
- FILESUBTYPE 0x0L
-BEGIN
-    BLOCK "StringFileInfo"
-    BEGIN
-        BLOCK "040704b0"
-        BEGIN
-            VALUE COMPANY
-            VALUE FILEDESCRIPTION
-            VALUE FILE_VER_STR
-            VALUE INTERNALNAME
-            VALUE COPYRIGHT
-            VALUE LEGALTRADEMARKS
-            VALUE ORIGINALFILENAME
-            VALUE PRODUCT
-            VALUE PRODUCT_VER_STR
-        END
-    END
-    BLOCK "VarFileInfo"
-    BEGIN
-        VALUE "Translation", 0x407, 1200
-    END
-END
-
-
-
-//
-// End of file
-//
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/res/decrypt.rc b/SelfServiceCommon/Services/cpp/TrcServ/static/res/decrypt.rc
deleted file mode 100644
index 0010b7ab..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/res/decrypt.rc
+++ /dev/null
@@ -1,45 +0,0 @@
-#include "Global_def.h"
-#include "decrypt_def.h"
-#include "winver.h"
-
-
-
-VS_VERSION_INFO VERSIONINFO
- FILEVERSION FILE_VER_BIN
- PRODUCTVERSION PRODUCT_VER_BIN
- FILEFLAGSMASK 0x3fL
-#ifdef _DEBUG
- FILEFLAGS 0x1L
-#else
- FILEFLAGS 0x0L
-#endif
- FILEOS 0x40004L
- FILETYPE 0x2L
- FILESUBTYPE 0x0L
-BEGIN
-    BLOCK "StringFileInfo"
-    BEGIN
-        BLOCK "040704b0"
-        BEGIN
-            VALUE COMPANY
-            VALUE FILEDESCRIPTION
-            VALUE FILE_VER_STR
-            VALUE INTERNALNAME
-            VALUE COPYRIGHT
-            VALUE LEGALTRADEMARKS
-            VALUE ORIGINALFILENAME
-            VALUE PRODUCT
-            VALUE PRODUCT_VER_STR
-        END
-    END
-    BLOCK "VarFileInfo"
-    BEGIN
-        VALUE "Translation", 0x407, 1200
-    END
-END
-
-
-
-//
-// End of file
-//
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/res/tracetestdll.rc b/SelfServiceCommon/Services/cpp/TrcServ/static/res/tracetestdll.rc
deleted file mode 100644
index dac43f68..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/res/tracetestdll.rc
+++ /dev/null
@@ -1,45 +0,0 @@
-#include "Global_def.h"
-#include "tracetestdll_def.h"
-#include "winver.h"
-
-
-
-VS_VERSION_INFO VERSIONINFO
- FILEVERSION FILE_VER_BIN
- PRODUCTVERSION PRODUCT_VER_BIN
- FILEFLAGSMASK 0x3fL
-#ifdef _DEBUG
- FILEFLAGS 0x1L
-#else
- FILEFLAGS 0x0L
-#endif
- FILEOS 0x40004L
- FILETYPE 0x2L
- FILESUBTYPE 0x0L
-BEGIN
-    BLOCK "StringFileInfo"
-    BEGIN
-        BLOCK "040704b0"
-        BEGIN
-            VALUE COMPANY
-            VALUE FILEDESCRIPTION
-            VALUE FILE_VER_STR
-            VALUE INTERNALNAME
-            VALUE COPYRIGHT
-            VALUE LEGALTRADEMARKS
-            VALUE ORIGINALFILENAME
-            VALUE PRODUCT
-            VALUE PRODUCT_VER_STR
-        END
-    END
-    BLOCK "VarFileInfo"
-    BEGIN
-        VALUE "Translation", 0x407, 1200
-    END
-END
-
-
-
-//
-// End of file
-//
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/src/CltData.cpp b/SelfServiceCommon/Services/cpp/TrcServ/static/src/CltData.cpp
deleted file mode 100644
index cd143ed8..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/src/CltData.cpp
+++ /dev/null
@@ -1,2155 +0,0 @@
-/****************************************************************************
-
- FILE:      ClientData.cpp
-
- PURPOSE:   Data stored by TraceService for each TraceClient
-
- DATE:      20.09.99
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
- ts 05.02.2001 init pointer before configuration entries
- ts 27.03.2001 flush file after every line
- ts 27.03.2001 use OutputDebugString
-
-****************************************************************************/
-
-
-/***************************************************************************
-
-  Includes
-
-***************************************************************************/
-
-#pragma warning (disable:4355)
-
-
-#include <ctype.h>
-#include <string>
-#include <string.h>
-#include <stdio.h>
-#include <iostream.h>
-#include <windows.h>
-#ifndef __IBMCPP__
-#include <exception>
-#endif
-
-
-#include "matTime.h"
-#include "matString.h"
-
-#include "CltData.h"
-#include "TrcServ.h"
-#include "TraceFile.h"
-#include "TrcPrtcl.H"
-
-/***************************************************************************
-
-  Defines / Constants
-
-***************************************************************************/
-
-enum BASICTRACEFILES
-{
-  DISKTRACEFILE
-};
-
-/***************************************************************************
-
-  Exported Functions
-
-BasicTraceFile::BasicTraceFile(const char* pszPath, const char* pszFileName, long lMaxFileSize, long lFileGenerations, long lAppend);
-virtual BasicTraceFile::~BasicTraceFile();
-
-virtual void BasicTraceFile::Text(long lDay, long lMonth, long lYear, long lHours, long lMinutes, long lSeconds, long lHundredths,
-          const char* pszApplication, long lInstance, long lFileInstance,
-          const char* pszFile, long lLine, const char* pszFunction,
-          const char* pszText, const char* pszModule, const char* pszTopic= 0);
-virtual void BasicTraceFile::Dump(long lDay, long lMonth, long lYear, long lHours, long lMinutes, long lSeconds, long lHundredths,
-          const char* pszApplication, long lInstance, long lFileInstance,
-          const char* pszFile, long lLine, const char* pszFunction,
-          long lSize, const char* pDump, const char* pszModule, const char* pszTopic= 0);
-virtual void BasicTraceFile::MoveTraceFile(const char* pszTrcPath, const char* pszCltPath,
-          const char* pszApplication, long lInstance, long lFileInstance,
-          const char* pszModule);
-
-virtual void BasicTraceFile::setPath(const char* pszPath);
-virtual int BasicTraceFile::openNewFile();
-virtual int BasicTraceFile::openFile();
-virtual long BasicTraceFile::getMaxFileSize();
-virtual void BasicTraceFile::setMaxFileSize(long lMaxFileSize);
-virtual long BasicTraceFile::getFileGenerations();
-virtual void BasicTraceFile::setFileGenerations(long lFileGenerations);
-virtual long BasicTraceFile::getAppend();
-virtual void BasicTraceFile::setAppend(long lAppend);
-virtual void BasicTraceFile::flush();
-
-virtual long BasicTraceFile::getWidth();
-virtual void BasicTraceFile::setWidth(long lWidth);
-virtual long BasicTraceFile::getExtended();
-virtual void BasicTraceFile::setExtended(long lExtended);
-virtual void BasicTraceFile::getShortLine();
-virtual void BasicTraceFile::setShortLine(long lShort);
-virtual const char* BasicTraceFile::getFileName() const;
-
-
-ApplicationData::ApplicationData(const aObject& Application, TraceService *pService, const char* szPath);
-ApplicationData::~ApplicationData();
-bool ApplicationData::formatCreditCardTrack(aMap& Data);
-void ApplicationData::Text01(long ClientApp, long lInstance, aMap& Data);
-void ApplicationData::Dump01(long ClientApp, long lInstance, aMap& Data);
-void ApplicationData::Text02(long ClientApp, long lInstance, aMap& Data);
-void ApplicationData::Dump02(long ClientApp, long lInstance, aMap& Data);
-void ApplicationData::Crypt01(long ClientApp, long lInstance, aMap& Data, ApplicationData& cryptApplication, long encryptionType);
-void ApplicationData::Crypt02(long ClientApp, long lInstance, aMap& Data, ApplicationData& cryptApplication, long encryptionType);
-void ApplicationData::MoveFile01(long ClientApp, long lInstance, aMap& Data);
-void ApplicationData::Track01(long ClientApp, long lInstance, aMap& Data);
-void ApplicationData::Track02(long ClientApp, long lInstance, aMap& Data);
-void ApplicationData::writeTrace(long lTraceLevel,
-                const char* pszFile, short sLine, const char* pszFunction,
-                const char* pszText, const char* pApplication, long lInstance);
-void ApplicationData::changeFileName(const char* FileName);
-void ApplicationData::changeTraceLevel(long lTraceLevel);
-void ApplicationData::changeMaxFileSize(long lMaxFileSize);
-void ApplicationData::changeFileGenerations(long lFileGenerations);
-void ApplicationData::changeAppendTraces(long lAppend);
-void ApplicationData::changeLevelAsMask(long lLevelAsMask);
-void ApplicationData::changeTraceMask(long lTraceMask);
-void ApplicationData::changeTraceWidth(long lWidth);
-void ApplicationData::changeExtendedTrace(long lExtended);
-void ApplicationData::changeShortLine(long lShort);
-void ApplicationData::changeTopic(const aObject& Name, long lState);
-
-const aObject& ApplicationData::getName() const;
-long ApplicationData::getTopicState(const aObject& Name);
-int  ApplicationData::acceptTraceLevel(long lTraceLevel);
-long ApplicationData::getTraceLevel();
-long ApplicationData::getTraceMask();
-long ApplicationData::getLevelAsMask();
-BasicTraceFile* ApplicationData::getTraceFile();
-
-
-InstanceData::InstanceData(long lClientHandle, long lServerHandle, long lInstance, ApplicationData* pApplication);
-InstanceData::InstanceData(long lClientHandle, long lServerHandle, long lInstance, ApplicationData* pApplication. const aObject& ModuleName);
-
-
-char *checkFileEnding(const char *pszFileName);
-
-BasicTraceFile *newBasicTraceFile(const aObject& FileName, long lMaxFileSize, long lFileGenerations, long lAppend, long lWidth, long lExtended, long lType, long lShortLine);
-
-
-***************************************************************************/
-
-/***************************************************************************
-
-  Function/Classes Prototypes
-
-***************************************************************************/
-
-class DiskTraceFile: public BasicTraceFile
-{
-    traceFile handle;
-    long lWidth, lExtended, lShortLine;
-    matString msHeadLine;
-    std::string path;
-
-  public:
-    long lTag;
-    DiskTraceFile(const char* pszPath, const char* pszFileName, long lMaxFileSize, long lFileGenerations, long lAppend, long lWidth, long lExtended, long lShortLine);
-    virtual ~DiskTraceFile();
-
-    virtual void Text(long lDay, long lMonth, long lYear, long lHours, long lMinutes, long lSeconds, long lHundredths,
-              const char* pszApplication, long lInstance, long lFileInstance,
-              const char* pszFile, long lLine, const char* pszFunction,
-              const char* pszText,
-              const char* pszModule,
-              const char* pszTopic= 0);
-    virtual void Dump(long lDay, long lMonth, long lYear, long lHours, long lMinutes, long lSeconds, long lHundredths,
-              const char* pszApplication, long lInstance, long lFileInstance,
-              const char* pszFile, long lLine, const char* pszFunction,
-              long lSize, const char* pDump,
-              const char* pszModule,
-              const char* pszTopic= 0);
-    virtual void MoveTraceFile(const char* pszTrcPath, const char* pszCltPath,
-              const char* pszApplication, long lInstance, long lFileInstance,
-              const char* pszModule);
-
-    virtual void setPath(const char* pszPath);
-    virtual int openNewFile();
-    virtual int openFile();
-    virtual long getMaxFileSize();
-    virtual void setMaxFileSize(long lMaxFileSize);
-    virtual long getFileGenerations();
-    virtual void setFileGenerations(long lFileGenerations);
-    virtual long getAppend();
-    virtual void setAppend(long lAppend);
-    virtual long getWidth();
-    virtual void setWidth(long lWidth);
-    virtual long getExtended();
-    virtual void setExtended(long lExtended);
-    virtual long getShortLine();
-    virtual void setShortLine(long lShort);
-    virtual void flush();
-    virtual void storePlace(int inDirectory);
-
-    virtual const char* getFileName() const;
-};
-
-/***************************************************************************
-
-  Function Definition
-
-***************************************************************************/
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  BasicTraceFile::BasicTraceFile()
-
- COMMENTS:
-
- DATE:      14.10.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-BasicTraceFile::BasicTraceFile()
-{
-  lTag= 1;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  BasicTraceFile::~BasicTraceFile()
-
- COMMENTS:
-
- DATE:      14.10.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-BasicTraceFile::~BasicTraceFile()
-{}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  BasicTraceFile *newBasicTraceFile(const char* pszPath, const char* pszFileName, long lMaxFileSize, long lFileGenerations, long lAppend, long lWidth, long lExtended, long lType, long lShortLine)
-
- COMMENTS:  create the BasicTraceFile corresponding to lType
-
- DATE:      14.10.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-BasicTraceFile *newBasicTraceFile(const char* pszPath, const char* pszFileName, long lMaxFileSize, long lFileGenerations, long lAppend, long lWidth, long lExtended, long lType, long lShortLine)
-{
-  switch (lType)
-  {
-    case DISKTRACEFILE:
-      return new DiskTraceFile(pszPath, pszFileName, lMaxFileSize, lFileGenerations, lAppend, lWidth, lExtended, lShortLine);
-    default:
-      return 0;
-  }
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  char *checkFileEnding(const char* pszFileName)
-
- COMMENTS:  guarantee that the filename has an ending
-
- DATE:      14.10.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-char *checkFileEnding(const char *pszFileName)
-{
-  char* result;
-  result= checkEnding(pszFileName);
-  return result;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  DiskTraceFile::DiskTraceFile(const char *pszFileName, long lMaxFileSize, long lFileGenerations, long lAppend, long lWidth, long lExtended, long lShortLine)
-
- COMMENTS:  initialize the traceFile, and open it
-
- DATE:      14.10.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-
-DiskTraceFile::DiskTraceFile(const char* pszPath, const char* pszFileName, long lMaxFileSize, long lFileGenerations, long lAppend, long lWidth, long lExtended, long lShortLine):
-  handle(pszPath, pszFileName, lMaxFileSize, lFileGenerations, lAppend, 1)
-{
-  this->lShortLine= lShortLine;
-  this->lExtended= lExtended;
-  this->lWidth= lWidth;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  DiskTraceFile::~DiskTraceFile()
-
- COMMENTS:  close the traceFile
-
- DATE:      14.10.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-DiskTraceFile::~DiskTraceFile()
-{}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void DiskTraceFile::Text
-                 (
-                   long lDay,
-                   long lMonth,
-                   long lYear,
-                   long lHours,
-                   long lMinutes,
-                   long lSeconds,
-                    long lHundredths,
-                   const char* pszApplication,
-                   long lInstance,
-                   long lFileInstance,
-                   const char* pszFile,
-                   long lLine,
-                   const char* pszFunction,
-                   const char* pszText,
-                   const char* pszModule,
-                   const char* pszTopic
-                 )
-
- COMMENTS:  write the Data formatted to File
-
- DATE:      14.10.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-void DiskTraceFile::Text
-     (
-       long lDay,
-       long lMonth,
-       long lYear,
-       long lHours,
-       long lMinutes,
-       long lSeconds,
-       long lHundredths,
-       const char* pszApplication,
-       long lInstance,
-       long lFileInstance,
-       const char* pszFile,
-       long lLine,
-       const char* pszFunction,
-       const char* pszText,
-       const char* pszModule,
-       const char* pszTopic
-     )
-{
-  long lExtended, lLeft, lShortLine;
-  // long lLength, i;
-  int iShort;
-  matString msLine, msOut;
-  char szBuffer[256];
-  char szBuffer2[266];
-  const char* pText;
-  char* pStr;
-
-  // use local copies, cause changes while creating Text would create confused output
-  lExtended= this->lExtended;
-  lShortLine= this->lShortLine;
-  iShort= 0;
-
-  if (lExtended)
-  {
-    // if (getAppend())
-    {
-      msLine.catData("[");
-      if (pszModule)
-        msLine.catData(pszModule);
-      sprintf(szBuffer," - %04x] ", (lFileInstance << 8) | (lInstance & 0xFF));
-      msLine.catData(szBuffer);
-    }
-
-    if (lShortLine)
-    {
-      const char *pLine, *pHead;
-      msLine.catData("\n");
-      pHead= msHeadLine.getData();
-      pLine= msLine.getData();
-      if (!pHead || (pLine && strcmp(pHead, pLine) != 0))
-        msHeadLine= msLine;
-      else
-      {
-        msLine.clrData();
-        iShort= 1;
-      }
-    }
-    else
-      msHeadLine.clrData();
-
-    sprintf(szBuffer, "%02d.%02d.%04d ", lDay, lMonth, lYear);
-    msLine.catData(szBuffer);
-
-    sprintf(szBuffer, "%02d:%02d:%02d.%02d ", lHours, lMinutes, lSeconds, lHundredths);
-    msLine.catData(szBuffer);
-    msLine.catData(pszFile);
-    sprintf(szBuffer," (%04d), ", lLine);
-    msLine.catData(szBuffer);
-    if(pszFunction)
-      msLine.catData(pszFunction);
-    if (pszTopic)
-    {
-      msLine.catData(", ");
-      msLine.catData(pszTopic);
-    }
-    msLine.catData("\n");
-    lLeft= 0;
-  }
-  else
-  {
-    // if (getAppend())
-    {
-      msLine.catData("[");
-      if (pszModule)
-      {
-        pText = strrchr(pszModule,'\\');
-        if(pText != 0)
-        {
-          sprintf(szBuffer, "%12s", pText + 1);
-        }
-        else
-        {
-          sprintf(szBuffer, "%12s", pszModule);
-        }
-        msLine.catData(szBuffer);
-      }
-      sprintf(szBuffer," - %04x] ", (lFileInstance << 8) | (lInstance & 0xFF));
-      msLine.catData(szBuffer);
-    }
-
-    if (lShortLine)
-    {
-      const char *pLine, *pHead;
-      msLine.catData("\n");
-      pHead= msHeadLine.getData();
-      pLine= msLine.getData();
-      if (!pHead || (pLine && strcmp(pHead, pLine) != 0))
-        msHeadLine= msLine;
-      else
-      {
-        msLine.clrData();
-        iShort= 1;
-      }
-    }
-    else
-      msHeadLine.clrData();
-
-    sprintf(szBuffer, "%02d.%02d.%04d ", lDay, lMonth, lYear);
-    msLine.catData(szBuffer);
-
-    sprintf(szBuffer, "%02d:%02d:%02d.%02d ", lHours, lMinutes, lSeconds, lHundredths);
-    msLine.catData(szBuffer);
-    // cut path from file name
-    pText = strrchr(pszFile,'\\');
-    if(pText != 0)
-      strcpy(szBuffer, pText + 1);
-    else
-      strcpy(szBuffer, pszFile);
-
-    // cut file name extension
-    pStr = strrchr(szBuffer,'.');
-    if(pStr != 0)
-      *pStr = 0;
-
-    sprintf(szBuffer2, "%-8s(%4d): ", szBuffer, lLine);
-    msLine.catData(szBuffer2);
-    lLeft= msLine.getDataLen();
-/*
-    if (lWidth <= lLeft + 8)
-    {
-      msLine.catData("\n");
-      lLeft= 0;
-    }
-*/
-  }
-
-/*
-  lLength= strlen(pszText);
-  if (lLength <= lWidth - lLeft)
-  {
-*/
-    msLine.catData(pszText);
-    msLine.catData("\n");
-/*
-  }
-  else
-  {
-    msLine.catData(pszText, (lWidth - lLeft));
-    msLine.catData("\n");
-    lLength -= (lWidth - lLeft);
-    pText = pszText + (lWidth - lLeft);
-    while(lLength > lWidth - lLeft)
-    {
-      for (i=0; i<lLeft; i++)
-        msLine.catData(" ");
-      msLine.catData(pText, (lWidth - lLeft));
-      msLine.catData("\n");
-      lLength -= (lWidth - lLeft);
-      pText = pText + (lWidth - lLeft);
-    }
-    for (i=0; i<lLeft; i++)
-      msLine.catData(" ");
-    msLine.catData(pText);
-    msLine.catData("\n");
-  }
-*/
-  if(lExtended)
-    msLine.catData("\n");
-
-  pText= msLine.getData();
-  if (pText)
-  {
-    if (iShort && !handle.fitToFile(strlen(pText)))
-    {
-      msOut= msHeadLine;
-      msOut.catData(msLine);
-      handle.write(msOut.getData());
-      handle.flush();
-      if (debugOut())
-      {
-        cout << msOut.getData();
-        cout.flush();
-      }
-      OutputDebugString(msOut.getData());
-    }
-    else
-    {
-      handle.write(pText);
-      handle.flush();
-      if (debugOut())
-      {
-        cout << pText;
-        cout.flush();
-      }
-      OutputDebugString(pText);
-    }
-  }
-
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void DiskTraceFile::Dump
-                 (
-                   long lDay,
-                   long lMonth,
-                   long lYear,
-                   long lHours,
-                   long lMinutes,
-                   long lSeconds,
-                   long lHundredths,
-                   const char* pszApplication,
-                   long lInstance,
-                   long lFileInstance,
-                   const char* pszFile,
-                   long lLine,
-                   const char* pszFunction,
-                   long lSize,
-                   const char* pDump,
-                   const char* pszModule,
-                   const char* pszTopic
-                 )
-
- COMMENTS:  write the Data formatted to File
-
- DATE:      14.10.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-void DiskTraceFile::Dump
-     (
-       long lDay,
-       long lMonth,
-       long lYear,
-       long lHours,
-       long lMinutes,
-       long lSeconds,
-       long lHundredths,
-       const char* pszApplication,
-       long lInstance,
-       long lFileInstance,
-       const char* pszFile,
-       long lLine,
-       const char* pszFunction,
-       long lSize,
-       const char* pDump,
-       const char* pszModule,
-       const char* pszTopic
-     )
-{
-  matString msLine, msOut;
-  long lExtended, i, j, lShortLine;
-  int iShort;
-  char szBuffer[256];
-  char szBuffer2[266];
-  const char* pText;
-  char* pStr;
-
-  // use local copies, cause changes while creating Text would create confused output
-  lExtended= this->lExtended;
-  lShortLine= this->lShortLine;
-  iShort= 0;
-
-
-  if (lExtended)
-  {
-    // if (getAppend())
-    {
-      msLine.catData("[");
-      if (pszModule)
-        msLine.catData(pszModule);
-      sprintf(szBuffer," - %04x] ", (lFileInstance << 8) | (lInstance & 0xFF));
-      msLine.catData(szBuffer);
-    }
-
-    if (lShortLine)
-    {
-      const char *pLine, *pHead;
-      msLine.catData("\n");
-      pHead= msHeadLine.getData();
-      pLine= msLine.getData();
-      if (!pHead || (pLine && strcmp(pHead, pLine) != 0))
-        msHeadLine= msLine;
-      else
-      {
-        msLine.clrData();
-        iShort= 1;
-      }
-    }
-    else
-      msHeadLine.clrData();
-
-    sprintf(szBuffer, "%02d.%02d.%04d ", lDay, lMonth, lYear);
-    msLine.catData(szBuffer);
-
-    sprintf(szBuffer, "%02d:%02d:%02d.%02d ", lHours, lMinutes, lSeconds, lHundredths);
-    msLine.catData(szBuffer);
-    msLine.catData(pszFile);
-    sprintf(szBuffer," (%04d), ", lLine);
-    msLine.catData(szBuffer);
-    if(pszFunction)
-      msLine.catData(pszFunction);
-    if (pszTopic)
-    {
-      msLine.catData(", ");
-      msLine.catData(pszTopic);
-    }
-    msLine.catData("\n");
-  }
-  else
-  {
-    // if (getAppend())
-    {
-      msLine.catData("[");
-      if (pszModule)
-      {
-        pText = strrchr(pszModule,'\\');
-        if(pText != 0)
-          sprintf(szBuffer, "%12s", pText + 1);
-        else
-          sprintf(szBuffer, "%12s", pszModule);
-        msLine.catData(szBuffer);
-      }
-      sprintf(szBuffer," - %04x] ", (lFileInstance << 8) | (lInstance & 0xFF));
-      msLine.catData(szBuffer);
-    }
-
-    if (lShortLine)
-    {
-      const char *pLine, *pHead;
-      msLine.catData("\n");
-      pHead= msHeadLine.getData();
-      pLine= msLine.getData();
-      if (!pHead || (pLine && strcmp(pHead, pLine) != 0))
-        msHeadLine= msLine;
-      else
-      {
-        msLine.clrData();
-        iShort= 1;
-      }
-    }
-    else
-      msHeadLine.clrData();
-
-    sprintf(szBuffer, "%02d.%02d.%04d ", lDay, lMonth, lYear);
-    msLine.catData(szBuffer);
-
-    sprintf(szBuffer, "%02d:%02d:%02d.%02d ", lHours, lMinutes, lSeconds, lHundredths);
-    msLine.catData(szBuffer);
-    // cut path from file name
-    pText = strrchr(pszFile,'\\');
-    if(pText != 0)
-      strcpy(szBuffer, pText + 1);
-    else
-      strcpy(szBuffer, pszFile);
-
-    // cut file name extension
-    pStr = strrchr(szBuffer,'.');
-    if(pStr != 0)
-      *pStr = 0;
-
-    sprintf(szBuffer2, "%-8s(%4d): ", szBuffer, lLine);
-    msLine.catData(szBuffer2);
-    msLine.catData("\n");
-  }
-
-  for(i = 0; i < lSize; i += 16)
-  {
-    sprintf(szBuffer,"[%04x,%04d] ",i, i);
-    msLine.catData(szBuffer);
-
-    for(j = 0; j < 16 && (i+j) < lSize; j++)
-    {
-      if(j == 8)
-      {
-        sprintf(szBuffer,"- %02x ",((unsigned char*)pDump)[i+j]);
-        msLine.catData(szBuffer);
-      }
-      else
-      {
-        sprintf(szBuffer,"%02x ",((unsigned char*)pDump)[i+j]);
-        msLine.catData(szBuffer);
-      }
-    }
-
-    while(j < 16)
-    {
-      if(j == 8)
-        msLine.catData("     ");
-      else
-        msLine.catData("   ");
-      j++;
-    }
-
-    for(j = 0; j < 16 && (i+j) < lSize; j++)
-      msLine.catData((pDump[i+j] >= ' ') ? &pDump[i+j]: ".", 1);
-
-    msLine.catData("\n");
-  }
-
-
-  pText= msLine.getData();
-  if (pText)
-  {
-    if (iShort && !handle.fitToFile(strlen(pText)))
-    {
-      msOut= msHeadLine;
-      msOut.catData(msLine);
-      handle.write(msOut.getData());
-      handle.flush();
-      if (debugOut())
-      {
-        cout << msOut.getData();
-        cout.flush();
-      }
-      OutputDebugString(msOut.getData());
-    }
-    else
-    {
-      handle.write(pText);
-      handle.flush();
-      if (debugOut())
-      {
-        cout << pText;
-        cout.flush();
-      }
-      OutputDebugString(pText);
-    }
-  }
-}
-
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void DiskTraceFile::MoveTraceFile
-                 (
-                   const char* pszTrcPath,
-                   const char* pszCltPath,
-                   const char* pszApplication,
-                   long lInstance,
-                   long lFileInstance,
-                   const char* pszModule
-                 )
-
- COMMENTS:
-
- DATE:      14.10.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-void DiskTraceFile::MoveTraceFile
-(
-  const char* pszTrcPath,
-  const char* pszCltPath,
-  const char* pszApplication,
-  long lInstance,
-  long lFileInstance,
-  const char* pszModule
-)
-{
-  if(pszCltPath)
-  {
-    path= pszCltPath;
-    char* fullPath= fullName(pszTrcPath, path.c_str());
-    handle.setPath(fullPath);
-    delete[] fullPath;
-  }
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void DiskTraceFile::setPath(const char* pszPath)
-
- COMMENTS:
-
- DATE:      14.10.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-void DiskTraceFile::setPath(const char* pszPath)
-{
-  if(path.size() > 0)
-  {
-    char* fullPath= fullName(pszPath, path.c_str());
-    handle.setPath(fullPath);
-    delete[] fullPath;
-  }
-  else
-    handle.setPath(pszPath);
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  int DiskTraceFile::openNewFile()
-
- COMMENTS:
-
- DATE:      14.10.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-int DiskTraceFile::openNewFile()
-{
-  int result;
-  msHeadLine.clrData();
-  result= handle.openNewFile();
-  return result;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  int DiskTraceFile::openFile()
-
- COMMENTS:
-
- DATE:      14.10.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-int DiskTraceFile::openFile()
-{
-  int result;
-  msHeadLine.clrData();
-  result= handle.openFile();
-  return result;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long DiskTraceFile::getMaxFileSize()
-
- COMMENTS:
-
- DATE:      14.10.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-long DiskTraceFile::getMaxFileSize()
-{
-  return handle.lMaxFileSize;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void DiskTraceFile::setMaxFileSize(long lMaxFileSize)
-
- COMMENTS:
-
- DATE:      14.10.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-void DiskTraceFile::setMaxFileSize(long lMaxFileSize)
-{
-  handle.lMaxFileSize= lMaxFileSize;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long DiskTraceFile::getFileGenerations()
-
- COMMENTS:
-
- DATE:      14.10.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-long DiskTraceFile::getFileGenerations()
-{
-  return handle.lFileGenerations;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void DiskTraceFile::setFileGenerations(long lFileGenerations)
-
- COMMENTS:
-
- DATE:      14.10.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-void DiskTraceFile::setFileGenerations(long lFileGenerations)
-{
-  handle.lFileGenerations= lFileGenerations;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long DiskTraceFile::getAppend()
-
- COMMENTS:
-
- DATE:      14.10.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-long DiskTraceFile::getAppend()
-{
-  return handle.lAppend;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void DiskTraceFile::setAppend(long lAppend)
-
- COMMENTS:
-
- DATE:      14.10.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-void DiskTraceFile::setAppend(long lAppend)
-{
-  handle.lAppend= lAppend;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long DiskTraceFile::getWidth()
-
- COMMENTS:
-
- DATE:      14.10.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-long DiskTraceFile::getWidth()
-{
-  return lWidth;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void DiskTraceFile::setWidth(long lWidth)
-
- COMMENTS:
-
- DATE:      14.10.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-void DiskTraceFile::setWidth(long lWidth)
-{
-  this->lWidth= lWidth;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long DiskTraceFile::getExtended()
-
- COMMENTS:
-
- DATE:      14.10.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-long DiskTraceFile::getExtended()
-{
-  return lExtended;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long DiskTraceFile::getShortLine()
-
- COMMENTS:
-
- DATE:      05.05.2000
-
- AUTHOR:    MATERNA Information & Communications  (TS)
-
----------------------------------------------------------------------------*/
-long DiskTraceFile::getShortLine()
-{
-  return lShortLine;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void DiskTraceFile::setExtended(long lExtended)
-
- COMMENTS:
-
- DATE:      14.10.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-void DiskTraceFile::setExtended(long lExtended)
-{
-  this->lExtended= lExtended;
-}
-
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void DiskTraceFile::setShortLine(long lShort)
-
- COMMENTS:
-
- DATE:      05.05.2000
-
- AUTHOR:    MATERNA Information & Communications  (TS)
-
----------------------------------------------------------------------------*/
-void DiskTraceFile::setShortLine(long lShort)
-{
-  this->lShortLine= lShort;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void DiskTraceFile::flush()
-
- COMMENTS:
-
- DATE:      06.06.2000
-
- AUTHOR:    MATERNA Information & Communications  (TS)
-
----------------------------------------------------------------------------*/
-void DiskTraceFile::flush()
-{
-  handle.flush();
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void DiskTraceFile::storePlace(int inDirectory)
-
- COMMENTS:
-
- DATE:      02.08.2007
-
- AUTHOR:    MATERNA Information & Communications  (SteT)
-
----------------------------------------------------------------------------*/
-void DiskTraceFile::storePlace(int inDirectory)
-{
-  handle.storePlace(inDirectory);
-}
-
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  const char* DiskTraceFile::getFileName() const
-
- COMMENTS:
-
- DATE:      14.10.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-const char* DiskTraceFile::getFileName() const
-{
-  const char* result;
-  result= handle.getFileName();
-  return result;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long ApplicationData::getTopicState(const aObject& Name)
-
- COMMENTS:  returns the state of the Topic, reading CFGVariable
-
- DATE:      20.09.99
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-
-long ApplicationData::getTopicState(const aObject& Name)
-{
-  aObject topic;
-  Topic *pTopic;
-  long result;
-  topic = cfgTopics.get(Name);
-  if (topic.getTag() != OBJ_NUM)
-  {
-    if (Name.getTag() == OBJ_STR && strlen(Name.strObject()) > 0)
-    {
-
-      #ifndef __IBMCPP__
-      try
-      {
-      #endif
-        pTopic = new Topic(ApplicationName.strObject(), Name.strObject(), this);
-      #ifndef __IBMCPP__
-      }
-      catch(std::exception& ex)
-      {
-        pTopic= 0;
-        cout << ex.what() << endl;
-      }
-      #endif
-      cfgTopics.set(Name, (long) pTopic);
-      if (pTopic != 0)
-      {
-        // notify async(changeTopic uses fileaccess mutex)
-        pTopic->callNotify();
-        //changeTopic(pTopic->Name, pTopic->currentValue().getID());
-        result = pTopic->currentValue().getID();
-      }
-      else
-        result = TS_INVALID;
-    }
-    else
-      result= TS_INVALID;
-  }
-  else
-  {
-    pTopic = (Topic*)topic.numObject();
-    if (pTopic)
-      result = pTopic->currentValue().getID();
-    else
-      result = TS_INVALID;
-  }
-  return result;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  ApplicationData::ApplicationData(const aObject& Application, TraceService *pService, const char* szPath)
-
- COMMENTS:  construct the ApplicationData for an Application
-
- DATE:      20.09.99
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-
-ApplicationData::ApplicationData(const aObject& Application, TraceService *pService, const char* szPath):
-  cfgExtended(new ExtendedTrace(Application.strObject(), this)),
-  cfgShortLine(new ShortLine(Application.strObject(), this)),
-//  cfgWidth(Application.strObject(), this),
-  cfgFileName(new FileName(Application.strObject(), this, szPath)),
-  cfgTraceLevel(new TraceLevel(Application.strObject(), this)),
-  cfgMaxFileSize(new MaxFileSize(Application.strObject(), this)),
-  //cfgFileGenerations(Application.strObject(), this),
-  cfgAppendTraces(new AppendTraces(Application.strObject(), this)),
-#ifdef LEVELMASK
-  cfgTraceMask(Application.strObject(), this),
-  cfgLevelAsMask(Application.strObject(), this),
-#endif
-  ApplicationName(Application),
-  pTraceFile(0),
-  pService(0),
-  lFileInstance(0),
-  stopping(false)
-{
-  crypt.setPwd("?$%/Ka98=)/E?=K)98d/SD%)=(&/)&%!'**");
-  requestFileAccess();
-  this->pService = pService;
-  if (pService == 0)
-    pTraceFile = 0;
-  else
-  {
-    // pTraceFile= pService->newTraceFile((const char*)cfgFileName.currentValue(), cfgMaxFileSize.currentValue(), cfgFileGenerations.currentValue(), cfgAppendTraces.currentValue().getID(), cfgExtended.currentValue().getID(), cfgWidth.currentValue(), DISKTRACEFILE);
-    pTraceFile= pService->newTraceFile((const char*)cfgFileName->currentValue(), cfgMaxFileSize->currentValue(), 1/*cfgFileGenerations.currentValue()*/, cfgAppendTraces->currentValue().getID(), cfgExtended->currentValue().getID(), 0, DISKTRACEFILE, cfgShortLine->currentValue().getID());
-  }
-  if (pTraceFile)
-    lFileInstance= pTraceFile->lTag;
-  else
-    lFileInstance= 0;
-  releaseFileAccess();
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  ApplicationData::~ApplicationData()
-
- COMMENTS:  destroys the ApplicationData for an Application
-
- DATE:      20.09.99
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-
-ApplicationData::~ApplicationData()
-{
-  stopping= true;
-  const aObject *pItem;
-  Topic *pTopic;
-
-  pItem= 0;
-  while ((pItem = cfgTopics.getNextKey(pItem)) != 0)
-  {
-    if (cfgTopics.get(*pItem).getTag() == OBJ_NUM)
-    {
-      pTopic = (Topic*) cfgTopics.get(*pItem).numObject();
-      if (pTopic)
-      {
-        pTopic->release();
-        delete pTopic;
-      }
-    }
-  }
-  #ifdef MASSAICFG
-  cfgFileName->release();
-  cfgTraceLevel->release();
-  cfgMaxFileSize->release();
-  cfgAppendTraces->release();
-  cfgExtended->release();
-  cfgShortLine->release();
-  #endif
-
-  delete cfgFileName;
-  delete cfgTraceLevel;
-  delete cfgMaxFileSize;
-  delete cfgAppendTraces;
-  delete cfgExtended;
-  delete cfgShortLine;
-}
-
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  const aObject& ApplicationData::getName() const
-
- COMMENTS:
-
- DATE:      20.09.99
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-
-const aObject& ApplicationData::getName() const
-{
-  return ApplicationName;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void ApplicationData::changeFileName(const char* FileName)
-
- COMMENTS:  when FileName has been changed, close old File open newFile
-
- DATE:      20.09.99
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-
-void ApplicationData::changeFileName(const char* FileName)
-{
-  requestFileAccess();
-  if(!stopping)
-  {
-    BasicTraceFile *pOldTraceFile;
-    if (pService)
-    {
-      pOldTraceFile = pTraceFile;
-      pTraceFile = pService->newTraceFile (FileName, cfgMaxFileSize->currentValue(),
-                                           1 /*cfgFileGenerations.currentValue()*/,
-                                           cfgAppendTraces->currentValue().getID(),
-                                           cfgExtended->currentValue().getID(),
-                                           0, //cfgWidth.currentValue(),
-                                           DISKTRACEFILE,
-                                           cfgExtended->currentValue().getID());
-      pService->deleteTraceFile(pOldTraceFile);
-    }
-    if (pTraceFile)
-      lFileInstance= pTraceFile->lTag;
-    else
-      lFileInstance= 0;
-  }
-  releaseFileAccess();
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void ApplicationData::changeTraceLevel(long lTraceLevel)
-
- COMMENTS:  when TraceLevel has been changed, notify all Instances of the Application
-
- DATE:      20.09.99
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-void ApplicationData::changeTraceLevel(long lTraceLevel)
-{
-  if(!stopping)
-  {
-    const aObject *pItem;
-    if (pService)
-    {
-      pItem = 0;
-      while ((pItem = InstanceHandles.getNextKey(pItem)) != 0)
-      {
-        if (InstanceHandles.get(*pItem).getTag() == OBJ_NUM)
-        {
-          pService->NotifyClient (
-                                   InstanceHandles.get(*pItem).numObject(),
-                                   lTraceLevel,
-                                   getTraceMask(),
-                                   getLevelAsMask()
-                                  );
-        }
-      }
-    }
-  }
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void ApplicationData::changeLevelAsMask(long lLevelAsMask)
-
- COMMENTS:  when LevelAsMask has been changed, notify all Instances of the Application
-
- DATE:      20.09.99
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-void ApplicationData::changeLevelAsMask(long lLevelAsMask)
-{
-  if(!stopping)
-  {
-    const aObject *pItem;
-    if (pService)
-    {
-      pItem = 0;
-      while ((pItem = InstanceHandles.getNextKey(pItem)) != 0)
-      {
-        if (InstanceHandles.get(*pItem).getTag() == OBJ_NUM)
-        {
-          pService->NotifyClient (InstanceHandles.get(*pItem).numObject(),
-                                   getTraceLevel(),
-                                   getTraceMask(),
-                                   lLevelAsMask);
-        }
-      }
-    }
-  }
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void ApplicationData::changeTraceMask(long lTraceMask)
-
- COMMENTS:  when TraceMask has been changed, notify all Instances of the Application
-
- DATE:      20.09.99
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-void ApplicationData::changeTraceMask(long lTraceMask)
-{
-  if(!stopping)
-  {
-    const aObject *pItem;
-    if (pService)
-    {
-      pItem = 0;
-      while ((pItem = InstanceHandles.getNextKey(pItem)) != 0)
-      {
-        if (InstanceHandles.get(*pItem).getTag() == OBJ_NUM)
-        {
-          pService->NotifyClient (InstanceHandles.get(*pItem).numObject(),
-                                   getTraceLevel(),
-                                   lTraceMask,
-                                   getLevelAsMask());
-        }
-      }
-    }
-  }
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void ApplicationData::changeMaxFileSize(long lMaxFileSize)
-
- COMMENTS:  when lMaxFileSize has been changed, change MaxFileSize in BasicTraceFile
-
- DATE:      20.09.99
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-void ApplicationData::changeMaxFileSize(long lMaxFileSize)
-{
-  requestFileAccess();
-  if(!stopping)
-  {
-    if (pTraceFile)
-      pTraceFile->setMaxFileSize(lMaxFileSize);
-  }
-  releaseFileAccess();
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void ApplicationData::changeFileGenerations(long lFileGenerations)
-
- COMMENTS:  when lFileGenerations has been changed, change lFileGenerations in TraceFile
-
- DATE:      20.09.99
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-void ApplicationData::changeFileGenerations(long lFileGenerations)
-{
-  requestFileAccess();
-  if(!stopping)
-  {
-    if (pTraceFile)
-      pTraceFile->setFileGenerations(lFileGenerations);
-  }
-  releaseFileAccess();
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void ApplicationData::changeAppendTraces(long lAppend)
-
- COMMENTS:  when lAppend has been changed, change lAppend in TraceFile
-
- DATE:      20.09.99
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-void ApplicationData::changeAppendTraces(long lAppend)
-{
-  requestFileAccess();
-  if(!stopping)
-  {
-    if (pTraceFile)
-      pTraceFile->setAppend(lAppend);
-  }
-  releaseFileAccess();
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void ApplicationData::changeTraceWidth(long lWidth)
-
- COMMENTS:  when lWidth has been changed, change lWidth in TraceFile
-
- DATE:      14.10.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-
-void ApplicationData::changeTraceWidth(long lWidth)
-{
-  requestFileAccess();
-  if(!stopping)
-  {
-    if (pTraceFile)
-      pTraceFile->setWidth(lWidth);
-  }
-  releaseFileAccess();
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void ApplicationData::changeExtendedTrace(long lExtended)
-
- COMMENTS:  when lExtended has been changed, change lExtended in TraceFile
-
- DATE:      14.10.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-void ApplicationData::changeExtendedTrace(long lExtended)
-{
-  requestFileAccess();
-  if(!stopping)
-  {
-    if (pTraceFile)
-      pTraceFile->setExtended(lExtended);
-  }
-  releaseFileAccess();
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void ApplicationData::changeShortLine(long lShort)
-
- COMMENTS:  when lExtended has been changed, change lExtended in TraceFile
-
- DATE:      05.05.2000
-
- AUTHOR:    MATERNA Information & Communications  (TS)
-
----------------------------------------------------------------------------*/
-void ApplicationData::changeShortLine(long lShort)
-{
-  requestFileAccess();
-  if(!stopping)
-  {
-    if (pTraceFile)
-      pTraceFile->setShortLine(lShort);
-  }
-  releaseFileAccess();
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void ApplicationData::changeTopic(const aObject& Name, long lState)
-
- COMMENTS:  when Topic has been changed, notify all Instances of the Application
-
- DATE:      20.09.99
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-void ApplicationData::changeTopic(const aObject& Name, long lState)
-{
-  if(!stopping)
-  {
-    const aObject *pItem;
-    if (pService)
-    {
-      pItem = 0;
-      while ((pItem = InstanceHandles.getNextKey(pItem)) != 0)
-      {
-        if (InstanceHandles.get(*pItem).getTag() == OBJ_NUM)
-        {
-          pService->NotifyClient (InstanceHandles.get(*pItem).numObject(),
-                                   Name,
-                                   lState);
-        }
-      }
-    }
-  }
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void ApplicationData::writeTrace(long lTraceLevel, const char* pszFile, short  sLine, const char* pszFunction, const char* pszText, const char* pszModule, const char* pApplication, long lInstance)
-
- COMMENTS:  write Trace formatted to TraceFile
-
- DATE:      20.09.99
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-void ApplicationData::writeTrace(long lTraceLevel, const char* pszFile, short  sLine, const char* pszFunction, const char* pszText, const char* pszModule, const char* pApplication, long lInstance)
-{
-
-  requestFileAccess();
-  DATETIME timestamp;
-
-  osGetDateTime(&timestamp);
-  if (pTraceFile && acceptTraceLevel(lTraceLevel))
-  {
-    pTraceFile->Text
-    (
-      timestamp.day,
-      timestamp.month,
-      timestamp.year,
-      timestamp.hours,
-      timestamp.minutes,
-      timestamp.seconds,
-      timestamp.hundredths,
-      pApplication,
-      lInstance,
-      lFileInstance,
-      pszFile,
-      sLine,
-      pszFunction,
-      pszText,
-      pszModule
-    );
-  }
-  releaseFileAccess();
-}
-
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void ApplicationData::Text01(long ClientApp, long lInstance, aMap& Data)
-
- COMMENTS:  write Data formatted to TraceFile
-
- DATE:      20.09.99
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-void ApplicationData::Text01(long ClientApp, long lInstance, aMap& Data)
-{
-  requestFileAccess();
-  long lTraceLevel;
-
-  lTraceLevel = Data.get(DN_LTRACELEVEL).numObject();
-  if (pTraceFile && acceptTraceLevel(lTraceLevel))
-  {
-    pTraceFile->Text
-    (
-      Data.get(DN_LDAY).numObject(),
-      Data.get(DN_LMONTH).numObject(),
-      Data.get(DN_LYEAR).numObject(),
-      Data.get(DN_LHOURS).numObject(),
-      Data.get(DN_LMINUTES).numObject(),
-      Data.get(DN_LSECONDS).numObject(),
-      Data.get(DN_LHUNDREDTHS).numObject(),
-      ApplicationName.strObject(),
-      lInstance,
-      lFileInstance,
-      Data.get(DN_SFILE).strObject(),
-      Data.get(DN_LLINE).numObject(),
-      Data.get(DN_SFUNCTION).strObject(),
-      Data.get(DN_STEXT).strObject(),
-      Data.get(DN_SMODULE).strObject()
-    );
-  }
-  releaseFileAccess();
-
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void ApplicationData::Dump01(long ClientApp, long lInstance, aMap& Data)
-
- COMMENTS:  write Data formatted to TraceFile
-
- DATE:      20.09.99
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-void ApplicationData::Dump01(long ClientApp, long lInstance, aMap& Data)
-{
-  requestFileAccess();
-  long lTraceLevel;
-
-  lTraceLevel = Data.get(DN_LTRACELEVEL).numObject();
-  if (pTraceFile && acceptTraceLevel(lTraceLevel))
-  {
-    pTraceFile->Dump
-    (
-      Data.get(DN_LDAY).numObject(),
-      Data.get(DN_LMONTH).numObject(),
-      Data.get(DN_LYEAR).numObject(),
-      Data.get(DN_LHOURS).numObject(),
-      Data.get(DN_LMINUTES).numObject(),
-      Data.get(DN_LSECONDS).numObject(),
-      Data.get(DN_LHUNDREDTHS).numObject(),
-      ApplicationName.strObject(),
-      lInstance,
-      lFileInstance,
-      Data.get(DN_SFILE).strObject(),
-      Data.get(DN_LLINE).numObject(),
-      Data.get(DN_SFUNCTION).strObject(),
-      Data.get(DN_BDUMP).count(),
-      Data.get(DN_BDUMP).strObject(),
-      Data.get(DN_SMODULE).strObject()
-    );
-  }
-  releaseFileAccess();
-
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void ApplicationData::Text02(long ClientApp, long lInstance, aMap& Data)
-
- COMMENTS:  write Data formatted to TraceFile
-
- DATE:      20.09.99
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-void ApplicationData::Text02(long ClientApp, long lInstance, aMap& Data)
-{
-  requestFileAccess();
-  aObject TopicName;
-  long lTopicState;
-
-  TopicName = Data.get(DN_STOPIC);
-  lTopicState = getTopicState(TopicName);
-  if (lTopicState == TS_ACTIVE && pTraceFile)
-  {
-    pTraceFile->Text
-    (
-      Data.get(DN_LDAY).numObject(),
-      Data.get(DN_LMONTH).numObject(),
-      Data.get(DN_LYEAR).numObject(),
-      Data.get(DN_LHOURS).numObject(),
-      Data.get(DN_LMINUTES).numObject(),
-      Data.get(DN_LSECONDS).numObject(),
-      Data.get(DN_LHUNDREDTHS).numObject(),
-      ApplicationName.strObject(),
-      lInstance,
-      lFileInstance,
-      Data.get(DN_SFILE).strObject(),
-      Data.get(DN_LLINE).numObject(),
-      Data.get(DN_SFUNCTION).strObject(),
-      Data.get(DN_STEXT).strObject(),
-      Data.get(DN_SMODULE).strObject(),
-      Data.get(DN_STOPIC).strObject()
-
-    );
-  }
-  releaseFileAccess();
-
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void ApplicationData::Dump02(long ClientApp, long lInstance, aMap& Data)
-
- COMMENTS:  write Data formatted to TraceFile
-
- DATE:      20.09.99
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-void ApplicationData::Dump02(long ClientApp, long lInstance, aMap& Data)
-{
-  requestFileAccess();
-  aObject TopicName;
-  long lTopicState;
-
-  TopicName = Data.get(DN_STOPIC);
-  lTopicState = getTopicState(TopicName);
-  if (lTopicState == TS_ACTIVE && pTraceFile)
-  {
-    pTraceFile->Dump
-    (
-      Data.get(DN_LDAY).numObject(),
-      Data.get(DN_LMONTH).numObject(),
-      Data.get(DN_LYEAR).numObject(),
-      Data.get(DN_LHOURS).numObject(),
-      Data.get(DN_LMINUTES).numObject(),
-      Data.get(DN_LSECONDS).numObject(),
-      Data.get(DN_LHUNDREDTHS).numObject(),
-      ApplicationName.strObject(),
-      lInstance,
-      lFileInstance,
-      Data.get(DN_SFILE).strObject(),
-      Data.get(DN_LLINE).numObject(),
-      Data.get(DN_SFUNCTION).strObject(),
-      Data.get(DN_BDUMP).count(),
-      Data.get(DN_BDUMP).strObject(),
-      Data.get(DN_SMODULE).strObject(),
-      Data.get(DN_STOPIC).strObject()
-    );
-  }
-  releaseFileAccess();
-
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  int ApplicationData::acceptTraceLevel(long lTraceLevel)
-
- COMMENTS:
-
- DATE:      20.09.99
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-int ApplicationData::acceptTraceLevel(long lTraceLevel)
-{
-  int result;
-  long lATraceLevel, lATraceMask, lALevelAsMask;
-  lATraceLevel = getTraceLevel();
-  lATraceMask = getTraceMask();
-  lALevelAsMask = getLevelAsMask();
-  result= ((lALevelAsMask && (lTraceLevel & lATraceMask)) || (!lALevelAsMask && (lTraceLevel <= lATraceLevel)));
-  return result;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long ApplicationData::getTraceLevel()
-
- COMMENTS:
-
- DATE:      20.09.99
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-long ApplicationData::getTraceLevel()
-{
-  return cfgTraceLevel->currentValue().getID();
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long ApplicationData::getLevelAsMask()
-
- COMMENTS:
-
- DATE:      20.09.99
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-long ApplicationData::getLevelAsMask()
-{
-#ifdef LEVELMASK
-  return cfgLevelAsMask.currentValue().getID();
-#else
-  return 0;
-#endif
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long ApplicationData::getTraceMask()
-
- COMMENTS:
-
- DATE:      20.09.99
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-long ApplicationData::getTraceMask()
-{
-#ifdef LEVELMASK
-  return cfgTraceMask.currentValue();
-#else
-  return 0;
-#endif
-}
-
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  bool ApplicationData::formatCreditCardTrack(aMap& Data)
-
- COMMENTS:  format trackdata
-
- DATE:      20.09.2007
-
- AUTHOR:    Materna Information & Communications (SteT)
-
----------------------------------------------------------------------------*/
-bool ApplicationData::formatCreditCardTrack(aMap& Data)
-{
-  bool result= false;
-  long trackid= Data.get(DN_LTRACKID).numObject();
-  if(trackid == 2)
-  {
-    const char* pszTrack= Data.get(DN_STEXT).strObject();
-    if(pszTrack)
-    {
-      if(*pszTrack == ';') // ISO 7813, track 2 may start: ";"
-        pszTrack++;
-      const char* pIt= pszTrack;
-      pIt++;
-      while(isdigit(*pIt))
-        pIt++;
-      // ISO 7813, track 2: field seperator: "="; 13 <= length(PAN) <= 19
-      int length= pIt - pszTrack; // length of PAN; subtract one for starting
-      if((*pIt == '=') && (13 <= length) && (length <= 19))
-      {
-        char buf[20];
-        strncpy(buf, pszTrack, 5);
-        strncpy(buf + 5, "**********", length - 9);
-        strncpy(buf + length - 4, pIt - 4, 4);
-        buf[length]= 0;
-        Data.set(DN_STEXT, buf);
-        result= true;
-      }
-    }
-  }
-  return result;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void ApplicationData::Track01(long ClientApp, long lInstance, aMap& Data)
-
- COMMENTS:  write credit card track formatted to TraceFile
-
- DATE:      20.09.2007
-
- AUTHOR:    Materna Information & Communications (SteT)
-
----------------------------------------------------------------------------*/
-
-void ApplicationData::Track01(long ClientApp, long lInstance, aMap& Data)
-{
-  if(formatCreditCardTrack(Data))
-  {
-    Text01(ClientApp, lInstance, Data);
-  }
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void ApplicationData::Track02(long ClientApp, long lInstance, aMap& Data)
-
- COMMENTS:  write credit card track formatted to TraceFile
-
- DATE:      20.09.2007
-
- AUTHOR:    Materna Information & Communications (SteT)
-
----------------------------------------------------------------------------*/
-void ApplicationData::Track02(long ClientApp, long lInstance, aMap& Data)
-{
-  if(formatCreditCardTrack(Data))
-  {
-    Text02(ClientApp, lInstance, Data);
-  }
-}
-
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  BasicTraceFile* ApplicationData::getTraceFile()
-
- COMMENTS:
-
- DATE:      20.09.99
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-BasicTraceFile* ApplicationData::getTraceFile()
-{
-  return pTraceFile;
-}
-
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void ApplicationData::Crypt01(long ClientApp, long lInstance, aMap& Data, ApplicationData& cryptApplication, long encryptionType)
-
- COMMENTS:  write Data formatted to TraceFile
-
- DATE:      19.04.2007
-
- AUTHOR:    MATERNA Information & Communications  (SteT)
-
----------------------------------------------------------------------------*/
-void ApplicationData::Crypt01(long ClientApp, long lInstance, aMap& Data, ApplicationData& cryptApplication, long encryptionType)
-{
-  requestFileAccess();
-  long lTraceLevel;
-
-  lTraceLevel = Data.get(DN_LTRACELEVEL).numObject();
-  std::string encrypted;
-  crypt.encrypt(encrypted, std::string(Data.get(DN_BDUMP).strObject(), Data.get(DN_BDUMP).count()));
-
-  if (cryptApplication.pTraceFile && acceptTraceLevel(lTraceLevel))
-  {
-    cryptApplication.pTraceFile->Dump
-    (
-      Data.get(DN_LDAY).numObject(),
-      Data.get(DN_LMONTH).numObject(),
-      Data.get(DN_LYEAR).numObject(),
-      Data.get(DN_LHOURS).numObject(),
-      Data.get(DN_LMINUTES).numObject(),
-      Data.get(DN_LSECONDS).numObject(),
-      Data.get(DN_LHUNDREDTHS).numObject(),
-      ApplicationName.strObject(),
-      lInstance,
-      lFileInstance,
-      Data.get(DN_SFILE).strObject(),
-      Data.get(DN_LLINE).numObject(),
-      Data.get(DN_SFUNCTION).strObject(),
-      encrypted.size(),
-      encrypted.c_str(),
-      Data.get(DN_SMODULE).strObject()
-    );
-  }
-  releaseFileAccess();
-
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void ApplicationData::Crypt02(long ClientApp, long lInstance, aMap& Data, ApplicationData& cryptApplication, long encryptionType)
-
- COMMENTS:  write Data formatted to TraceFile
-
- DATE:      19.04.2007
-
- AUTHOR:    MATERNA Information & Communications  (SteT)
-
----------------------------------------------------------------------------*/
-void ApplicationData::Crypt02(long ClientApp, long lInstance, aMap& Data, ApplicationData& cryptApplication, long encryptionType)
-{
-  requestFileAccess();
-  aObject TopicName;
-  long lTopicState;
-  TopicName = Data.get(DN_STOPIC);
-  lTopicState = getTopicState(TopicName);
-
-  std::string encrypted;
-  crypt.encrypt(encrypted, std::string(Data.get(DN_BDUMP).strObject(), Data.get(DN_BDUMP).count()));
-
-  if (lTopicState == TS_ACTIVE && cryptApplication.pTraceFile)
-  {
-    cryptApplication.pTraceFile->Dump
-    (
-      Data.get(DN_LDAY).numObject(),
-      Data.get(DN_LMONTH).numObject(),
-      Data.get(DN_LYEAR).numObject(),
-      Data.get(DN_LHOURS).numObject(),
-      Data.get(DN_LMINUTES).numObject(),
-      Data.get(DN_LSECONDS).numObject(),
-      Data.get(DN_LHUNDREDTHS).numObject(),
-      ApplicationName.strObject(),
-      lInstance,
-      lFileInstance,
-      Data.get(DN_SFILE).strObject(),
-      Data.get(DN_LLINE).numObject(),
-      Data.get(DN_SFUNCTION).strObject(),
-      encrypted.size(),
-      encrypted.c_str(),
-      Data.get(DN_SMODULE).strObject(),
-      Data.get(DN_STOPIC).strObject()
-    );
-  }
-  releaseFileAccess();
-
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void ApplicationData::MoveFile01(long ClientApp, long lInstance, aMap& Data, const char* pszPath)
-
- COMMENTS:  move file
-
- DATE:      09.08.2007
-
- AUTHOR:    MATERNA Information & Communications  (SteT)
-
----------------------------------------------------------------------------*/
-void ApplicationData::MoveFile01(long ClientApp, long lInstance, aMap& Data, const char* pszPath)
-{
-  requestFileAccess();
-  pTraceFile->MoveTraceFile
-  (
-    pszPath,
-    Data.get(DN_SPATH).strObject(),
-    ApplicationName.strObject(),
-    lInstance,
-    lFileInstance,
-    Data.get(DN_SMODULE).strObject()
-  );
-  releaseFileAccess();
-}
-
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  InstanceData::InstanceData(long lClientHandle, long lServerHandle, long lInstance, ApplicationData* pApplication)
-
- COMMENTS:
-
- DATE:      20.09.99
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-InstanceData::InstanceData(long lClientHandle, long lServerHandle, long lInstance, ApplicationData* pApplication)
-{
-  this->lClientHandle = lClientHandle;
-  this->lServerHandle = lServerHandle;
-  this->lInstance     = lInstance;
-  this->pApplication  = pApplication;
-  this->ModuleName    = UNDEFINED;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  InstanceData::InstanceData(long lClientHandle, long lServerHandle, long lInstance, ApplicationData* pApplication, const aObject& ModuleName);
-
- COMMENTS:
-
- DATE:      20.09.99
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-InstanceData::InstanceData(long lClientHandle, long lServerHandle, long lInstance, ApplicationData* pApplication, const aObject& ModuleName)
-{
-  this->lClientHandle = lClientHandle;
-  this->lServerHandle = lServerHandle;
-  this->lInstance     = lInstance;
-  this->pApplication  = pApplication;
-  this->ModuleName    = ModuleName;
-}
-
-
-/*************************************************************************************************
-      End Of File  ClientData.cpp
-************************************************************************************************/
-
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/src/ListTst.cpp b/SelfServiceCommon/Services/cpp/TrcServ/static/src/ListTst.cpp
deleted file mode 100644
index abc4c663..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/src/ListTst.cpp
+++ /dev/null
@@ -1,110 +0,0 @@
-#include "trcprtcl.h"
-#include "TrcRmt.h"
-#include <conio.h>
-#include <stdio.h>
-
-#ifndef __IBMCPP__
-#include <iostream>
-#else
-#include <iostream.h>
-#define std
-#endif
-
-class myListener: public Listener
-{
-  public:
-    myListener(const char* pszRemoteHost): Listener(pszRemoteHost){};
-    virtual void newEntry(aMap Data)
-    {
-      const char* pDump;
-      long lSize;
-      int i, j;
-      std::cout << getTypeName(Data.get(DN_LTYPE).numObject()) << " ";
-      std::cout << Data.get(DN_SMODULE).strObject() << "(";
-      std::cout << Data.get(DN_LINSTANCE).numObject() << "), ";
-      if (Data.get(DN_LDAY).getTag() == OBJ_NUM)
-      {
-        std::cout << "(";
-        std::cout << Data.get(DN_LDAY).numObject() << ".";
-        std::cout << Data.get(DN_LMONTH).numObject() << ".";
-        std::cout << Data.get(DN_LYEAR).numObject() << " ";
-        std::cout << Data.get(DN_LHOURS).numObject() << ":";
-        std::cout << Data.get(DN_LMINUTES).numObject() << ":";
-        std::cout << Data.get(DN_LSECONDS).numObject() << ",";
-        std::cout << Data.get(DN_LHUNDREDTHS).numObject() << ")";
-      }
-      if (Data.get(DN_SFILE).getTag() == OBJ_STR)
-      {
-        std::cout << Data.get(DN_SFILE).strObject() << "(";
-        std::cout << Data.get(DN_LLINE).numObject() << "), ";
-        std::cout << Data.get(DN_SFUNCTION).strObject() << ", ";
-      }
-      if (Data.get(DN_STOPIC).getTag() == OBJ_STR)
-        std::cout << Data.get(DN_STOPIC).strObject() << ", ";
-      std::cout << std::endl;
-
-      if (Data.get(DN_STEXT).getTag() == OBJ_STR)
-        std::cout << Data.get(DN_STEXT).strObject() << std::endl;
-
-      if (Data.get(DN_BDUMP).getTag() == OBJ_STR)
-      {
-        lSize= Data.get(DN_BDUMP).count();
-        pDump= Data.get(DN_BDUMP).strObject();
-        for(i = 0; i < lSize; i += 16)
-        {
-          printf("[%04x,%04d] ",i, i);
-
-          for(j = 0; j < 16 && (i+j) < lSize; j++)
-          {
-            if(j == 8)
-              printf("- %02x ", ((unsigned char*)pDump)[i+j]);
-            else
-              printf("%02x ", ((unsigned char*)pDump)[i+j]);
-          }
-
-          while(j < 16)
-          {
-            if(j == 8)
-              printf("     ");
-            else
-              printf("   ");
-            j++;
-          }
-
-          for(j = 0; j < 16 && (i+j) < lSize; j++)
-            printf("%c", (pDump[i+j] >= ' ') ? pDump[i+j]: '.', 1);
-
-          printf("\n");
-        }
-      }
-    }
-    virtual void connected()
-    {
-      std::cout << "connected" << std::endl;
-    }
-    virtual void disconnected()
-    {
-      std::cout << "disconnected" << std::endl;
-    }
-
-};
-
-
-void usage()
-{
-  std::cout << "Usage: ListTst Host" << std::endl;
-}
-
-int main(int argc, char** argv)
-{
-  if (argc != 2)
-    usage();
-  else
-  {
-    char* Buffer[10];
-    std::cout << "Press any key to Stop" << std::endl;
-    myListener ml(argv[1]);
-    _getch();
-  }
-  return 0;
-}
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/src/NT_ETC.CPP b/SelfServiceCommon/Services/cpp/TrcServ/static/src/NT_ETC.CPP
deleted file mode 100644
index 8b7dbe16..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/src/NT_ETC.CPP
+++ /dev/null
@@ -1,71 +0,0 @@
-// -------------------------------------------------------------------
-//
-// NT_ETC.CPP
-//
-// This module contains os dependent api functions
-//
-// Dr. Materna GmbH - JK - 1997
-//
-// -------------------------------------------------------------------
-
-#include "matOS.h"
-
-#include "windows.h"
-#include <stdlib.h>
-
-#define PRIVATE static
-
-PRIVATE PCBLONG ExitFunc;
-
-#if 0
-PRIVATE void APIENTRY _osExitHandler(long rc)
-{
-  (ExitFunc)(rc);
-  OS_ExitList(EXLST_EXIT,(PFNEXITLIST) _osExitHandler);
-}
-
-
-// sets the a program exit handler if not already done
-// the callback functions must be != NULL
-// returns FALSE on success
-long osExitHandler( PCBLONG p )
-{
-  if(!ExitFunc && p)
-  {
-    ExitFunc = p;
-    OS_ExitList(EXLST_ADD,(PFNEXITLIST) _osExitHandler);
-    return FALSE;
-  }
-  else return (long) ExitFunc;
-}
-
-#else
-
-long osExitHandler( PCBLONG )
-{
-   return 0;
-}
-
-#endif
-
-long osExit( long code )
-{
-   exit( code );
-   return 0;
-}
-
-long osSleep( long milliSeconds )
-{
-   Sleep( milliSeconds );
-   return 0;
-}
-
-
-long osBeep( long a, long b )
-{
-   return !Beep( a, b );
-}
-
-
-
-// end of file
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/src/NT_TIME.CPP b/SelfServiceCommon/Services/cpp/TrcServ/static/src/NT_TIME.CPP
deleted file mode 100644
index f3a1836c..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/src/NT_TIME.CPP
+++ /dev/null
@@ -1,41 +0,0 @@
-#include <windows.h>
-#include "matTime.H"
-
-long osGetDateTime        (PDATETIME   pDateTime)
-{
-static SYSTEMTIME systemtime;
-
-  GetLocalTime(&systemtime);
-
-  pDateTime->hours      = (UCHAR) systemtime.wHour;
-  pDateTime->minutes    = (UCHAR) systemtime.wMinute;
-  pDateTime->seconds    = (UCHAR) systemtime.wSecond;
-  pDateTime->hundredths = (UCHAR) (systemtime.wMilliseconds/10);
-  pDateTime->day        = (UCHAR) systemtime.wDay;
-  pDateTime->month      = (UCHAR) systemtime.wMonth;
-  pDateTime->year       = (USHORT)systemtime.wYear;
-  pDateTime->timezone   = (SHORT) 0;
-  pDateTime->weekday    = (UCHAR) systemtime.wDayOfWeek;
-
-  return 0;
-}
-
-long osSetDateTime        (PDATETIME   pDateTime)
-{
-static SYSTEMTIME systemtime;
-
-  memset(&systemtime,0,sizeof(SYSTEMTIME));
-
-  systemtime.wHour              = (WORD) pDateTime->hours;
-  systemtime.wMinute            = (WORD) pDateTime->minutes;
-  systemtime.wSecond            = (WORD) pDateTime->seconds;
-  systemtime.wMilliseconds      = (WORD) pDateTime->hundredths*10;
-  systemtime.wDay               = (WORD) pDateTime->day;
-  systemtime.wMonth             = (WORD) pDateTime->month;
-  systemtime.wYear              = (WORD) pDateTime->year;
-  systemtime.wDayOfWeek         = (WORD) pDateTime->weekday;
-
-  SetLocalTime(&systemtime);
-
-  return 0;
-}
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/src/NonCryptTrcServ.cpp b/SelfServiceCommon/Services/cpp/TrcServ/static/src/NonCryptTrcServ.cpp
deleted file mode 100644
index aa5f4019..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/src/NonCryptTrcServ.cpp
+++ /dev/null
@@ -1,3 +0,0 @@
-#define NON_CRYPTING_TRCSERV
-
-#include "trcserv.cpp"
\ No newline at end of file
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/src/TraceFile.cpp b/SelfServiceCommon/Services/cpp/TrcServ/static/src/TraceFile.cpp
deleted file mode 100644
index 287063f2..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/src/TraceFile.cpp
+++ /dev/null
@@ -1,965 +0,0 @@
-/****************************************************************************
-
- FILE:      traceFile.cpp
-
- PURPOSE:   multiple Generation file, with limited Size
-
- DATE:      20.09.99
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
- History:   14.03.00 ts: use delete[] for pszFileName
-            18.04.01 ts: use flush for flush
-            03.09.01 ts: do not create devices(in MS stat return != 0 for devices)
-            01.10.01 ts: check if the stream is open before closing it (MS)
-****************************************************************************/
-
-
-/***************************************************************************
-
-  Includes
-
-***************************************************************************/
-
-#include <ctype.h>
-#include <direct.h>
-#include <sys/stat.h>
-#include <stdio.h>
-#include <string.h>
-#include <fstream.h>
-#include <windows.h>
-
-#include "traceFile.h"
-
-/***************************************************************************
-
-  Constants
-
-***************************************************************************/
-
-#define ENDING   ".trc"
-#define NULLFILE "NULL.trc"
-#define NOTCASESENSITIVE
-#define cBackSlash '\\'
-#define szBackSlash "\\"
-
-/***************************************************************************
-
-  Exported Functions / Classes
-
-
-char *checkEnding(const char* pszFileName)
-
-
-class traceFile
-{
-    void checkPath();
-    int openNextGeneration(int newDay= 0);
-    int sameDay() const;
-  public:
-    long lMaxFileSize, lFileGenerations, lAppend;
-    ~traceFile();
-    int fitToFile(long lSize) const;
-    traceFile(const char* pszPath, const char* pszFileName, long lMaxFileSize, long lFileGenerations, long lAppend);
-    void setPath(const char* pszPath);
-    void setFileName(const char* pszFileName);
-    int openNewFile();
-    int reopen();
-    int openfile();
-    void close();
-    int write(const char* pszLine);
-    int write(const char* pBuffer, int iSize);
-    const char *getFileName() const;
-    void flush();
-
-}
-
-***************************************************************************/
-
-
-/***************************************************************************
-
-  Function/Classes Prototypes
-
-***************************************************************************/
-
-class _traceFile
-{
-  public:
-    ofstream out;
-    char *pszFileNameWoPath;
-    char *pszFileName;
-    char* pszPath;
-    int storeInDirectory;
-    SYSTEMTIME start;
-    _traceFile();
-    ~_traceFile();
-};
-
-static void FileNameWoEnding(char *pFileNameWoEnding, const char* pFileName);
-static void FileVersion(char *pFileVersion, long lVersion);
-static void checkPathName(char* pszPath);
-
-/***************************************************************************
-
-  Function Definition
-
-***************************************************************************/
-/*---------------------------------------------------------------------------
-
- FUNCTION:  _traceFile::_traceFile()
-
- COMMENTS:
-
- DATE:      20.09.99
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-_traceFile::_traceFile()
-{
-  pszFileName= 0;
-  pszFileNameWoPath= 0;
-  pszPath= 0;
-  storeInDirectory= 1;
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  _traceFile::~_traceFile()
-
- COMMENTS:
-
- DATE:      20.09.99
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-_traceFile::~_traceFile()
-{
-  if(pszFileName)
-    delete[] pszFileName;
-  if(pszFileNameWoPath)
-    delete[] pszFileNameWoPath;
-  if(pszPath)
-    delete[] pszPath;
-}
-/*---------------------------------------------------------------------------
-
-
- COMMENTS:
-
- DATE:      20.09.99
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-void traceFile::close()
-{
-  if (handle)
-  #ifndef __IBMCPP__
-    if (handle->out.is_open())
-  #endif
-      handle->out.close();
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void traceFile::checkPath()
-
- COMMENTS:  guarantee that the path for the FileName exists
-
- DATE:      20.09.99
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-
-void traceFile::checkPath()
-{
-  if (handle && handle->pszFileName)
-  {
-    checkPathName(handle->pszFileName);
-  }
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  int traceFile::reopen()
-
- COMMENTS:  open the file again
-
- DATE:      17.09.2001
-
- AUTHOR:    Materna Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-
-int traceFile::reopen()
-{
-  int result;
-  close();
-  if (handle && handle->pszFileName)
-  {
-    GetLocalTime(&(handle->start));
-    #ifndef __IBMCPP__
-    handle->out.open(handle->pszFileName, ios::app, filebuf::sh_read);
-    #else
-    handle->out.open(handle->pszFileName, ios::app);
-    #endif
-    result = handle->out.good();
-  }
-  else
-    result = 0;
-  return result;
-}
-
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  int traceFile::openFile()
-
- COMMENTS:  open a new file
-
- DATE:      20.09.99
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-
-int traceFile::openFile()
-{
-  int result;
-  if (!lAppend)
-    result = openNextGeneration();
-  else
-  {
-    close();
-    if (handle && handle->pszFileName)
-    {
-      GetLocalTime(&(handle->start));
-      #ifndef __IBMCPP__
-      handle->out.open(handle->pszFileName, ios::app, filebuf::sh_read);
-      #else
-      handle->out.open(handle->pszFileName, ios::app);
-      #endif
-      result = handle->out.good();
-    }
-    else
-      result = 0;
-  }
-  return result;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  int traceFile::openNewFile()
-
- COMMENTS:  open a new file
-
- DATE:      20.09.99
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-
-int traceFile::openNewFile()
-{
-  return openNextGeneration();
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  char *checkEnding(const char* pszFileName)
-
- COMMENTS:  guarantee that the filename has an ending
-
- DATE:      20.09.99
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-char *checkEnding(const char* pszFileName)
-{
-  const char *pFileName, *pEnd, *pPoint, *pBackslash;
-  char *result, *pPos;
-  result = 0;
-  pFileName = pszFileName;
-  if (!pFileName)
-  {
-    result = new char[strlen(NULLFILE) + 1];
-    if (result)
-      strcpy(result, NULLFILE);
-  }
-  else
-  {
-    pPoint = pBackslash = pEnd = pFileName;
-    while (*pEnd)
-    {
-      if (*pEnd == '.')
-        pPoint = pEnd;
-      else if (*pEnd == cBackSlash)
-        pBackslash = pEnd;
-      pEnd++;
-    }
-    if (pPoint <= pBackslash)
-    {
-      result = new char[pEnd - pFileName + sizeof(ENDING) + 1];
-      if (result)
-      {
-        strcpy(result, pFileName);
-        strcat(result, ENDING);
-      }
-    }
-    else
-    {
-      result = new char[pPoint - pFileName + sizeof(ENDING) + 1];
-      if (result)
-      {
-        strncpy(result, pFileName, pPoint - pFileName);
-        strcpy(result + (pPoint - pFileName), ENDING);
-      }
-    }
-  }
-  #ifdef NOTCASESENSITIVE
-  pPos = result;
-  if (pPos)
-  {
-    if (*pPos)
-      *pPos = toupper(*pPos);
-    pPos++;
-    while(*pPos)
-    {
-      *pPos = tolower(*pPos);
-      pPos++;
-    }
-
-  }
-  #endif
-  return result;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  char* fullName(const char* pszPath, const char* pszFileName);
-
- COMMENTS:  return a pointer to the FullFileName
-
- DATE:      20.09.99
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-char* fullName(const char* pszPath, const char* pszFileName)
-{
-  char *result= 0;
-  const char *pPos;
-  int iLength;
-  if (!pszFileName)
-    return 0;
-  if (pszPath && strlen(pszPath) > 0)
-  {
-    if (pszFileName[0] == cBackSlash)  // fileName starts with backslash, use drive(Path)+filename
-    {
-      pPos = pszPath;
-      while (*pPos && *pPos != ':')
-        pPos++;
-      if (*pPos == ':')
-      {
-        iLength = pPos - pszPath + strlen(pszFileName) + 2;
-        result = new char[iLength];
-        if (result)
-        {
-          strncpy(result, pszPath, pPos - pszPath + 1);
-          strcpy(result + (pPos - pszPath) + 1, pszFileName);
-        }
-      }
-      else  // no drive in Path use only filename
-      {
-        result = new char[strlen(pszFileName) + 1];
-        if (result)
-          strcpy(result, pszFileName);
-      }
-    }
-    else
-    {
-      pPos = pszFileName;
-      while (*pPos && *pPos != ':')
-        pPos++;
-      if (*pPos == ':')  // pszFileName describes drive, use filename
-      {
-        result = new char[strlen(pszFileName) + 1];
-        if (result)
-          strcpy(result, pszFileName);
-      }
-      else
-      {
-        pPos = pszPath;
-        while(*pPos)
-          pPos++;
-        if ((pPos > pszPath) && (*(pPos - 1) == cBackSlash))
-        {
-          iLength = strlen(pszPath) + strlen(pszFileName) + 1;
-          result = new char[iLength];
-          if (result)
-          {
-            strcpy(result, pszPath);
-            strcat(result, pszFileName);
-          }
-        }
-        else
-        {
-          iLength = strlen(pszPath) + strlen(pszFileName) + 2;
-          result = new char[iLength];
-          if (result)
-          {
-            strcpy(result, pszPath);
-            strcat(result, szBackSlash);
-            strcat(result, pszFileName);
-          }
-        }
-      }
-
-    }
-  }
-  else  // No Path => use only filename
-  {
-    result = new char[strlen(pszFileName) + 1];
-    if (result)
-      strcpy(result, pszFileName);
-  }
-  return result;
-}
-
-static void checkPathName(char* pszPath)
-{
-  char *pFileName;
-  char *pStart;
-  struct stat fileinfo;
-  if(pszPath)
-  {
-    pStart = pFileName = pszPath;
-    while(*pFileName)
-    {
-      if(*pFileName == cBackSlash)
-      {
-        *pFileName = 0;
-        if(stat(pStart, &fileinfo) != 0)
-        {
-          if(pFileName > pStart && *(pFileName-1) != ':')    // ts 03.09.2001 do not create devices(in MS stat return != 0 for devices)
-          {
-            if(mkdir(pStart) != 0)
-            {
-              *pFileName = cBackSlash;
-              break;        // directory does not exists and could not be created, do not continue
-            }
-          }
-        }
-        else if(!(fileinfo.st_mode && S_IFDIR))
-        {
-          *pFileName = cBackSlash;
-          break;          // is not a directory, could not continue
-        }
-        *pFileName = cBackSlash;
-      }
-      pFileName++;
-    }
-  }
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void FileNameWoEnding(char *pFileNameWoEnding, const char* pFileName)
-
- COMMENTS:  write pFileName without ending to pFileNameWoEnding
-
- DATE:      20.09.99
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-
-static void FileNameWoEnding(char *pFileNameWoEnding, const char* pFileName)
-{
-  const char *pPoint, *pPos;
-  if (!(pFileName && pFileNameWoEnding))
-    return;
-  pPoint = pPos = pFileName;
-  while (*pPos)
-  {
-    if (*pPos == '.')
-      pPoint = pPos;
-    pPos++;
-  }
-  if (*pPoint == '.')
-  {
-    strncpy(pFileNameWoEnding, pFileName, pPoint - pFileName);
-    pFileNameWoEnding[pPoint - pFileName] = 0;
-  }
-  else
-    strcpy(pFileNameWoEnding, pFileName);
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void FileVersion(char *pFileVersion, long lVersion)
-
- COMMENTS:  add lVersion-1 as Ending to pFileVersion
-
- DATE:      20.09.99
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-static void FileVersion(char *pFileVersion, long lVersion)
-{
-  char szEnding[5];
-  sprintf (szEnding, ".%03d", lVersion-1);
-  strcat(pFileVersion, szEnding);
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  int traceFile::storeGeneration(int append, int newDay= 0)
-
- COMMENTS:  open a new file, and save the old generations
-
- DATE:      20.09.99
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-void traceFile::storeGeneration(int append, int newDay)
-{
-  if(dateAsName)
-  {
-    const char *pFileName, *pEnd, *pPoint, *pBackslash;
-    pFileName= handle->pszFileNameWoPath;
-    char *pDest= new char[strlen(pFileName) + 1 + 20];
-    char time[64];
-    char date[64];
-    SYSTEMTIME now;
-    if(newDay == 0)
-    {
-      GetLocalTime(&now);
-      sprintf(time, "%04d%02d%02d_%02d%02d%02d_%04d",
-        now.wYear%10000,
-        now.wMonth,
-        now.wDay,
-        now.wHour,
-        now.wMinute,
-        now.wSecond,
-        now.wMilliseconds);
-    }
-    else
-    {
-      now= handle->start;
-      sprintf(time, "%04d%02d%02d_240000_0000",
-        now.wYear%10000,
-        now.wMonth,
-        now.wDay);
-    }
-    char *result;
-    //char *pPos;
-    result = 0;
-
-    //pFileName = handle->pszFileName;
-    pPoint = pBackslash = pEnd = pFileName;
-    while (*pEnd)
-    {
-      if (*pEnd == '.')
-        pPoint = pEnd;
-      else if (*pEnd == cBackSlash)
-        pBackslash = pEnd;
-      pEnd++;
-    }
-    if(pPoint < pBackslash)
-    {
-      strcpy(pDest, pFileName);
-      strcat(pDest, time);
-    }
-    else
-    {
-      strncpy(pDest, pFileName, pPoint-pFileName);
-      strcpy(pDest + (pPoint-pFileName), time);
-      strcat(pDest, pPoint);
-    }
-    if(handle->storeInDirectory)
-    {
-      sprintf(date, "%04d\\%02d\\%02d",
-        now.wYear%10000,
-        now.wMonth,
-        now.wDay);
-    }
-    else
-    {
-      date[0]= 0;
-    }
-
-    char* pDestPath= fullName(handle->pszPath, date);
-    char* pDestFile= fullName(pDestPath, pDest);
-    checkPathName(pDestFile);
-    if(rename(handle->pszFileName, pDestFile) != 0)
-    {
-      remove(handle->pszFileName);
-    }
-    delete[] pDest;
-    delete[] pDestPath;
-    delete[] pDestFile;
-  }
-  else if(!append)
-  {
-    long lVersion;
-    const char *pFileName;
-    char *pSrc, *pDest;
-    long lLengthWoEnding;
-
-    pFileName = handle->pszFileName;
-
-    if (pFileName)
-    {
-      lLengthWoEnding = strlen(pFileName) + 5; // plus .### plus terminating zero
-      pSrc = new char[lLengthWoEnding];
-      if (pSrc)
-      {
-        pDest = new char[lLengthWoEnding];
-        if (pDest)
-        {
-          FileNameWoEnding(pDest, pFileName);
-          lLengthWoEnding = strlen(pDest);
-          strcpy(pSrc, pDest);
-
-          lVersion = lFileGenerations;
-          if (lVersion > 1000)
-            lVersion = 1000;
-
-          if (lVersion > 0)
-          {
-            pDest[lLengthWoEnding] = 0;
-            FileVersion(pDest, lVersion);
-            remove (pDest);                          // remove last version
-
-            while (lVersion > 1)
-            {
-              lVersion--;
-              pSrc[lLengthWoEnding] = 0;
-              FileVersion(pSrc, lVersion);
-              rename (pSrc, pDest);       // rename Fileversions File.i => File.i+1
-              pDest[lLengthWoEnding] = 0;
-              FileVersion(pDest, lVersion);
-            }
-            rename (pFileName, pDest);
-            // here compress msDest
-          }
-          else
-            remove(pFileName);
-          delete[] pDest;
-        }
-        delete[] pSrc;
-      }
-    }
-  }
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  int traceFile::openNextGeneration(int newDay= 0)
-
- COMMENTS:  open a new file, and save the old generations
-
- DATE:      20.09.99
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-int traceFile::openNextGeneration(int newDay)
-{
-  int result;
-  close();
-  storeGeneration(0, newDay);
-  result = 0;
-  if (handle)
-  {
-    GetLocalTime(&(handle->start));
-    #ifndef __IBMCPP__
-    handle->out.open(handle->pszFileName, ios::app, filebuf::sh_read);
-    #else
-    handle->out.open(handle->pszFileName, ios::app);
-    #endif
-    result = handle->out.good();
-  }
-  return result;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  int traceFile::fitToFile(long lSize)
-
- COMMENTS:  check if lSize Bytes fit to file
-
- DATE:      20.09.99
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-int traceFile::fitToFile(long lSize) const
-{
-  int result;
-  result = 0;
-  if (handle)
-  {
-    if (handle->out.good())
-    {
-      if (handle->out.tellp() + lSize <= lMaxFileSize || handle->out.tellp() == 0)
-        result = 1;
-    }
-  }
-  return result;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  int traceFile::sameDay() const
-
- COMMENTS:  check if the the day has changed (since the file was opened)
-
- DATE:      14.07.2004
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-int traceFile::sameDay() const
-{
-  int result= 1;
-  if(dateAsName && handle)
-  {
-    SYSTEMTIME now;
-    GetLocalTime(&now);
-    if(now.wYear != handle->start.wYear
-      || now.wMonth != handle->start.wMonth
-      || now.wDay != handle->start.wDay)
-    {
-      result= 0;
-    }
-  }
-  return result;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  traceFile::~traceFile()
-
- COMMENTS:  close the traceFile
-
- DATE:      20.09.99
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-
-traceFile::~traceFile()
-{
-  if (handle)
-  {
-    close();
-    storeGeneration(1);
-    delete handle;
-  }
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  traceFile::traceFile(const char *pszFileName, long lMaxFileSize, long lFileGenerations, long lAppend, bool dateAsName)
-
- COMMENTS:  initialize the traceFile
-
- DATE:      20.09.99
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-traceFile::traceFile(const char* pszPath, const char *pszFileName, long lMaxFileSize, long lFileGenerations, long lAppend, int dateAsName)
-{
-  //long lLength;
-  this->lAppend = lAppend;
-  this->lFileGenerations = lFileGenerations;
-  this->lMaxFileSize = lMaxFileSize;
-  this->dateAsName= dateAsName;
-  lTag = 1;
-  handle = new _traceFile();
-  if (handle)
-  {
-    if(!dateAsName)
-    {
-      handle->pszFileNameWoPath = checkEnding(pszFileName);
-    }
-    else
-    {
-      handle->pszFileNameWoPath= new char[strlen(pszFileName) + 1];
-      strcpy(handle->pszFileNameWoPath, pszFileName);
-    }
-    handle->pszFileName = fullName(pszPath, handle->pszFileNameWoPath);
-    handle->pszPath = fullName(pszPath, "");
-  }
-  checkPath();
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void traceFile::setPath(const char* pszPath);
-
- COMMENTS:
-
- DATE:      20.09.99
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-void traceFile::setPath(const char* pszPath)
-{
-  if (handle)
-  {
-    char* oldName= handle->pszFileName;
-    handle->pszFileName = fullName(pszPath, handle->pszFileNameWoPath);
-    if (handle->pszPath)
-      delete[] handle->pszPath;
-    handle->pszPath = fullName(pszPath, "");
-    checkPath();
-    close();
-    if(rename(oldName, handle->pszFileName) != 0)
-    {
-      remove(handle->pszFileName);
-    }
-    reopen();
-    if (oldName)
-      delete[] oldName;
-  }
-}
-
-
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  int traceFile::write(const char* pszLine)
-
- COMMENTS:  write text to the file
-
- DATE:      20.09.99
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-int traceFile::write(const char* pszLine)
-{
-  int result;
-  long lSize;
-  result = 0;
-  if (pszLine)
-  {
-    lSize = strlen (pszLine);
-    result= write(pszLine, lSize);
-  }
-  return result;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void traceFile::flush()
-
- COMMENTS:
-
- DATE:      06.06.00
-
- AUTHOR:    MATERNA Information & Communications  (TS)
-
----------------------------------------------------------------------------*/
-void traceFile::flush()
-{
-  if (handle)
-  {
-    if (handle->out.good())
-    {
-      handle->out.flush();
-    }
-  }
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void traceFile::storePlace(int inDirectory);
-
- COMMENTS:
-
- DATE:      02.08.2007
-
- AUTHOR:    MATERNA Information & Communications  (SteT)
-
----------------------------------------------------------------------------*/
-void traceFile::storePlace(int inDirectory)
-{
-  if (handle)
-    handle->storeInDirectory= inDirectory;
-}
-
-
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  int traceFile::write(const char* pBuffer, int iSize)
-
- COMMENTS:  write buffer to the file
-
- DATE:      20.09.99
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-int traceFile::write(const char* pBuffer, int iSize)
-{
-  int result;
-  result = 0;
-  if (pBuffer)
-  {
-    if (handle)
-    {
-      if (handle->out.good() || openFile())  // if the file is not open, the file will be opened
-      {
-        // here: file was open or file was successfully opened
-        if(!fitToFile(iSize))
-        {
-          openNextGeneration();
-        }
-        else if(!sameDay())
-        {
-          openNextGeneration(1);
-        }
-        // here: line fits to file, or next file was opened
-        handle->out.write(pBuffer, iSize);
-        result = handle->out.good();
-      }
-    }
-  }
-  return result;
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  const char *traceFile::getFileName()
-
- COMMENTS:
-
- DATE:      20.09.99
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-const char *traceFile::getFileName() const
-{
-  if (handle)
-    return handle->pszFileNameWoPath;
-  else
-    return 0;
-}
-
-/*************************************************************************************************
-      End Of File  traceFile.cpp
-************************************************************************************************/
-
-
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/src/Tracedll.cpp b/SelfServiceCommon/Services/cpp/TrcServ/static/src/Tracedll.cpp
deleted file mode 100644
index 0d719e0a..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/src/Tracedll.cpp
+++ /dev/null
@@ -1,748 +0,0 @@
-/****************************************************************************
-
- FILE:      Tracedll.cpp
-
- PURPOSE:   sending traces to TraceService
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
- HISTORY:   20.09.1999 1.0.0 ts initial coding
-                       1.0.1 ts sleep time expanded to 1 ms
-                       1.0.2 ts sleep a while when init return an error
-                       1.0.3 ts CXRC_WRONG_HANDLE
-            19.05.2000 2.0.0 ts use only one cxHandle per Client
-            06.06.2000 2.0.1 ts closeTrace()
-            15.09.2000 2.0.2 ts createError
-            15.08.2001 2.1.0 ts do not use matBaseNt.lib
-            30.08.2001 2.1.1 ts buffer traces
-            22.10.2001 2.1.2 ts added openTraceSLT/Init03 for short life time processes => server sends no message to client
-            11.12.2001 2.1.3 ts wrtTrace and wrtTraceForTopic replace writeTrace and writeTraceForTopic(wrong calling convention used)
-            29.07.2002 2.1.4 ts error in readCmdNewFile01, readCmdTopicState01 removed
-            19.12.2002 2.1.5 ts instruct the linker to load the floating-point support module
-            20.04.2004 2.1.6 ts client send traces to debugview
-            23.08.2006 2.1.7 ts crash at high load
-            04.01.2007 2.1.8 SteT Absturz vom TrcServ (Invalid Handle)
-            19.04.2007 2.1.9 SteT EDB 27092: close in der Trace DLL soll warten, dass das schliessen erfolgreich war (max. 2 Sekunden)
-            19.04.2007 2.1.10 SteT EDB 27417: Kreditkartendaten sollen nicht als plain Text im Trace erscheinen
-            09.08.2007 2.1.13 SteT EDB 27738: TrcServ support move method
-            26.09.2007 2.1.17 SteT EDB 27828: bugfix access violation in string handling
-
-****************************************************************************/
-
-
-/***************************************************************************
-
-  Includes
-
-***************************************************************************/
-
-#include <string.h>
-#include <stdarg.h>
-#include <stdio.h>
-#include <windows.h>
-
-#ifndef __IBMCPP__
-#include <iostream>
-#else
-#include <iostream.h>
-#define std
-#endif
-
-
-#include "CXAPI.H"
-#include "SapiOS.H"
-#include "Mutex.hpp"
-#include "Asso.h"
-#include "Version.h"
-
-#include "TrcExp.h"
-#include "TrcClt.h"
-#include "Traceclt.h"
-
-/***************************************************************************
-
-  Defines
-
-***************************************************************************/
-
-
-VERSION_ID_DT( 02, 01, 17 );
-
-#ifdef _WIN32      // WIN9x/NT section
-#ifdef _MSC_VER    // MSVC     subsection
-#define _Optlink
-#endif // _MSC_VER
-#endif // _WIN32
-
-
-/***************************************************************************
-
-  Exported Functions
-
-
-
-  void _stdcall openTrace(CX_CONSTSTR pszApplication);
-// 22.10.2001 2.1.2 ts added openTraceSLT/Init03 for short life time processes => server sends no message to client
-  void _stdcall openTraceSLT(CX_CONSTSTR pszApplication);
-  void _stdcall closeTrace();
-  long _stdcall writeTrace(long lTraceLevel, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, CX_CONSTSTR pszFormat, ...);
-  long _cdecl   wrtTrace(long lTraceLevel, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, CX_CONSTSTR pszFormat, ...);
-  long _stdcall writeTraceText(long lTraceLevel, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, CX_CONSTSTR pszText);
-  long _stdcall dumpTrace(long lTraceLevel, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, long lDumpSize, CX_CONSTSTR pDump);
-  long _stdcall startNewTraceFile(long lTraceLevel);
-  long _stdcall writeTraceTextForTopic(CX_CONSTSTR pszTopic, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, CX_CONSTSTR pszText);
-  long _stdcall writeTraceForTopic(CX_CONSTSTR pszTopic, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, CX_CONSTSTR pszFormat,...);
-  long _cdecl   wrtTraceForTopic(CX_CONSTSTR pszTopic, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, CX_CONSTSTR pszFormat,...);
-  long _stdcall dumpTraceForTopic(CX_CONSTSTR pszTopic, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, long lDumpSize, CX_CONSTSTR pDump);
-  long _stdcall startNewTraceFileForTopic(CX_CONSTSTR pszTopic);
-
-  long _stdcall cryptTrace(long lTraceLevel, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, long lDumpSize, CX_CONSTSTR pDump);
-  long _stdcall cryptTraceForTopic(CX_CONSTSTR pszTopic, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, long lDumpSize, CX_CONSTSTR pDump);
-  long _stdcall moveTrace(CX_CONSTSTR pszPath);
-
-
-***************************************************************************/
-
-
-/***************************************************************************
-
-  Function / Classes ProtoTypes
-
-***************************************************************************/
-
-// unsigned long __stdcall _DLL_InitTerm( HINSTANCE hModule, DWORD ul_reason_for_call, LPVOID lpReserved);
-void _Optlink cleanup();
-
-
-class __TraceClient
-{
-    mutexSemaphore Access;
-  public:
-    TraceClient *Trace;
-    __TraceClient()
-    {
-      Trace = 0;
-      Trace = new TraceClient();
-      // some one should call close
-      // but not atexit, because close may start a new thread
-      // atexit(cleanup);
-    }
-    ~__TraceClient()
-    {
-      // and not the destructor of a global variable, because close may start a new thread
-      //close();
-    }
-    void close()
-    {
-      request();
-      if(Trace)
-        delete Trace;
-      Trace= 0;
-      release();
-    }
-    void open()
-    {
-      request();
-      if(!Trace)
-        Trace = new TraceClient();
-      release();
-    }
-    void request()
-    {
-      Access.request();
-    }
-    void release()
-    {
-      Access.release();
-    }
-};
-
-/***************************************************************************
-
-  Global Variables
-
-***************************************************************************/
-
-
-// TraceO will created at load time => TraceO->Trace will be created at load time
-// but TraceO->Trace will be destroyed by cleanup before _DLL_InitTerm is called and any static variables are freed
-// because the destructor needs the threads started by CXAPI
-static __TraceClient TraceO;
-static float float_support= 1.0;  // instruct the linker to load the floating-point support module
-
-/***************************************************************************
-
-  Function Definition
-
-***************************************************************************/
-
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  unsigned long __stdcall _DLL_InitTerm( HINSTANCE hModule, DWORD ul_reason_for_call, LPVOID lpReserved)
-
- COMMENTS:  Init and Deinit lokal variable
-
- DATE:      30.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-/*
-unsigned long __stdcall _DLL_InitTerm( HINSTANCE hModule,
-                        DWORD ul_reason_for_call,
-                        LPVOID lpReserved )
-{
-    switch( ul_reason_for_call ) {
-    case DLL_PROCESS_ATTACH:
-      if(!TraceO.Trace)
-        TraceO.open();
-      break;
-    case DLL_THREAD_ATTACH:
-      break;
-    case DLL_THREAD_DETACH:
-      break;
-    case DLL_PROCESS_DETACH:
-      cout << "Detach ..." << endl;
-      if(TraceO.Trace)
-      {
-        delete TraceO.Trace;
-        TraceO.Trace = 0;
-      }
-      cout << "Detach done" << endl;
-
-      break;
-    }
-    return TRUE;
-}
-*/
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void _Optlink cleanup()
-
- COMMENTS:  called atexit to close connections, before
-
- DATE:      30.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-void _Optlink cleanup()
-{
-  TraceO.close();
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void _stdcall openTrace(CX_CONSTSTR pszApplication)
-
- COMMENTS:  initialize traceclient
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-
-void _stdcall openTrace(CX_CONSTSTR pszApplication)
-{
-  TraceO.request();
-  if(!TraceO.Trace)
-    TraceO.open();
-  if(TraceO.Trace)
-  {
-    if (pszApplication == 0)
-      TraceO.Trace->openTrace();
-    else
-      TraceO.Trace->openTrace(pszApplication);
-  }
-  TraceO.release();
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void _stdcall openTraceSLT(CX_CONSTSTR pszApplication)
-
- COMMENTS:  initialize traceclient
-             short life time processes => server sends no message to client
-
- DATE:      22.10.2001
-
- AUTHOR:    MATERNA Information & Communications  (TS)
----------------------------------------------------------------------------*/
-
-void _stdcall openTraceSLT(CX_CONSTSTR pszApplication)
-{
-  TraceO.request();
-  if(!TraceO.Trace)
-    TraceO.open();
-  if(TraceO.Trace)
-  {
-    if (pszApplication == 0)
-      TraceO.Trace->openTrace(1);
-    else
-      TraceO.Trace->openTrace(pszApplication, 1);
-  }
-  TraceO.release();
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void _stdcall closeTrace()
-
- COMMENTS:  cleanup traceclient
-
- DATE:      06.06.2000
-
- AUTHOR:    MATERNA Information & Communications  (TS)
-
----------------------------------------------------------------------------*/
-
-void _stdcall closeTrace()
-{
-  TraceO.close();
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long _stdcall writeTraceText(long lTraceLevel, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, CX_CONSTSTR pszText)
-
- COMMENTS:  trace text
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-long _stdcall writeTraceText(long lTraceLevel, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, CX_CONSTSTR pszText)
-{
-  long result;
-  TraceO.request();
-  if(!TraceO.Trace)
-    TraceO.open();
-  if(TraceO.Trace)
-    result = TraceO.Trace->writeText(lTraceLevel, pszFile, sLine, pszFunction, pszText);
-  else
-    result = TRC_ERROR;
-  TraceO.release();
-  return result;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long _stdcall writeTrace(long lTraceLevel, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, CX_CONSTSTR pszFormat, ...)
-
- COMMENTS:  trace text
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-long _stdcall writeTrace(long lTraceLevel, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, CX_CONSTSTR pszFormat, ...)
-{
-  long result;
-  va_list   arg_ptr;
-  char String[4096];
-
-  /* get pointer to first argument */
-  va_start( arg_ptr, pszFormat);
-
-  _vsnprintf(String, sizeof(String), pszFormat, arg_ptr);
-  String[sizeof(String)-1]= 0;
-
-  va_end( arg_ptr);
-
-  TraceO.request();
-  if(!TraceO.Trace)
-    TraceO.open();
-  if(TraceO.Trace)
-    result = TraceO.Trace->writeText( lTraceLevel, pszFile, sLine, pszFunction, String);
-  else
-    result = TRC_ERROR;
-  TraceO.release();
-
-
-  return result;
-
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long _cdecl wrtTrace(long lTraceLevel, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, CX_CONSTSTR pszFormat, ...)
-
- COMMENTS:  trace text
-
- DATE:      11.12.2001
-
- AUTHOR:    MATERNA Information & Communications  (TS)
-
----------------------------------------------------------------------------*/
-long _cdecl wrtTrace(long lTraceLevel, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, CX_CONSTSTR pszFormat, ...)
-{
-  long result;
-  va_list   arg_ptr;
-  char String[4096];
-
-  /* get pointer to first argument */
-  va_start( arg_ptr, pszFormat);
-
-  _vsnprintf(String, sizeof(String), pszFormat, arg_ptr);
-  String[sizeof(String)-1]= 0;
-
-  va_end( arg_ptr);
-
-  TraceO.request();
-  if(!TraceO.Trace)
-    TraceO.open();
-  if(TraceO.Trace)
-    result = TraceO.Trace->writeText( lTraceLevel, pszFile, sLine, pszFunction, String);
-  else
-    result = TRC_ERROR;
-  TraceO.release();
-
-
-  return result;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long _stdcall dumpTrace(long lTraceLevel, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, long lDumpSize, CX_CONSTSTR pDump)
-
- COMMENTS:  trace dump
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-long _stdcall dumpTrace(long lTraceLevel, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, long lDumpSize, CX_CONSTSTR pDump)
-{
-  long result;
-  TraceO.request();
-  if(!TraceO.Trace)
-    TraceO.open();
-  if(TraceO.Trace)
-    result = TraceO.Trace->writeDump(lTraceLevel, pszFile, sLine, pszFunction, lDumpSize, pDump);
-  else
-    result = TRC_ERROR;
-  TraceO.release();
-
-  return result;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long _stdcall startNewTraceFile(long lTraceLevel)
-
- COMMENTS:  start new files
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-long _stdcall startNewTraceFile(long lTraceLevel)
-{
-  long result;
-  TraceO.request();
-  if(!TraceO.Trace)
-    TraceO.open();
-  if(TraceO.Trace)
-    result = TraceO.Trace->NewFile(lTraceLevel);
-  else
-    result = TRC_ERROR;
-  TraceO.release();
-  return result;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long _stdcall writeTraceTextForTopic(CX_CONSTSTR pszTopic, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, CX_CONSTSTR pszText)
-
- COMMENTS:  trace text
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-long _stdcall writeTraceTextForTopic(CX_CONSTSTR pszTopic, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, CX_CONSTSTR pszText)
-{
-  long result;
-  TraceO.request();
-  if(!TraceO.Trace)
-    TraceO.open();
-  if(TraceO.Trace)
-    result = TraceO.Trace->writeText(pszTopic, pszFile, sLine, pszFunction, pszText);
-  else
-    result = TRC_ERROR;
-  TraceO.release();
-  return result;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long _stdcall writeTraceForTopic(CX_CONSTSTR pszTopic, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, CX_CONSTSTR pszFormat, ...)
-
- COMMENTS:  trace text
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-long _stdcall writeTraceForTopic(CX_CONSTSTR pszTopic, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, CX_CONSTSTR pszFormat, ...)
-{
-  long result;
-  va_list   arg_ptr;
-  char String[4096];
-
-  /* get pointer to first argument */
-  va_start( arg_ptr, pszFormat);
-
-  _vsnprintf(String, sizeof(String), pszFormat, arg_ptr);
-  String[sizeof(String)-1]= 0;
-
-  va_end( arg_ptr);
-
-  TraceO.request();
-  if(!TraceO.Trace)
-    TraceO.open();
-  if(TraceO.Trace)
-    result = TraceO.Trace->writeText(pszTopic, pszFile, sLine, pszFunction, String);
-  else
-    result = TRC_ERROR;
-  TraceO.release();
-
-  return result;
-
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long _cdecl wrtTraceForTopic(CX_CONSTSTR pszTopic, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, CX_CONSTSTR pszFormat, ...)
-
- COMMENTS:  trace text
-
- DATE:      11.12.2001
-
- AUTHOR:    MATERNA Information & Communications  (TS)
-
----------------------------------------------------------------------------*/
-long _cdecl wrtTraceForTopic(CX_CONSTSTR pszTopic, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, CX_CONSTSTR pszFormat, ...)
-{
-  long result;
-  va_list   arg_ptr;
-  char String[4096];
-
-  /* get pointer to first argument */
-  va_start( arg_ptr, pszFormat);
-
-  _vsnprintf(String, sizeof(String), pszFormat, arg_ptr);
-  String[sizeof(String)-1]= 0;
-
-  va_end( arg_ptr);
-
-  TraceO.request();
-  if(!TraceO.Trace)
-    TraceO.open();
-  if(TraceO.Trace)
-    result = TraceO.Trace->writeText(pszTopic, pszFile, sLine, pszFunction, String);
-  else
-    result = TRC_ERROR;
-  TraceO.release();
-
-  return result;
-
-}
-
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long _stdcall dumpTraceForTopic(CX_CONSTSTR pszTopic, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, long lDumpSize, CX_CONSTSTR pDump)
-
- COMMENTS:  trace dump
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-long _stdcall dumpTraceForTopic(CX_CONSTSTR pszTopic, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, long lDumpSize, CX_CONSTSTR pDump)
-{
-  long result;
-  TraceO.request();
-  if(!TraceO.Trace)
-    TraceO.open();
-  if(TraceO.Trace)
-    result = TraceO.Trace->writeDump(pszTopic, pszFile, sLine, pszFunction, lDumpSize, pDump);
-  else
-    result = TRC_ERROR;
-  TraceO.release();
-  return result;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long _stdcall startNewTraceFileForTopic(CX_CONSTSTR pszTopic)
-
- COMMENTS:  start new files
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-long _stdcall startNewTraceFileForTopic(CX_CONSTSTR pszTopic)
-{
-  long result;
-  TraceO.request();
-  if(!TraceO.Trace)
-    TraceO.open();
-  if(TraceO.Trace)
-    result = TraceO.Trace->NewFile(pszTopic);
-  else
-    result = TRC_ERROR;
-  TraceO.release();
-  return result;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long _stdcall cryptTrace(long lTraceLevel, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, long lDumpSize, CX_CONSTSTR pDump)
-
- COMMENTS:  trace encrypted
-
- DATE:      19.04.2007
-
- AUTHOR:    MATERNA Information & Communications  (SteT)
-
----------------------------------------------------------------------------*/
-long _stdcall cryptTrace(long lTraceLevel, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, long lDumpSize, CX_CONSTSTR pDump)
-{
-  long result;
-  TraceO.request();
-  if(!TraceO.Trace)
-    TraceO.open();
-  if(TraceO.Trace)
-    result = TraceO.Trace->cryptTrace(lTraceLevel, pszFile, sLine, pszFunction, lDumpSize, pDump);
-  else
-    result = TRC_ERROR;
-  TraceO.release();
-
-  return result;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long _stdcall cryptTraceForTopic(CX_CONSTSTR pszTopic, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, long lDumpSize, CX_CONSTSTR pDump)
-
- COMMENTS:  trace encrypted
-
- DATE:      19.04.2007
-
- AUTHOR:    MATERNA Information & Communications  (SteT)
-
----------------------------------------------------------------------------*/
-long _stdcall cryptTraceForTopic(CX_CONSTSTR pszTopic, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, long lDumpSize, CX_CONSTSTR pDump)
-{
-  long result;
-  TraceO.request();
-  if(!TraceO.Trace)
-    TraceO.open();
-  if(TraceO.Trace)
-    result = TraceO.Trace->cryptTrace(pszTopic, pszFile, sLine, pszFunction, lDumpSize, pDump);
-  else
-    result = TRC_ERROR;
-  TraceO.release();
-  return result;
-}
-
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long _stdcall move(CX_CONSTSTR pszPath)
-
- COMMENTS:  move file
-
- DATE:      09.08.2007
-
- AUTHOR:    MATERNA Information & Communications  (SteT)
-
----------------------------------------------------------------------------*/
-long _stdcall moveTrace(CX_CONSTSTR pszPath)
-{
-  long result;
-  TraceO.request();
-  if(!TraceO.Trace)
-    TraceO.open();
-  if(TraceO.Trace)
-    result = TraceO.Trace->moveTraceFile(pszPath);
-  else
-    result = TRC_ERROR;
-  TraceO.release();
-  return result;
-}
-
-
-/*
----------------------------------------------------------------------------
-
- FUNCTION:  long _stdcall traceTrack(long lTraceLevel, CX_CONSTSTR pszFile, short sLine, CX_CONSTSTR pszFunction, long trackid, CX_CONSTSTR pszTrack)
-
- COMMENTS:  trace credit card track
-
- DATE:      20.09.2007
-
- AUTHOR:    MATERNA Information & Communications  (SteT)
-
----------------------------------------------------------------------------
-*/
-long _stdcall traceTrack(long lTraceLevel, CX_CONSTSTR pszFile, short sLine, CX_CONSTSTR pszFunction, long trackid, CX_CONSTSTR pszTrack)
-{
-  long result;
-  TraceO.request();
-  if(!TraceO.Trace)
-    TraceO.open();
-  if(TraceO.Trace)
-    result = TraceO.Trace->traceTrack(lTraceLevel, pszFile, sLine, pszFunction, trackid, pszTrack);
-  else
-    result = TRC_ERROR;
-  TraceO.release();
-  return result;
-}
-
-
-/*
----------------------------------------------------------------------------
-
- FUNCTION:  long _stdcall traceTrackForTopic(CX_CONSTSTR pszTopic, CX_CONSTSTR pszFile, short sLine, CX_CONSTSTR pszFunction, long trackid, CX_CONSTSTR pszTrack)
-
- COMMENTS:  trace credit card track
-
- DATE:      20.09.2007
-
- AUTHOR:    MATERNA Information & Communications  (SteT)
-
----------------------------------------------------------------------------
-*/
-long _stdcall traceTrackForTopic(CX_CONSTSTR pszTopic, CX_CONSTSTR pszFile, short sLine, CX_CONSTSTR pszFunction, long trackid, CX_CONSTSTR pszTrack)
-{
-  long result;
-  TraceO.request();
-  if(!TraceO.Trace)
-    TraceO.open();
-  if(TraceO.Trace)
-    result = TraceO.Trace->traceTrack(pszTopic, pszFile, sLine, pszFunction, trackid, pszTrack);
-  else
-    result = TRC_ERROR;
-  TraceO.release();
-  return result;
-}
-
-/*************************************************************************************************
-      End Of File  Tracedll.cpp
-************************************************************************************************/
-
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/src/TrcCfg.cpp b/SelfServiceCommon/Services/cpp/TrcServ/static/src/TrcCfg.cpp
deleted file mode 100644
index e8e2a459..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/src/TrcCfg.cpp
+++ /dev/null
@@ -1,1903 +0,0 @@
-/****************************************************************************
-
- FILE:      TrcCfgMassai.cpp
-
- PURPOSE:   Configuation for TraceService
-
- DATE:      29.08.2002
-
- AUTHOR:    2001-2002 MATERNA Information & Communications
-
-****************************************************************************/
-
-
-
-/***************************************************************************
-
-  Includes
-
-***************************************************************************/
-
-#include <iostream>
-#include <string>
-#include <algorithm>
-
-#include "Asso.h"
-
-#include "TrcCfg.h"
-#include "CltData.h"
-#include "TrcServ.h"
-#include "TrcPrtcl.h"
-
-#include "nConfigText.hpp"
-#include "nConfigNumber.hpp"
-#include "nConfigSelection.hpp"
-
-#include "Mutex.hpp"
-#include "eventSem.hpp"
-#include "sapiOS.H"
-#include <list>
-
-
-/***************************************************************************
-
-  Defines
-
-***************************************************************************/
-
-#define AUTHORIZATION          "TrcServ"
-
-#define SECTION                "TRACES"
-
-#define ENCRYPTIONNO           nConfig::selection(0, "No",                "Do not store")
-#define ENCRYPTIONDES          nConfig::selection(1, "DES",               "DES-EDE2")
-#define ENCRYPTIONITEM         "Encryption"
-#define ENCRYPTIONSHORTD       "Encryption Type"
-#define ENCRYPTIONLONGD        "Encryption type, determines how the traces are encrypted"
-#define ENCRYPTIONDEFAULT      0
-static const nConfig::selection ENCRYPTIONLIST[] = {ENCRYPTIONNO, ENCRYPTIONDES};
-#define ENCRYPTIONBEGIN        ENCRYPTIONLIST
-#define ENCRYPTIONEND          (ENCRYPTIONLIST + 2)
-
-#define FILEITEM               "TraceFile"
-#define FILESHORTD             "Trace file"
-#define FILELONGD              "The traces are stored in this file"
-#define FILEMAX                255
-
-#define DIRITEM                "TraceDirectory"
-#define DIRSHORTD              "Trace directory"
-#define DIRLONGD               "The trace files are stored in this directory"
-#define DIRDEFAULT             "trc"
-#define DIRMAX                 255
-
-#define LEVELNO                nConfig::selection(0, "No",                "No")
-#define LEVELMAJORERROR        nConfig::selection(1, "MajorError",        "Serious Errors - highest priority")
-#define LEVELMINORERROR        nConfig::selection(2, "MinorError",        "Less serious Errors")
-#define LEVELMAJORWARNING      nConfig::selection(3, "MajorWarning",      "General warnings of higher priority")
-#define LEVELMINORWARNING      nConfig::selection(4, "MinorWarning",      "General warnings of lower priority")
-#define LEVELBASICRUNTIME      nConfig::selection(5, "BasicRuntime",      "Basic runtime information")
-#define LEVELBASICPROCESS      nConfig::selection(6, "BasicProcess",      "Including process data")
-#define LEVELSECONDRUNTIME     nConfig::selection(7, "SecondaryRuntime",  "Secondary runtime information")
-#define LEVELSECONDFREQUENT    nConfig::selection(8, "SecondaryFrequent", "Including polling of events")
-#define LEVELALL               nConfig::selection(9, "All",               "All")
-#define LEVELITEM              "TraceLevel"
-#define LEVELSHORTD            "Trace level"
-#define LEVELLONGD             "Trace level, determines which traces are stored"
-#define LEVELDEFAULT           4
-static const nConfig::selection LEVELLIST[] = {LEVELNO, LEVELMAJORERROR, LEVELMINORERROR, LEVELMAJORWARNING, LEVELMINORWARNING, LEVELBASICRUNTIME, LEVELBASICPROCESS, LEVELSECONDRUNTIME, LEVELSECONDFREQUENT, LEVELALL};
-#define LEVELBEGIN             LEVELLIST
-#define LEVELEND               (LEVELLIST + 10)
-
-#define MAXITEM                "MaxFileSize"
-#define MAXSHORTD              "Maximal file size in byte"
-#define MAXLONGD               "Maximal size of the tracefile in byte"
-#define MAXDEFAULT             2000000
-#define MAXMIN                 1
-#define MAXMAX                 0x7FFFFFFF
-
-#define MASKITEM                "TraceMask"
-#define MASKSHORTD              "Trace mask"
-#define MASKLONGD               "Trace mask determines which traces are stored"
-#define MASKDEFAULT             0x7FFFFFFF
-#define MASKMIN                 0
-#define MASKMAX                 0x7FFFFFFF
-
-#define GENERATIONSITEM        "Generations"
-#define GENERATIONSSHORTD      "Number of generations to backup"
-#define GENERATIONSLONGD       "Maximal number of generations of the tracefile to backup"
-#define GENERATIONSDEFAULT     9
-#define GENERATIONSMIN         0
-#define GENERATIONSMAX         1000
-
-#define APPENDFALSE            nConfig::selection(0,"No","Disabled")
-#define APPENDTRUE             nConfig::selection(1,"Yes","Enabled")
-#define APPENDITEM             "AppendTrace"
-#define APPENDSHORTD           "Append the traces to the old trace file"
-#define APPENDLONGD            "Append the traces to the old trace file"
-#define APPENDDEFAULT          1
-static const nConfig::selection APPENDLIST[] = {APPENDFALSE, APPENDTRUE};
-#define APPENDBEGIN            APPENDLIST
-#define APPENDEND              (APPENDLIST + 2)
-
-#define LEVMASKFALSE           nConfig::selection(0,"No","TraceLevel")
-#define LEVMASKTRUE            nConfig::selection(1,"Yes","TraceMask")
-#define LEVMASKITEM            "UseMask"
-#define LEVMASKSHORTD          "Use TraceMask instead of TraceLevel"
-#define LEVMASKLONGD           "Use TraceMask instead of TraceLevel to determine which traces are stored."
-#define LEVMASKDEFAULT          0
-static const nConfig::selection LEVMASKLIST[] = {LEVMASKFALSE, LEVMASKTRUE};
-#define LEVMASKBEGIN            LEVMASKLIST
-#define LEVMASKEND              (LEVMASKLIST + 2)
-
-#define TOPICFALSE             nConfig::selection(TS_INACTIVE, "Inactive","Ignore Traces")
-#define TOPICTRUE              nConfig::selection(TS_ACTIVE, "Active","Store Traces")
-#define TOPICSHORTD            "Topic"
-#define TOPICLONGD             "Traces for this topic are only stored if the topic is active."
-#define TOPICDEFAULT           1
-static const nConfig::selection TOPICLIST[] = {TOPICFALSE, TOPICTRUE};
-#define TOPICBEGIN             TOPICLIST
-#define TOPICEND               (TOPICLIST + 2)
-
-#define EXTENDEDFALSE           nConfig::selection(0,"No","Standard Trace")
-#define EXTENDEDTRUE            nConfig::selection(1,"Yes","Extended Trace")
-#define EXTENDEDITEM            "Extended"
-#define EXTENDEDSHORTD          "Use extended trace format"
-#define EXTENDEDLONGD           "Use extended trace format"
-#define EXTENDEDDEFAULT         0
-static const nConfig::selection EXTENDEDLIST[] = {EXTENDEDFALSE, EXTENDEDTRUE};
-#define EXTENDEDBEGIN           EXTENDEDLIST
-#define EXTENDEDEND             (EXTENDEDLIST + 2)
-
-#define SHORTFALSE           nConfig::selection(0,"No","Standard Line")
-#define SHORTTRUE            nConfig::selection(1,"Yes","Short Line")
-#define SHORTITEM            "ShortLine"
-#define SHORTSHORTD          "Use short line format"
-#define SHORTLONGD           "Use short line format"
-#define SHORTDEFAULT         1
-static const nConfig::selection SHORTLIST[] = {SHORTFALSE, SHORTTRUE};
-#define SHORTBEGIN           SHORTLIST
-#define SHORTEND             (SHORTLIST + 2)
-
-#define WIDTHITEM                "MaxLineSize"
-#define WIDTHSHORTD              "Maximal length of a line"
-#define WIDTHLONGD               "Maximal length of a line in the trace file"
-#define WIDTHDEFAULT             80
-#define WIDTHMIN                 48
-#define WIDTHMAX                 0x7FFFFFFF
-
-
-/***************************************************************************
-
-  Exported Functions
-
-    Encryption::Encryption(const char *pszApplication, TraceService* Owner);
-    const char* Encryption::currentValue();
-    virtual void Encryption::valueChanged();
-    virtual void Encryption::notify();
-    virtual void Encryption::create(char const*& Rights, char const*& Explanation, long& DefaultIndex, nConfig::selection const*& Begin, nConfig::selection const*& End)
-
-    TraceDirectory::TraceDirectory(const char *pszApplication, TraceService* Owner);
-    const char* TraceDirectory::currentValue();
-    virtual void TraceDirectory::valueChanged();
-    virtual void TraceDirectory::notify();
-    virtual void TraceDirectory::create(char const*& Rights, char const*& Explanation, char const*& Default, long &Max);
-
-    FileName::FileName(const char *pszApplication, ApplicationData* Owner, const char* szPath);
-    const char* FileName::currentValue();
-    virtual void FileName::valueChanged();
-    virtual void FileName::notify();
-    virtual void FileName::create(char const*& Rights, char const*& Explanation, char const*& Default, long &Max);
-
-    TraceLevel::TraceLevel(const char *pszApplication, ApplicationData* Owner);
-    SelectionValue TraceLevel::currentValue();
-    virtual void TraceLevel::valueChanged();
-    virtual void TraceLevel::notify();
-    virtual void TraceLevel::create(char const*& Rights, char const*& Explanation, long& DefaultIndex, nConfig::selection const*& Begin, nConfig::selection const*& End);
-
-    MaxFileSize::MaxFileSize(const char *pszApplication, ApplicationData* Owner);
-    long MaxFileSize::currentValue();
-    virtual void MaxFileSize::valueChanged();
-    virtual void MaxFileSize::notify();
-    virtual void MaxFileSize::create(char const*& Rights, char const*& Explanation, long& Default, long& Min, long& Max);
-
-    FileGenerations::FileGenerations(const char *pszApplication, ApplicationData* Owner);
-    long FileGenerations::currentValue();
-    virtual void FileGenerations::valueChanged();
-    virtual void FileGenerations::notify();
-    virtual void FileGenerations::create(char const*& Rights, char const*& Explanation, long& Default, long& Min, long& Max);
-
-    TraceMask::TraceMask(const char *pszApplication, ApplicationData* Owner);
-    long TraceMask::currentValue();
-    virtual void TraceMask::valueChanged();
-    virtual void TraceMask::notify();
-    virtual void TraceMask::create(char const*& Rights, char const*& Explanation, long& Default, long& Min, long& Max);
-
-    AppendTraces::AppendTraces(const char *pszApplication, ApplicationData* Owner);
-    SelectionValue AppendTraces::currentValue();
-    virtual void AppendTraces::valueChanged();
-    virtual void AppendTraces::notify();
-    virtual void AppendTraces::create(char const*& Rights, char const*& Explanation, long& DefaultIndex, nConfig::selection const*& Begin, nConfig::selection const*& End);
-
-    LevelAsMask::LevelAsMask(const char *pszApplication, ApplicationData* Owner);
-    SelectionValue LevelAsMask::currentValue();
-    virtual void LevelAsMask::valueChanged();
-    virtual void LevelAsMask::notify();
-    virtual void LevelAsMask::create(char const*& Rights, char const*& Explanation, long& DefaultIndex, nConfig::selection const*& Begin, nConfig::selection const*& End);
-
-    Topic::Topic(const char *pszApplication, const char* pszTopicName, ApplicationData* Owner);
-    SelectionValue Topic::currentValue();
-    virtual void Topic::valueChanged();
-    virtual void Topic::notify();
-    virtual void Topic::create(char const*& Rights, char const*& Explanation, long& DefaultIndex, nConfig::selection const*& Begin, nConfig::selection const*& End);
-
-    ExtendedTrace::ExtendedTrace(const char *pszApplication, ApplicationData* Owner);
-    SelectionValue ExtendedTrace::currentValue();
-    virtual void ExtendedTrace::valueChanged();
-    virtual void ExtendedTrace::notify();
-    virtual void ExtendedTrace::create(char const*& Rights, char const*& Explanation, long& DefaultIndex, nConfig::selection const*& Begin, nConfig::selection const*& End);
-
-    ShortLine::ShortLine(const char *pszApplication, ApplicationData* Owner);
-    SelectionValue ShortLine::currentValue();
-    virtual void ShortLine::valueChanged();
-    virtual void ShortLine::notify();
-    virtual void ShortLine::create(char const*& Rights, char const*& Explanation, long& DefaultIndex, nConfig::selection const*& Begin, nConfig::selection const*& End);
-
-    TraceWidth::TraceWidth(const char *pszApplication, ApplicationData* Owner);
-    long TraceWidth::currentValue();
-    virtual void TraceWidth::valueChanged();
-    virtual void TraceWidth::notify();
-    virtual void TraceWidth::create(char const*& Rights, char const*& Explanation, long& Default, long& Min, long& Max);
-
-
-***************************************************************************/
-
-/***************************************************************************
-
-  Types
-
-***************************************************************************/
-
-
-class CfgNotifyLoop: public osThrd
-{
-  public:
-    CfgNotifyLoop();
-    ~CfgNotifyLoop();
-    void add(Notify* pNotify);
-    void release(Notify* pNotify);
-  private:
-    std::list<Notify*> notifyList;
-    mutexSemaphore listMutex;
-    eventSemaphore listEvent;
-    bool stop;
-    virtual void function();
-};
-
-
-/***************************************************************************
-
-  Function Definition
-
-***************************************************************************/
-
-namespace
-{
-  static CfgNotifyLoop cfgNotifyLoop;
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  std::string configName(const char* pszApplicaton, const char* pszItem)
-
- COMMENTS:  return the configuration name for the application/item
-
- DATE:      04.09.2002
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-  std::string configName(const char* pszApplicaton, const char* pszItem)
-  {
-    std::string app= pszApplicaton;
-    std::replace(app.begin(), app.end(), '.', '_');
-    std::string name= SECTION;
-    name+= ".";
-    name+= app;
-    name+= ".";
-    name+= pszItem;
-    return name;
-  }
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  std::string fileName(const char* pszApplicaton)
-
- COMMENTS:  return the file name for the application
-
- DATE:      04.09.2002
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-  std::string fileName(const char* pszApplicaton)
-  {
-    std::string app= pszApplicaton;
-    std::replace(app.begin(), app.end(), '\\', '_');
-    std::replace(app.begin(), app.end(), '/', '_');
-    std::replace(app.begin(), app.end(), ':', '_');
-    std::replace(app.begin(), app.end(), '*', '_');
-    std::replace(app.begin(), app.end(), '?', '_');
-    std::replace(app.begin(), app.end(), '"', '_');
-    std::replace(app.begin(), app.end(), '<', '_');
-    std::replace(app.begin(), app.end(), '>', '_');
-    std::replace(app.begin(), app.end(), '|', '_');
-    app+=".trc";
-    return app;
-  }
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  std::string topicConfigName(const char* pszApplicaton, const char* pszItem)
-
- COMMENTS:  return the configuration name for the application/item
-
- DATE:      04.09.2002
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-  std::string topicConfigName(const char* pszApplicaton, const char* pszItem)
-  {
-    std::string app= pszApplicaton;
-    std::replace(app.begin(), app.end(), '.', '_');
-    std::string name= SECTION;
-    name+= ".";
-    name+= app;
-    name+= ".";
-    name+= "Topic_";
-    name+= pszItem;
-    return name;
-  }
-}
-
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  SelectionValue::SelectionValue(long value)
-
- COMMENTS:  Constructor, assign a long value
-
- DATE:      14.07.2004
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-SelectionValue::SelectionValue(long value):
-  m_value(value)
-{}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long SelectionValue::getID()
-
- COMMENTS:  return the long value
-
- DATE:      14.07.2004
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-long SelectionValue::getID()
-{
-  return m_value;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  CfgNotifyLoop::CfgNotifyLoop()
-
- COMMENTS:  constructor, start the thread, wait for input
-
- DATE:      14.07.2004
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-CfgNotifyLoop::CfgNotifyLoop(): stop(false)
-{
-  start();
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  CfgNotifyLoop::~CfgNotifyLoop()
-
- COMMENTS:  stop the thread, do not notify the clients
-
- DATE:      14.07.2004
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-CfgNotifyLoop::~CfgNotifyLoop()
-{
-  listMutex.request();
-  stop= true;
-  listEvent.post();
-  listMutex.release();
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void CfgNotifyLoop::add(Notify* pNotify)
-
- COMMENTS:  add a client, notify this client once
-
- DATE:      14.07.2004
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-void CfgNotifyLoop::add(Notify* pNotify)
-{
-  listMutex.request();
-  notifyList.push_back(pNotify);
-  listEvent.post();
-  listMutex.release();
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void CfgNotifyLoop::release(Notify* pNotify)
-
- COMMENTS:  remove a client, do not notify this client
-
- DATE:      14.07.2004
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-void CfgNotifyLoop::release(Notify* pNotify)
-{
-  listMutex.request();
-  notifyList.remove(pNotify);
-  listMutex.release();
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void CfgNotifyLoop::function()
-
- COMMENTS:  thread function, wait for input, notify the clients
-
- DATE:      14.07.2004
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-void CfgNotifyLoop::function()
-{
-  while(!stop)
-  {
-    listMutex.request();
-    while(notifyList.size() != 0 && !stop)
-    {
-      Notify *pNotify= notifyList.front();
-      notifyList.pop_front();
-      listMutex.release();
-      try
-      {
-        pNotify->notify();
-      }
-      catch(...)
-      {}
-      listMutex.request();
-    }
-    listEvent.reset();
-    listMutex.release();
-    if(!stop)
-      listEvent.wait();
-  }
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  Notify::Notify()
-
- COMMENTS:  constructor
-
- DATE:      14.07.2004
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-Notify::Notify():
-  released(false)
-{}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  Notify::~Notify()
-
- COMMENTS:  destructor
-
- DATE:      14.07.2004
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-Notify::~Notify()
-{}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void Notify::notify()
-
- COMMENTS:  called by the notifyloop in an extra thread
-
- DATE:      14.07.2004
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-void Notify::notify()
-{}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void Notify::callNotify()
-
- COMMENTS:  inform the notify loop to call notify async
-
- DATE:      14.07.2004
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-void Notify::callNotify()
-{
-  if(!released)
-    cfgNotifyLoop.add(this);
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void Notify::release()
-
- COMMENTS:  inform the notify loop not to call notify async for this Object
-
- DATE:      14.07.2004
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-void Notify::release()
-{
-  released= true;
-  cfgNotifyLoop.release(this);
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  Encryption::Encryption(const char *pszApplication, TraceService* Owner)
-
- COMMENTS:  construct a Encryption configuration Variable
-
- DATE:      01.08.2007
-
- AUTHOR:    MATERNA Information & Communications (SteT)
-
----------------------------------------------------------------------------*/
-Encryption::Encryption(const char *pszApplication, TraceService* Owner):
-  nConfig::gclSelection(configName(pszApplication, ENCRYPTIONITEM).c_str(), AUTHORIZATION),
-  m_pOwner(Owner),
-  m_changed(true),
-  m_currentValue(ENCRYPTIONDEFAULT)
-{}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long Encryption::currentValue()
-
- COMMENTS:  encapsulates the get method, catches exceptions thrown by get,
-            for compatibility with cfgAPI,
-            connects to the configuration service if no connection exist
-
- DATE:      01.08.2007
-
- AUTHOR:    MATERNA Information & Communications (SteT)
-
----------------------------------------------------------------------------*/
-SelectionValue Encryption::currentValue()
-{
-  if(m_changed)
-  {
-    try
-    {
-      m_currentValue= getIndex();
-      m_changed= false;
-    }
-    catch(...)
-    {}
-  }
-  return m_currentValue;
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void Encryption::valueChanged()
-
- COMMENTS:  notify the Owner, when Encryption has been changed
-
- DATE:      01.08.2007
-
- AUTHOR:    MATERNA Information & Communications (SteT)
-
----------------------------------------------------------------------------*/
-void Encryption::valueChanged()
-{
-  callNotify(); // async
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void Encryption::notify()
-
- COMMENTS:  notify the Owner, when Encryption has been changed
-
- DATE:      01.08.2007
-
- AUTHOR:    MATERNA Information & Communications (SteT)
-
----------------------------------------------------------------------------*/
-void Encryption::notify()
-{
-  if (m_pOwner)
-  {
-    try
-    {
-      m_changed= true;
-      long val= getIndex();
-      m_pOwner->changeEncryption(val);
-    }
-    catch(...)
-    {}
-  }
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void Encryption::create(char const*& Rights, char const*& Explanation, long& DefaultIndex, nConfig::selection const*& Begin, nConfig::selection const*& End)
-
- COMMENTS:  set the configuration value, if the configuration entry does not exist
-
- DATE:      01.08.2007
-
- AUTHOR:    MATERNA Information & Communications (SteT)
-
----------------------------------------------------------------------------*/
-void Encryption::create(char const*& Rights, char const*& Explanation, long& DefaultIndex, nConfig::selection const*& Begin, nConfig::selection const*& End)
-{
-  Rights= "rw";
-  Explanation= ENCRYPTIONLONGD;
-  DefaultIndex= ENCRYPTIONDEFAULT;
-  Begin= ENCRYPTIONBEGIN;
-  End= ENCRYPTIONEND;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  TraceDirectory::TraceDirectory(const char *pszApplication, TraceService* Owner)
-
- COMMENTS:  construct a TraceDirectory configuration Variable
-
- DATE:      04.09.2002
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-TraceDirectory::TraceDirectory(const char *pszApplication, TraceService* Owner):
-  nConfig::gclText(configName(pszApplication, DIRITEM).c_str(), AUTHORIZATION),
-  m_pOwner(Owner)
-{}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  const char* TraceDirectory::currentValue()
-
- COMMENTS:  encapsulates the get method, catches exceptions thrown by get,
-            for compatibility with cfgAPI,
-            connects to the configuration service if no connection exist
-
- DATE:      04.09.2002
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-const char* TraceDirectory::currentValue()
-{
-  const char* result= 0;
-  try
-  {
-    result= get();
-  }
-  catch(...)
-  {}
-  if (!result)
-    result= DIRDEFAULT;
-  return result;
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void TraceDirectory::valueChanged()
-
- COMMENTS:  notify the Owner, when TraceDirectory has been changed
-
- DATE:      04.09.2002
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-void TraceDirectory::valueChanged()
-{
-  callNotify(); // async
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void TraceDirectory::notify()
-
- COMMENTS:  notify the Owner, when TraceDirectory has been changed
-
- DATE:      14.07.2004
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-void TraceDirectory::notify()
-{
-  if (m_pOwner)
-  {
-    try
-    {
-      const char* pVal= get();
-      if (pVal)
-        m_pOwner->changeTraceDirectory(pVal);
-    }
-    catch(...)
-    {}
-  }
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void TraceDirectory::create(char const*& Rights, char const*& Explanation, char const*& Default, long &Max)
-
- COMMENTS:  set the configuration value, if the configuration entry does not exist
-
- DATE:      04.09.2002
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-void TraceDirectory::create(char const*& Rights, char const*& Explanation, char const*& Default, long &Max)
-{
-  Rights= 0;
-  Explanation= DIRLONGD;
-  Default= DIRDEFAULT;
-  Max= DIRMAX;
-}
-
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  FileName::FileName(const char *pszApplication, ApplicationData* Owner, const char* szPath)
-
- COMMENTS:  construct a FileName configuration Variable
-
- DATE:      04.09.2002
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-FileName::FileName(const char *pszApplication, ApplicationData* Owner, const char* szPath):
-  nConfig::gclText(configName(pszApplication, FILEITEM).c_str(), AUTHORIZATION),
-  m_pOwner(Owner),
-  m_name(szPath?szPath:fileName(pszApplication).c_str())
-{}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  const char* FileName::currentValue()
-
- COMMENTS:  encapsulates the get method, catches exceptions thrown by get,
-            for compatibility with cfgAPI,
-            connects to the configuration service if no connection exist
-
- DATE:      04.09.2002
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-const char* FileName::currentValue()
-{
-  const char* result= 0;
-  try
-  {
-    result= get();
-  }
-  catch(...)
-  {}
-  if (!result)
-    result= m_name.strObject();
-  return result;
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void FileName::valueChanged()
-
- COMMENTS:  notify the Owner, when FileName has been changed
-
- DATE:      04.09.2002
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-void FileName::valueChanged()
-{
-  callNotify(); // async
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void FileName::notify()
-
- COMMENTS:  notify the Owner, when FileName has been changed
-
- DATE:      14.07.2004
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-void FileName::notify()
-{
-  if (m_pOwner)
-  {
-    try
-    {
-      const char* pVal= get();
-      if (pVal)
-        m_pOwner->changeFileName(pVal);
-    }
-    catch(...)
-    {}
-  }
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void FileName::create(char const*& Rights, char const*& Explanation, char const*& Default, long &Max)
-
- COMMENTS:  set the configuration value, if the configuration entry does not exist
-
- DATE:      04.09.2002
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-void FileName::create(char const*& Rights, char const*& Explanation, char const*& Default, long &Max)
-{
-  Rights= 0;
-  Explanation= FILELONGD;
-  Default= m_name.strObject();
-  Max= FILEMAX;
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  TraceLevel::TraceLevel(const char *pszApplication, ApplicationData* Owner)
-
- COMMENTS:  construct a TraceLevel configuration Variable
-
- DATE:      04.09.2002
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-TraceLevel::TraceLevel(const char *pszApplication, ApplicationData* Owner):
-  nConfig::gclSelection(configName(pszApplication, LEVELITEM).c_str(), AUTHORIZATION),
-  m_pOwner(Owner),
-  m_changed(true),
-  m_currentValue(LEVELDEFAULT)
-{}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long TraceLevel::currentValue()
-
- COMMENTS:  encapsulates the get method, catches exceptions thrown by get,
-            for compatibility with cfgAPI,
-            connects to the configuration service if no connection exist
-
- DATE:      04.09.2002
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-SelectionValue TraceLevel::currentValue()
-{
-  if(m_changed)
-  {
-    try
-    {
-      m_currentValue= getIndex();
-      m_changed= false;
-    }
-    catch(...)
-    {}
-  }
-  return m_currentValue;
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void TraceLevel::valueChanged()
-
- COMMENTS:  notify the Owner, when TraceLevel has been changed
-
- DATE:      04.09.2002
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-void TraceLevel::valueChanged()
-{
-  callNotify(); // async
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void TraceLevel::notify()
-
- COMMENTS:  notify the Owner, when TraceLevel has been changed
-
- DATE:      14.07.2004
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-void TraceLevel::notify()
-{
-  if (m_pOwner)
-  {
-    try
-    {
-      m_changed= true;
-      long val= getIndex();
-      m_pOwner->changeTraceLevel(val);
-    }
-    catch(...)
-    {}
-  }
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void TraceLevel::create(char const*& Rights, char const*& Explanation, long& DefaultIndex, nConfig::selection const*& Begin, nConfig::selection const*& End)
-
- COMMENTS:  set the configuration value, if the configuration entry does not exist
-
- DATE:      04.09.2002
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-void TraceLevel::create(char const*& Rights, char const*& Explanation, long& DefaultIndex, nConfig::selection const*& Begin, nConfig::selection const*& End)
-{
-  Rights= 0;
-  Explanation= LEVELLONGD;
-  DefaultIndex= LEVELDEFAULT;
-  Begin= LEVELBEGIN;
-  End= LEVELEND;
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  MaxFileSize::MaxFileSize(const char *pszApplication, ApplicationData* Owner)
-
- COMMENTS:  construct a MaxFileSize configuration Variable
-
- DATE:      04.09.2002
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-MaxFileSize::MaxFileSize(const char *pszApplication, ApplicationData* Owner):
-  nConfig::gclNumber(configName(pszApplication, MAXITEM).c_str(), AUTHORIZATION),
-  m_pOwner(Owner)
-{}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long MaxFileSize::currentValue()
-
- COMMENTS:  encapsulates the get method, catches exceptions thrown by get,
-            for compatibility with cfgAPI,
-            connects to the configuration service if no connection exist
-
- DATE:      04.09.2002
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-long MaxFileSize::currentValue()
-{
-  long result= 0;
-  bool bSet= false;
-  try
-  {
-    result= get();
-    bSet= true;
-  }
-  catch(...)
-  {}
-  if (!bSet)
-    result= MAXDEFAULT;
-  return result;
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void MaxFileSize::valueChanged()
-
- COMMENTS:  notify the Owner, when MaxFileSize has been changed
-
- DATE:      04.09.2002
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-void MaxFileSize::valueChanged()
-{
-  callNotify(); // async
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void MaxFileSize::notify()
-
- COMMENTS:  notify the Owner, when MaxFileSize has been changed
-
- DATE:      14.07.2004
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-void MaxFileSize::notify()
-{
-  if (m_pOwner)
-  {
-    try
-    {
-      long val= get();
-      m_pOwner->changeMaxFileSize(val);
-    }
-    catch(...)
-    {}
-  }
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void MaxFileSize::create(char const*& Rights, char const*& Explanation, long& Default, long& Min, long& Max)
-
- COMMENTS:  set the configuration value, if the configuration entry does not exist
-
- DATE:      04.09.2002
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-void MaxFileSize::create(char const*& Rights, char const*& Explanation, long& Default, long& Min, long& Max)
-{
-  Rights= 0;
-  Explanation= MAXLONGD;
-  Default= MAXDEFAULT;
-  Min= MAXMIN;
-  Max= MAXMAX;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  FileGenerations::FileGenerations(const char *pszApplication, ApplicationData* Owner)
-
- COMMENTS:  construct a FileGenerations configuration Variable
-
- DATE:      04.09.2002
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-FileGenerations::FileGenerations(const char *pszApplication, ApplicationData* Owner):
-  nConfig::gclNumber(configName(pszApplication, GENERATIONSITEM).c_str(), AUTHORIZATION),
-  m_pOwner(Owner)
-{}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long FileGenerations::currentValue()
-
- COMMENTS:  encapsulates the get method, catches exceptions thrown by get,
-            for compatibility with cfgAPI,
-            connects to the configuration service if no connection exist
-
- DATE:      04.09.2002
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-long FileGenerations::currentValue()
-{
-  long result= 0;
-  bool bSet= false;
-  try
-  {
-    result= get();
-    bSet= true;
-  }
-  catch(...)
-  {}
-  if (!bSet)
-    result= GENERATIONSDEFAULT;
-  return result;
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void FileGenerations::valueChanged()
-
- COMMENTS:  notify the Owner, when FileGenerations has been changed
-
- DATE:      04.09.2002
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-void FileGenerations::valueChanged()
-{
-  callNotify(); // async
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void FileGenerations::notify()
-
- COMMENTS:  notify the Owner, when FileGenerations has been changed
-
- DATE:      14.07.2004
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-void FileGenerations::notify()
-{
-  if (m_pOwner)
-  {
-    try
-    {
-      long val= get();
-      m_pOwner->changeFileGenerations(val);
-    }
-    catch(...)
-    {}
-  }
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void FileGenerations::create(char const*& Rights, char const*& Explanation, long& Default, long& Min, long& Max)
-
- COMMENTS:  set the configuration value, if the configuration entry does not exist
-
- DATE:      04.09.2002
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-void FileGenerations::create(char const*& Rights, char const*& Explanation, long& Default, long& Min, long& Max)
-{
-  Rights= 0;
-  Explanation= GENERATIONSLONGD;
-  Default= GENERATIONSDEFAULT;
-  Min= GENERATIONSMIN;
-  Max= GENERATIONSMAX;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  TraceMask::TraceMask(const char *pszApplication, ApplicationData* Owner)
-
- COMMENTS:  construct a TraceMask configuration Variable
-
- DATE:      04.09.2002
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-TraceMask::TraceMask(const char *pszApplication, ApplicationData* Owner):
-  nConfig::gclNumber(configName(pszApplication, MASKITEM).c_str(), AUTHORIZATION),
-  m_pOwner(Owner)
-{}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long TraceMask::currentValue()
-
- COMMENTS:  encapsulates the get method, catches exceptions thrown by get,
-            for compatibility with cfgAPI,
-            connects to the configuration service if no connection exist
-
- DATE:      04.09.2002
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-long TraceMask::currentValue()
-{
-  long result= 0;
-  bool bSet= false;
-  try
-  {
-    result= get();
-    bSet= true;
-  }
-  catch(...)
-  {}
-  if (!bSet)
-    result= MASKDEFAULT;
-  return result;
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void TraceMask::valueChanged()
-
- COMMENTS:  notify the Owner, when TraceMask has been changed
-
- DATE:      04.09.2002
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-void TraceMask::valueChanged()
-{
-  callNotify(); // async
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void TraceMask::notify()
-
- COMMENTS:  notify the Owner, when TraceMask has been changed
-
- DATE:      14.07.2004
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-void TraceMask::notify()
-{
-  if (m_pOwner)
-  {
-    try
-    {
-      long val= get();
-      m_pOwner->changeTraceMask(val);
-    }
-    catch(...)
-    {}
-  }
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void TraceMask::create(char const*& Rights, char const*& Explanation, long& Default, long& Min, long& Max)
-
- COMMENTS:  set the configuration value, if the configuration entry does not exist
-
- DATE:      04.09.2002
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-void TraceMask::create(char const*& Rights, char const*& Explanation, long& Default, long& Min, long& Max)
-{
-  Rights= 0;
-  Explanation= MASKLONGD;
-  Default= MASKDEFAULT;
-  Min= MASKMIN;
-  Max= MASKMAX;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  AppendTraces::AppendTraces(const char *pszApplication, ApplicationData* Owner)
-
- COMMENTS:  construct a AppendTraces configuration Variable
-
- DATE:      04.09.2002
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-AppendTraces::AppendTraces(const char *pszApplication, ApplicationData* Owner):
-  nConfig::gclSelection(configName(pszApplication, APPENDITEM).c_str(), AUTHORIZATION),
-  m_pOwner(Owner)
-{}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long AppendTraces::currentValue()
-
- COMMENTS:  encapsulates the get method, catches exceptions thrown by get,
-            for compatibility with cfgAPI,
-            connects to the configuration service if no connection exist
-
- DATE:      04.09.2002
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-SelectionValue AppendTraces::currentValue()
-{
-  long result= 0;
-  bool bSet= false;
-  try
-  {
-    result= getIndex();
-    bSet= true;
-  }
-  catch(...)
-  {}
-  if (!bSet)
-    result= APPENDDEFAULT;
-  return result;
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void AppendTraces::valueChanged()
-
- COMMENTS:  notify the Owner, when AppendTraces has been changed
-
- DATE:      04.09.2002
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-void AppendTraces::valueChanged()
-{
-  callNotify(); // async
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void AppendTraces::notify()
-
- COMMENTS:  notify the Owner, when AppendTraces has been changed
-
- DATE:      14.07.2004
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-void AppendTraces::notify()
-{
-  if (m_pOwner)
-  {
-    try
-    {
-      long val= getIndex();
-      m_pOwner->changeAppendTraces(val);
-    }
-    catch(...)
-    {}
-  }
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void AppendTraces::create(char const*& Rights, char const*& Explanation, long& DefaultIndex, nConfig::selection const*& Begin, nConfig::selection const*& End)
-
- COMMENTS:  set the configuration value, if the configuration entry does not exist
-
- DATE:      04.09.2002
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-void AppendTraces::create(char const*& Rights, char const*& Explanation, long& DefaultIndex, nConfig::selection const*& Begin, nConfig::selection const*& End)
-{
-  Rights= 0;
-  Explanation= APPENDLONGD;
-  DefaultIndex= APPENDDEFAULT;
-  Begin= APPENDBEGIN;
-  End= APPENDEND;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  LevelAsMask::LevelAsMask(const char *pszApplication, ApplicationData* Owner)
-
- COMMENTS:  construct a LevelAsMask configuration Variable
-
- DATE:      04.09.2002
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-LevelAsMask::LevelAsMask(const char *pszApplication, ApplicationData* Owner):
-  nConfig::gclSelection(configName(pszApplication, LEVMASKITEM).c_str(), AUTHORIZATION),
-  m_pOwner(Owner)
-{}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long LevelAsMask::currentValue()
-
- COMMENTS:  encapsulates the get method, catches exceptions thrown by get,
-            for compatibility with cfgAPI,
-            connects to the configuration service if no connection exist
-
- DATE:      04.09.2002
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-SelectionValue LevelAsMask::currentValue()
-{
-  long result= 0;
-  bool bSet= false;
-  try
-  {
-    result= getIndex();
-    bSet= true;
-  }
-  catch(...)
-  {}
-  if (!bSet)
-    result= LEVMASKDEFAULT;
-  return result;
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void LevelAsMask::valueChanged()
-
- COMMENTS:  notify the Owner, when LevelAsMask has been changed
-
- DATE:      04.09.2002
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-void LevelAsMask::valueChanged()
-{
-  callNotify(); // async
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void LevelAsMask::notify()
-
- COMMENTS:  notify the Owner, when LevelAsMask has been changed
-
- DATE:      14.07.2004
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-void LevelAsMask::notify()
-{
-  if (m_pOwner)
-  {
-    try
-    {
-      long val= getIndex();
-      m_pOwner->changeLevelAsMask(val);
-    }
-    catch(...)
-    {}
-  }
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void LevelAsMask::create(char const*& Rights, char const*& Explanation, long& DefaultIndex, nConfig::selection const*& Begin, nConfig::selection const*& End)
-
- COMMENTS:  set the configuration value, if the configuration entry does not exist
-
- DATE:      04.09.2002
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-void LevelAsMask::create(char const*& Rights, char const*& Explanation, long& DefaultIndex, nConfig::selection const*& Begin, nConfig::selection const*& End)
-{
-  Rights= 0;
-  Explanation= LEVMASKLONGD;
-  DefaultIndex= LEVMASKDEFAULT;
-  Begin= LEVMASKBEGIN;
-  End= LEVMASKEND;
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  Topic::Topic(const char *pszApplication, const char* pszTopicName, ApplicationData* Owner)
-
- COMMENTS:  construct a Topic configuration Variable
-
- DATE:      04.09.2002
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-Topic::Topic(const char *pszApplication, const char* pszTopicName, ApplicationData* Owner):
-  nConfig::gclSelection(topicConfigName(pszApplication, pszTopicName).c_str(), AUTHORIZATION),
-  m_pOwner(Owner),
-  m_changed(true),
-  m_currentValue(TOPICDEFAULT),
-  Name(pszTopicName)
-{}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long Topic::currentValue()
-
- COMMENTS:  encapsulates the get method, catches exceptions thrown by get,
-            for compatibility with cfgAPI,
-            connects to the configuration service if no connection exist
-
- DATE:      04.09.2002
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-SelectionValue Topic::currentValue()
-{
-  if(m_changed)
-  {
-    try
-    {
-      m_currentValue= getIndex();
-      m_changed= false;
-    }
-    catch(...)
-    {}
-  }
-  return m_currentValue;
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void Topic::valueChanged()
-
- COMMENTS:  notify the Owner, when Topic has been changed
-
- DATE:      04.09.2002
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-void Topic::valueChanged()
-{
-  callNotify(); // async
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void Topic::notify()
-
- COMMENTS:  notify the Owner, when Topic has been changed
-
- DATE:      14.07.2004
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-void Topic::notify()
-{
-  if (m_pOwner)
-  {
-    try
-    {
-      m_changed= true;
-      long val= getIndex();
-      m_pOwner->changeTopic(Name, val);
-    }
-    catch(...)
-    {}
-  }
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void Topic::create(char const*& Rights, char const*& Explanation, long& DefaultIndex, nConfig::selection const*& Begin, nConfig::selection const*& End)
-
- COMMENTS:  set the configuration value, if the configuration entry does not exist
-
- DATE:      04.09.2002
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-void Topic::create(char const*& Rights, char const*& Explanation, long& DefaultIndex, nConfig::selection const*& Begin, nConfig::selection const*& End)
-{
-  Rights= 0;
-  Explanation= TOPICLONGD;
-  DefaultIndex= TOPICDEFAULT;
-  Begin= TOPICBEGIN;
-  End= TOPICEND;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  ExtendedTrace::ExtendedTrace(const char *pszApplication, ApplicationData* Owner)
-
- COMMENTS:  construct a ExtendedTrace configuration Variable
-
- DATE:      04.09.2002
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-ExtendedTrace::ExtendedTrace(const char *pszApplication, ApplicationData* Owner):
-  nConfig::gclSelection(configName(pszApplication, EXTENDEDITEM).c_str(), AUTHORIZATION),
-  m_pOwner(Owner)
-{}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long ExtendedTrace::currentValue()
-
- COMMENTS:  encapsulates the get method, catches exceptions thrown by get,
-            for compatibility with cfgAPI,
-            connects to the configuration service if no connection exist
-
- DATE:      04.09.2002
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-SelectionValue ExtendedTrace::currentValue()
-{
-  long result= 0;
-  bool bSet= false;
-  try
-  {
-    result= getIndex();
-    bSet= true;
-  }
-  catch(...)
-  {}
-  if (!bSet)
-    result= EXTENDEDDEFAULT;
-  return result;
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void ExtendedTrace::valueChanged()
-
- COMMENTS:  notify the Owner, when ExtendedTrace has been changed
-
- DATE:      04.09.2002
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-void ExtendedTrace::valueChanged()
-{
-  callNotify(); // async
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void ExtendedTrace::notify()
-
- COMMENTS:  notify the Owner, when ExtendedTrace has been changed
-
- DATE:      14.07.2004
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-void ExtendedTrace::notify()
-{
-  if (m_pOwner)
-  {
-    try
-    {
-      long val= getIndex();
-      m_pOwner->changeExtendedTrace(val);
-    }
-    catch(...)
-    {}
-  }
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void ExtendedTrace::create(char const*& Rights, char const*& Explanation, long& DefaultIndex, nConfig::selection const*& Begin, nConfig::selection const*& End)
-
- COMMENTS:  set the configuration value, if the configuration entry does not exist
-
- DATE:      04.09.2002
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-void ExtendedTrace::create(char const*& Rights, char const*& Explanation, long& DefaultIndex, nConfig::selection const*& Begin, nConfig::selection const*& End)
-{
-  Rights= 0;
-  Explanation= EXTENDEDLONGD;
-  DefaultIndex= EXTENDEDDEFAULT;
-  Begin= EXTENDEDBEGIN;
-  End= EXTENDEDEND;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  ShortLine::ShortLine(const char *pszApplication, ApplicationData* Owner)
-
- COMMENTS:  construct a ShortLine configuration Variable
-
- DATE:      04.09.2002
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-ShortLine::ShortLine(const char *pszApplication, ApplicationData* Owner):
-  nConfig::gclSelection(configName(pszApplication, SHORTITEM).c_str(), AUTHORIZATION),
-  m_pOwner(Owner)
-{}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long ShortLine::currentValue()
-
- COMMENTS:  encapsulates the get method, catches exceptions thrown by get,
-            for compatibility with cfgAPI,
-            connects to the configuration service if no connection exist
-
- DATE:      04.09.2002
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-SelectionValue ShortLine::currentValue()
-{
-  long result= 0;
-  bool bSet= false;
-  try
-  {
-    result= getIndex();
-    bSet= true;
-  }
-  catch(...)
-  {}
-  if (!bSet)
-    result= SHORTDEFAULT;
-  return result;
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void ShortLine::valueChanged()
-
- COMMENTS:  notify the Owner, when ShortLine has been changed
-
- DATE:      04.09.2002
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-void ShortLine::valueChanged()
-{
-  callNotify(); // async
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void ShortLine::notify()
-
- COMMENTS:  notify the Owner, when ShortLine has been changed
-
- DATE:      14.07.2004
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-void ShortLine::notify()
-{
-  if (m_pOwner)
-  {
-    try
-    {
-      long val= getIndex();
-      m_pOwner->changeShortLine(val);
-    }
-    catch(...)
-    {}
-  }
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void ShortLine::create(char const*& Rights, char const*& Explanation, long& DefaultIndex, nConfig::selection const*& Begin, nConfig::selection const*& End)
-
- COMMENTS:  set the configuration value, if the configuration entry does not exist
-
- DATE:      04.09.2002
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-void ShortLine::create(char const*& Rights, char const*& Explanation, long& DefaultIndex, nConfig::selection const*& Begin, nConfig::selection const*& End)
-{
-  Rights= 0;
-  Explanation= SHORTLONGD;
-  DefaultIndex= SHORTDEFAULT;
-  Begin= SHORTBEGIN;
-  End= SHORTEND;
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  TraceWidth::TraceWidth(const char *pszApplication, ApplicationData* Owner)
-
- COMMENTS:  construct a TraceWidth configuration Variable
-
- DATE:      04.09.2002
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-TraceWidth::TraceWidth(const char *pszApplication, ApplicationData* Owner):
-  nConfig::gclNumber(configName(pszApplication, WIDTHITEM).c_str(), AUTHORIZATION),
-  m_pOwner(Owner)
-{}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long TraceWidth::currentValue()
-
- COMMENTS:  encapsulates the get method, catches exceptions thrown by get,
-            for compatibility with cfgAPI,
-            connects to the configuration service if no connection exist
-
- DATE:      04.09.2002
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-long TraceWidth::currentValue()
-{
-  long result= 0;
-  bool bSet= false;
-  try
-  {
-    result= get();
-    bSet= true;
-  }
-  catch(...)
-  {}
-  if (!bSet)
-    result= WIDTHDEFAULT;
-  return result;
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void TraceWidth::valueChanged()
-
- COMMENTS:  notify the Owner, when TraceWidth has been changed
-
- DATE:      04.09.2002
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-void TraceWidth::valueChanged()
-{
-  callNotify(); // async
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void TraceWidth::notify()
-
- COMMENTS:  notify the Owner, when TraceWidth has been changed
-
- DATE:      14.07.2004
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-void TraceWidth::notify()
-{
-  if (m_pOwner)
-  {
-    try
-    {
-      long val= get();
-      m_pOwner->changeTraceWidth(val);
-    }
-    catch(...)
-    {}
-  }
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void TraceWidth::create(char const*& Rights, char const*& Explanation, long& Default, long& Min, long& Max)
-
- COMMENTS:  set the configuration value, if the configuration entry does not exist
-
- DATE:      04.09.2002
-
- AUTHOR:    MATERNA Information & Communications (TS)
-
----------------------------------------------------------------------------*/
-void TraceWidth::create(char const*& Rights, char const*& Explanation, long& Default, long& Min, long& Max)
-{
-  Rights= 0;
-  Explanation= WIDTHLONGD;
-  Default= WIDTHDEFAULT;
-  Min= WIDTHMIN;
-  Max= WIDTHMAX;
-}
-
-
-/*************************************************************************************************
-      End Of File  TrcCfgMassai.cpp
-************************************************************************************************/
-
-
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/src/TrcClt.cpp b/SelfServiceCommon/Services/cpp/TrcServ/static/src/TrcClt.cpp
deleted file mode 100644
index 3ddf8644..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/src/TrcClt.cpp
+++ /dev/null
@@ -1,1564 +0,0 @@
-/****************************************************************************
-
- FILE:      TrcClt.cpp
-
- PURPOSE:   sending traces to TraceService
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
- HISTORY:
-   09.08.2001 ts stopRead cxWrite(ClientHandle, ClientHandle) not supported by cxapi
-                 reconnection changed
-   30.08.2001 ts buffer traces
-   22.10.2001 ts added openTraceSLT/Init03 for short life time processes => server sends no message to client
-   29.07.2002 ts ignore TRC_FORMATCORRUPT
-   23.08.2006 ts bugfix crash at high load
-
-
-****************************************************************************/
-
-
-/***************************************************************************
-
-  Includes
-
-***************************************************************************/
-
-#include <string.h>
-#include <stdarg.h>
-#include <stdio.h>
-#include <windows.h>
-
-#ifndef __IBMCPP__
-#include <iostream>
-#else
-#include <iostream.h>
-#define std
-#endif
-#include <iostream.h>
-
-
-
-#include "CXAPI.H"
-#include "SapiOS.H"
-#include "EventSem.hpp"
-#include "Mutex.hpp"
-#include "Asso.h"
-
-#include "Traceclt.h"
-#include "TrcPrtcl.H"
-#include "TrcClt.h"
-#include "matString.h"
-
-/***************************************************************************
-
-  Defines
-
-***************************************************************************/
-
-
-#define MAXLEVEL         0x7FFFFFFF
-// #define DEBUGOUT
-// #define WAITBEFORECXDELETE
-// #define TRCLIGHT
-
-
-
-
-/***************************************************************************
-
-  Function / Classes ProtoTypes
-
-***************************************************************************/
-
-/*
-
-class ReadLoop: public osThrd
-{
-    void function();
-  public:
-    int iEnd;
-    int iThreadRunning;
-    TraceClient *Owner;
-    eventSemaphore Stopped;
-    ReadLoop();
-};
-
-
-class TraceClient
-{
-    friend class ReadLoop;
-
-    aMap Topics;
-
-    aObject ApplicationName;       // needed for common configuration for different executeables
-    aObject ModuleName;            // executeable/ appears in traces
-    mutexSemaphore writeMutex, topicMutex;
-    long lInstance;
-    long lTraceLevel, lTraceMask;
-    int  iLevelAsMask;
-    long lOwnClientHandle, lServiceServerHandle;
-    int  iOwnClient, iServiceServer;
-    int iConnectError;
-    int iConnected;
-    int iReconnect;  // set if clients try to reconnect to server
-    cxBuffer *pcxBuf;
-    int bSLT;
-    #ifndef TRCLIGHT
-    ReadLoop Thread;
-    #else
-    int iTried;
-    #endif
-    void connect();
-    void reconnect();
-    void createHandles();
-    void deleteHandles();
-    void stopRead();
-    long getTopicState(const char* pszTopic);
-  public:
-    TraceClient();
-    ~TraceClient();
-//   22.10.2001 ts added openTraceSLT/Init03 for short life time processes => server sends no message to client
-    void openTrace(int bSLT);
-    void openTrace(const aObject& ApplicationName, int bSLT);
-    long writeText(long lTraceLevel, const char *pszFile, short  sLine, const char *pszFunction, const char *pszText);
-    long writeDump(long lTraceLevel, const char *pszFile, short  sLine, const char *pszFunction, long lDumpSize, const char *pDump);
-    long NewFile(long lTraceLevel);
-    long writeText(const char *pszTopic, const char *pszFile, short  sLine, const char *pszFunction, const char *pszText);
-    long writeDump(const char *pszTopic, const char *pszFile, short  sLine, const char *pszFunction, long lDumpSize, const char *pDump);
-    long NewFile(const char *pszTopic);
-
-    long cryptTrace(long lTraceLevel, const char *pszFile, short  sLine, const char *pszFunction, long lDumpSize, const char *pDump);
-    long cryptTrace(const char *pszTopic, const char *pszFile, short  sLine, const char *pszFunction, long lDumpSize, const char *pDump);
-    long moveTrace(const char* pszPath);
-};
-
-*/
-
-static std::ostream& osTime( std::ostream& OS );
-
-
-/***************************************************************************
-
-  Function Definition
-
-***************************************************************************/
-
-static std::ostream& osTime( std::ostream& OS )
-{
-   SYSTEMTIME T;
-   GetLocalTime( &T );
-   char Buffer[20];
-   sprintf( Buffer, "%02d:%02d:%02d.%1d", T.wHour, T.wMinute, T.wSecond, T.wMilliseconds / 100 );
-   OS << Buffer;
-   return OS;
-}
-
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  ReadLoop::ReadLoop()
-
- COMMENTS:  initialize the ReadLoop
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-
-ReadLoop::ReadLoop()
-{
-  iEnd = 0;
-  iThreadRunning = 0;
-  Stopped.post();
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void ReadLoop::function()
-
- COMMENTS:  main function of readloop will be executed in an extra thread,
-            waits for notifications from traceservice
-              - lTraceLevel changed
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-void ReadLoop::function()
-{
-  long rc;
-  long PartnerHandle;
-  long lType;
-  aMap Data;
-  Stopped.reset();
-  #ifdef DEBUGOUT
-  cout << "Thread started" << endl;
-  #endif
-  while (!iEnd && !Owner->iConnectError)
-  {
-    if (Owner->iConnected && Owner->iOwnClient)
-    {
-      rc = ReadTrace(Owner->lOwnClientHandle, &PartnerHandle, &lType, Data);
-      switch(rc)
-      {
-        case CXRC_OK:
-          switch(lType)
-          {
-            case TT_CMDPARAMETER01:
-            {
-              Owner->lTraceMask = MAXLEVEL;
-              Owner->lTraceLevel = MAXLEVEL;
-              Owner->iLevelAsMask = Data.get(DN_LLEVELASMASK).numObject();
-              Owner->lTraceMask = Data.get(DN_LTRACEMASK).numObject();
-              Owner->lTraceLevel = Data.get(DN_LTRACELEVEL).numObject();
-              break;
-            }
-            case TT_CMDSTOP01:
-            {
-              Owner->iConnected = 0;
-              Owner->iServiceServer = 0;
-              break;
-            }
-            case TT_CMDTOPICSTATE01:
-            {
-              #ifdef DEBUGOUT
-              cout << non_null(Data.get(DN_STOPIC).strObject()) << ": " << Data.get(DN_LTOPICSTATE).numObject() << endl;
-              #endif
-              Owner->topicMutex.request();
-              Owner->Topics.set(Data.get(DN_STOPIC), Data.get(DN_LTOPICSTATE));
-              Owner->topicMutex.release();
-              break;
-            }
-          }
-          break;
-        case CXRC_BUFFER_TOO_SMALL:
-        case CXRC_MORE_DATA:
-        case TRC_OUTOFMEMORY:
-        case TRC_FORMATCORRUPT: //    29.07.2002 ts ignore TRC_FORMATCORRUPT
-          break;
-        default:
-          Owner->iConnected = 0;
-          Owner->iServiceServer = 0;
-      }
-
-      if (!Owner->iConnected)
-        Owner->deleteHandles();
-    }
-    else if (!Owner->iReconnect)   // 09.08.2001 ts reconnection changed
-    {
-      if (Owner->iOwnClient)
-      {
-        if(!Owner->iServiceServer)
-        {
-          #ifdef DEBUGOUT
-          cout << "-> cxGetWaitHandle (Name=" << TRACESERVICENAME << ")" << endl;
-          #endif
-          rc = cxGetWaitHandle(Owner->lOwnClientHandle, &(Owner->lServiceServerHandle), TRACESERVICENAME);
-          #ifdef DEBUGOUT
-          cout << "<- cxGetWaitHandle (Handle=" << Owner->lServiceServerHandle << ")=" << rc << endl;
-          #endif
-          if (rc == CXRC_OK)
-          {
-            Owner->iServiceServer = 1;
-            Owner->lTraceLevel = MAXLEVEL;
-            Owner->lTraceMask = MAXLEVEL;
-            Owner->iLevelAsMask = 0;
-          }
-        }
-        if (Owner->iOwnClient && Owner->iServiceServer && !Owner->iConnected)
-        {
-          Owner->writeMutex.request();
-          rc = writeCmdInit02(Owner->lOwnClientHandle, Owner->lServiceServerHandle, Owner->lInstance, Owner->ApplicationName.strObject(), Owner->ModuleName.strObject(), Owner->pcxBuf);
-          Owner->writeMutex.release();
-          switch(rc)
-          {
-            case CXRC_OK:
-              Owner->iConnected = 1;
-              break;
-            case CXRC_BUFFER_TOO_SMALL:
-            case CXRC_MORE_DATA:
-            case TRC_OUTOFMEMORY:
-              osSleep(500);
-              break;
-            default:
-              osSleep(500);
-              Owner->iServiceServer = 0;
-              break;
-          }
-        }
-      }
-      else
-      {
-        Owner->createHandles();
-      }
-
-    }
-  }
-  #ifdef DEBUGOUT
-  cout << "Thread stopped" << endl;
-  #endif
-  iThreadRunning = 0;
-  Stopped.post();
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void TraceClient::stopRead()
-
- COMMENTS:  writes to the lOwnServerHandle to stop the Read
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-void TraceClient::stopRead()
-{
-//   09.08.2001 ts stopRead cxWrite(ClientHandle, ClientHandle) not supported by cxapi
-/*
-  long rc;
-
-  if (iOwnClient)
-  {
-    if ((rc = writeCmdStop01(lOwnClientHandle, lOwnClientHandle)) != CXRC_OK)
-    {
-      #ifdef DEBUGOUT
-      cout << "Error while writing Stop to Client: (" << rc << ")";
-      #endif
-    }
-  }
-*/
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void TraceClient::reconnect()
-
- COMMENTS:  stops communication to TraceService, deletes the handles for CXAPI
-            creates the handles for CXAPI, tries to find the TraceService
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-void TraceClient::reconnect()
-{
-  long rc;
-  // 09.08.2001 ts reconnection changed   (return after successfully reconnected)
-  int iRec;
-  writeMutex.request();
-  if (!iReconnect)
-  {
-    iReconnect= 1;
-    iRec= 1;
-  }
-  else
-    iRec= 0;
-  writeMutex.release();
-  if (iRec)
-  {
-
-    #ifndef TRCLIGHT
-    if (iConnected)
-    {
-      writeMutex.request();
-      writeCmdStop01(lOwnClientHandle, lServiceServerHandle);
-      writeMutex.release();
-    }
-    #ifdef WAITBEFORECXDELETE
-    osSleep(1000);
-    #endif
-    #endif
-    iConnected = 0;
-    if (iOwnClient)
-    {
-      iOwnClient = 0;
-      #ifdef DEBUGOUT
-      cout << "-> cxDeleteHandle (Handle=" << lOwnClientHandle << ")" << endl;
-      #endif
-      rc = cxDeleteHandle(lOwnClientHandle);
-      #ifdef DEBUGOUT
-      cout << "<- cxDeleteHandle ()="  << rc << endl;
-      #endif
-    }
-    #ifndef TRCLIGHT
-    if (Thread.iThreadRunning)
-    {
-      stopRead();
-    }
-    //Thread.stop();
-    #endif
-    connect();
-    iReconnect= 0;
-  }
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void TraceClient::connect()
-
- COMMENTS:  creates the handles for CXAPI, tries to find the TraceService
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-void TraceClient::connect()
-{
-  long rc;
-
-  #ifdef TRCLIGHT
-  if (iTried)
-    return;
-  iTried= 1;
-  #endif
-
-  createHandles();
-
-  if (iOwnClient && !iServiceServer)
-  {
-    #ifdef DEBUGOUT
-    cout << "-> cxGetHandle (Name=" << TRACESERVICENAME << ")" << endl;
-    #endif
-    rc = cxGetHandle(&lServiceServerHandle, TRACESERVICENAME);
-    #ifdef DEBUGOUT
-    cout << "<- cxGetHandle (Handle=" << lServiceServerHandle << ")=" << rc << endl;
-    #endif
-    if (rc == CXRC_OK)
-    {
-      iServiceServer = 1;
-      lTraceLevel = MAXLEVEL;
-      lTraceMask = MAXLEVEL;
-      iLevelAsMask = 0;
-    }
-  }
-  if (iOwnClient && iServiceServer && ! iConnected)
-  {
-    writeMutex.request();
-//   22.10.2001 ts added openTraceSLT/Init03 for short life time processes => server sends no message to client
-    if (bSLT)
-      rc = writeCmdInit03(lOwnClientHandle, lServiceServerHandle, lInstance, ApplicationName.strObject(), ModuleName.strObject(), pcxBuf);
-    else
-      rc = writeCmdInit02(lOwnClientHandle, lServiceServerHandle, lInstance, ApplicationName.strObject(), ModuleName.strObject(), pcxBuf);
-    writeMutex.release();
-    switch(rc)
-    {
-      case CXRC_OK:
-        iConnected = 1;
-        break;
-      case CXRC_BUFFER_TOO_SMALL:
-      case CXRC_MORE_DATA:
-      case TRC_OUTOFMEMORY:
-        break;
-      default:
-        iServiceServer = 0;
-        break;
-    }
-  }
-  #ifndef TRCLIGHT
-  if (!Thread.iThreadRunning)
-  {
-    Thread.iThreadRunning = 1;
-    Thread.Owner = this;
-    Thread.start();
-    // osSleep(1);  // give up the remainder of their current time slice.
-  }
-  #endif
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void TraceClient::createHandles()
-
- COMMENTS:  initializes the TraceClient
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-void TraceClient::createHandles()
-{
-  aObject InstanceName;
-  long rc, lInst;
-
-  if (!iConnectError)
-  {
-    deleteHandles();
-
-    lInst=1;
-    rc = CXRC_OK;
-    while (lInst && !iOwnClient && ((rc == CXRC_OK)||(rc == CXRC_NAME_ALREADY_EXISTS )))
-    {
-      ClientName(InstanceName, lInst, ApplicationName);
-      #ifdef DEBUGOUT
-      cout << "-> cxCreateHandle (Name=" << non_null(InstanceName.strObject()) << ")" << endl;
-      #endif
-      rc = cxCreateHandle(&lOwnClientHandle, InstanceName.strObject());
-      #ifdef DEBUGOUT
-      cout << "<- cxCreateHandle (Handle=" << lOwnClientHandle << ")=" << rc << endl;
-      #endif
-      if (rc == CXRC_OK)
-      {
-        lInstance = lInst;
-        iOwnClient = 1;
-      }
-      lInst++;
-    }
-    if (rc != CXRC_OK)
-      iConnectError= 1;
-  }
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  TraceClient::TraceClient()
-
- COMMENTS:  initializes the TraceClient
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-
-TraceClient::TraceClient():
-  pcxBuf(0)
-{
-  iReconnect= 0;
-  iConnectError= 0;
-  iOwnClient = 0;
-  iServiceServer = 0;
-  lTraceLevel = MAXLEVEL;  // TraceLevel unknown => send all
-  lTraceMask = MAXLEVEL;
-  iLevelAsMask = 0;
-  iConnected = 0;
-  ApplicationName = "STANDARD";
-  getAppName(ModuleName);
-  #ifdef TRCLIGHT
-  iTried= 0;
-  #endif
-  pcxBuf= new cxBuffer(10);
-  if(getenv("TRC_CLT_DEBUGVIEW") != 0)
-  {
-    bCltdbg= 1;
-  }
-  else
-  {
-    bCltdbg= 0;
-  }
-}
-
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  TraceClient::~TraceClient()
-
- COMMENTS:  close the cxapi connections, and terminate the extra thread
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-TraceClient::~TraceClient()
-{
-  #ifndef TRCLIGHT
-  Thread.iEnd = 1;
-  #endif
-  if (iConnected)
-  {
-    writeMutex.request();
-    writeCmdStop01(lOwnClientHandle, lServiceServerHandle);
-    writeMutex.release();
-  }
-  writeMutex.request();
-  if (pcxBuf)
-    delete pcxBuf;
-  pcxBuf= 0;
-  writeMutex.release();
-  #ifndef TRCLIGHT
-  if (Thread.iThreadRunning)
-  {
-    stopRead();
-  }
-  #endif
-  // must wait to guarantee that cxapi has written the datas
-  #ifdef WAITBEFORECXDELETE
-  osSleep(1000);
-  #endif
-  // Thread.Stopped.wait();
-  // dont wait for the Thread event, cause the Thread may be terminated without sending event
-  deleteHandles();
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void TraceClient::deleteHandles()
-
- COMMENTS:  delete cxApi Handles
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-void TraceClient::deleteHandles()
-{
-  long rc;
-  iConnected = 0;
-  if (iOwnClient)
-  {
-    #ifdef DEBUGOUT
-    cout << "deleteClient " << osTime << endl;
-    cout << "-> cxDeleteHandle (Handle=" << lOwnClientHandle << ")" << endl;
-    #endif
-    rc = cxDeleteHandle(lOwnClientHandle);
-    #ifdef DEBUGOUT
-    cout << "<- cxDeleteHandle ()="  << rc << endl;
-    #endif
-    iOwnClient = 0;
-  }
-  #ifdef DEBUGOUT
-  cout << "delete done " << osTime << endl;
-  #endif
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void TraceClient::openTrace(int bSLT)
-
- COMMENTS:  try to connect to traceService
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-void TraceClient::openTrace(int bSLT)
-{
-//   22.10.2001 ts added openTraceSLT/Init03 for short life time processes => server sends no message to client
-  this->bSLT= bSLT;
-  ApplicationName= ModuleName;
-  if (iConnected)
-    reconnect();
-  else
-    connect();
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void TraceClient::openTrace(const aObject& ApplicationName, int bSLT)
-
- COMMENTS:  set Application, and try to connect to traceService
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-void TraceClient::openTrace(const aObject& ApplicationName, int bSLT)
-{
-//   22.10.2001 ts added openTraceSLT/Init03 for short life time processes => server sends no message to client
-  this->bSLT= bSLT;
-  this->ApplicationName = ApplicationName;
-  if (iConnected)
-    reconnect();
-  else
-    connect();
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long TraceClient::writeText(long lTraceLevel, const char *pszFile, short  sLine, const char *pszFunction, const char *pszText)
-
- COMMENTS:  trace a Line to TraceService
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-long TraceClient::writeText(long lTraceLevel, const char *pszFile, short  sLine, const char *pszFunction, const char *pszText)
-{
-  long result, rc;
-  #ifndef TRCLIGHT
-  if(!iConnected && !Thread.iThreadRunning)
-    connect();
-  #else
-  if(!iConnected)
-    connect();
-  #endif
-
-  if (bCltdbg && ((iLevelAsMask && (lTraceLevel & this->lTraceMask))||(!iLevelAsMask && (lTraceLevel <= this->lTraceLevel))))
-  {
-    matString debug;
-    debug= ApplicationName.strObject();
-    debug.catData(": ");
-    debug.catData(pszText);
-    debug.catData("\n");
-    OutputDebugString(debug.getData());
-  }
-  if (iConnected)
-  {
-    if ((iLevelAsMask && (lTraceLevel & this->lTraceMask))||(!iLevelAsMask && (lTraceLevel <= this->lTraceLevel)))
-    {
-      // osSleep(1);  // give up the remainder of their current time slice.
-      writeMutex.request();
-      rc = writeText01(lOwnClientHandle, lServiceServerHandle, lTraceLevel, pszFile, sLine, pszFunction, pszText, pcxBuf);
-      writeMutex.release();
-      switch(rc)
-      {
-        case CXRC_OK:
-          result = TRC_OK;
-          break;
-        case CXRC_ERROR:
-        case CXRC_WRONG_PARAMETER:
-        case CXRC_NOT_FOUND:
-        case CXRC_PARTNER_LOST:
-        case CXRC_WRONG_HANDLE:
-          result = TRC_OK;
-          iConnected = 0;
-          iServiceServer = 0;
-          #ifndef TRCLIGHT
-          stopRead();
-          #endif
-          break;
-        case CXRC_NAME_ALREADY_EXISTS:
-        case CXRC_BUFFER_TOO_SMALL:
-        case CXRC_MORE_DATA:
-        case TRC_OUTOFMEMORY:
-          result = TRC_ERROR;
-          break;
-        default:
-          result = TRC_ERROR;
-      }
-    }
-    else
-      result = TRC_OK;
-  }
-  else
-    result = TRC_OK;
-  return result;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long TraceClient::writeDump(long lTraceLevel, const char *pszFile, short  sLine, const char *pszFunction, long lDumpSize, const char *pDump)
-
- COMMENTS:  trace a Dump to TraceService
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-long TraceClient::writeDump(long lTraceLevel, const char *pszFile, short  sLine, const char *pszFunction, long lDumpSize, const char *pDump)
-{
-  long result, rc;
-  #ifndef TRCLIGHT
-  if(!iConnected && !Thread.iThreadRunning)
-    connect();
-  #else
-  if(!iConnected)
-    connect();
-  #endif
-
-  if(bCltdbg && ((iLevelAsMask && (lTraceLevel & this->lTraceMask))||(!iLevelAsMask && (lTraceLevel <= this->lTraceLevel))))
-  {
-    matString debug;
-    int i;
-    int j;
-    char szBuffer[256];
-
-
-    debug= ApplicationName.strObject();
-    debug.catData(":\n");
-    for(i = 0; i < lDumpSize; i += 16)
-    {
-      sprintf(szBuffer,"[%04x,%04d] ",i, i);
-      debug.catData(szBuffer);
-
-      for(j = 0; j < 16 && (i+j) < lDumpSize; j++)
-      {
-        if(j == 8)
-        {
-          sprintf(szBuffer,"- %02x ",((unsigned char*)pDump)[i+j]);
-          debug.catData(szBuffer);
-        }
-        else
-        {
-          sprintf(szBuffer,"%02x ",((unsigned char*)pDump)[i+j]);
-          debug.catData(szBuffer);
-        }
-      }
-
-      while(j < 16)
-      {
-        if(j == 8)
-          debug.catData("     ");
-        else
-          debug.catData("   ");
-        j++;
-      }
-
-      for(j = 0; j < 16 && (i+j) < lDumpSize; j++)
-        debug.catData((pDump[i+j] >= ' ') ? &pDump[i+j]: ".", 1);
-
-      debug.catData("\n");
-    }
-    OutputDebugString(debug.getData());
-  }
-  if (iConnected)
-  {
-    if ((iLevelAsMask && (lTraceLevel & this->lTraceMask))||(!iLevelAsMask && (lTraceLevel <= this->lTraceLevel)))
-    {
-      // osSleep(1);  // give up the remainder of their current time slice.
-      writeMutex.request();
-      rc = writeDump01(lOwnClientHandle, lServiceServerHandle, lTraceLevel, pszFile, sLine, pszFunction, lDumpSize, pDump, pcxBuf);
-      writeMutex.release();
-      switch(rc)
-      {
-        case CXRC_OK:
-          result = TRC_OK;
-          break;
-        case CXRC_ERROR:
-        case CXRC_WRONG_PARAMETER:
-        case CXRC_NOT_FOUND:
-        case CXRC_PARTNER_LOST:
-        case CXRC_WRONG_HANDLE:
-          result = TRC_OK;
-          iConnected = 0;
-          iServiceServer = 0;
-          #ifndef TRCLIGHT
-          stopRead();
-          #endif
-          break;
-        case CXRC_NAME_ALREADY_EXISTS:
-        case CXRC_BUFFER_TOO_SMALL:
-        case CXRC_MORE_DATA:
-        case TRC_OUTOFMEMORY:
-          result = TRC_ERROR;
-          break;
-        default:
-          result = TRC_ERROR;
-      }
-    }
-    else
-      result = TRC_OK;
-  }
-  else
-    result = TRC_OK;
-  return result;
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long TraceClient::NewFile(long lTraceLevel)
-
- COMMENTS:  start new TraceFiles
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-long TraceClient::NewFile(long lTraceLevel)
-{
-  long result, rc;
-  #ifndef TRCLIGHT
-  if(!iConnected && !Thread.iThreadRunning)
-    connect();
-  #else
-  if(!iConnected)
-    connect();
-  #endif
-
-  if (iConnected)
-  {
-    if ((iLevelAsMask && (lTraceLevel & this->lTraceMask))||(!iLevelAsMask && (lTraceLevel <= this->lTraceLevel)))
-    {
-      // osSleep(1);  // give up the remainder of their current time slice.
-      writeMutex.request();
-      rc = writeCmdNewFile01(lOwnClientHandle, lServiceServerHandle, lTraceLevel, pcxBuf);
-      writeMutex.release();
-      switch(rc)
-      {
-        case CXRC_OK:
-          result = TRC_OK;
-          break;
-        case CXRC_ERROR:
-        case CXRC_WRONG_PARAMETER:
-        case CXRC_NOT_FOUND:
-        case CXRC_PARTNER_LOST:
-        case CXRC_WRONG_HANDLE:
-          result = TRC_OK;
-          iConnected = 0;
-          iServiceServer = 0;
-          #ifndef TRCLIGHT
-          stopRead();
-          #endif
-          break;
-        case CXRC_NAME_ALREADY_EXISTS:
-        case CXRC_BUFFER_TOO_SMALL:
-        case CXRC_MORE_DATA:
-        case TRC_OUTOFMEMORY:
-          result = TRC_ERROR;
-          break;
-        default:
-          result = TRC_ERROR;
-      }
-    }
-    else
-      result = TRC_OK;
-  }
-  else
-    result = TRC_OK;
-  return result;
-}
-
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long TraceClient::getTopicState(const char* pszTopic)
-
- COMMENTS:
-
- DATE:      01.10.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-long TraceClient::getTopicState(const char* pszTopic)
-{
-  long result;
-  aObject* pTopic= new aObject;
-  topicMutex.request();
-  (*pTopic) = Topics.get(pszTopic);
-  if (pTopic->getTag() == OBJ_NUM)
-    result = pTopic->numObject();
-  else
-    result = TS_UNKNOWN;
-  delete pTopic;
-  topicMutex.release();
-  return result;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long TraceClient::writeText(const char* pszTopic, const char *pszFile, short  sLine, const char *pszFunction, const char *pszText)
-
- COMMENTS:  trace a Line to TraceService
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-long TraceClient::writeText(const char* pszTopic, const char *pszFile, short  sLine, const char *pszFunction, const char *pszText)
-{
-  long result, rc;
-  long lTopicState;
-  #ifndef TRCLIGHT
-  if(!iConnected && !Thread.iThreadRunning)
-    connect();
-  #else
-  if(!iConnected)
-    connect();
-  #endif
-
-  lTopicState = getTopicState(pszTopic);
-  if(bCltdbg && (lTopicState == TS_UNKNOWN || lTopicState == TS_ACTIVE))
-  {
-    matString debug;
-    debug= ApplicationName.strObject();
-    debug.catData(": ");
-    debug.catData(pszText);
-    debug.catData("\n");
-    OutputDebugString(debug.getData());
-  }
-  if (iConnected)
-  {
-    if (lTopicState == TS_UNKNOWN || lTopicState == TS_ACTIVE)
-    {
-      // osSleep(1);  // give up the remainder of their current time slice.
-      writeMutex.request();
-      rc = writeText02(lOwnClientHandle, lServiceServerHandle, pszTopic, pszFile, sLine, pszFunction, pszText, pcxBuf);
-      writeMutex.release();
-      switch(rc)
-      {
-        case CXRC_OK:
-          result = TRC_OK;
-          break;
-        case CXRC_ERROR:
-        case CXRC_WRONG_PARAMETER:
-        case CXRC_NOT_FOUND:
-        case CXRC_PARTNER_LOST:
-        case CXRC_WRONG_HANDLE:
-          result = TRC_OK;
-          iConnected = 0;
-          iServiceServer = 0;
-          #ifndef TRCLIGHT
-          stopRead();
-          #endif
-          break;
-        case CXRC_NAME_ALREADY_EXISTS:
-        case CXRC_BUFFER_TOO_SMALL:
-        case CXRC_MORE_DATA:
-        case TRC_OUTOFMEMORY:
-          result = TRC_ERROR;
-          break;
-        default:
-          result = TRC_ERROR;
-      }
-    }
-    else if (lTopicState == TS_INACTIVE)
-    {
-      result = TRC_OK;
-    }
-    else
-    {
-      result = TRC_ERROR;
-    }
-  }
-  else
-    result = TRC_OK;
-  return result;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long TraceClient::writeDump(const char* pszTopic, const char *pszFile, short  sLine, const char *pszFunction, long lDumpSize, const char *pDump)
-
- COMMENTS:  trace a Dump to TraceService
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-long TraceClient::writeDump(const char* pszTopic, const char *pszFile, short  sLine, const char *pszFunction, long lDumpSize, const char *pDump)
-{
-  long result, rc;
-  int iTopicState;
-  #ifndef TRCLIGHT
-  if(!iConnected && !Thread.iThreadRunning)
-    connect();
-  #else
-  if(!iConnected)
-    connect();
-  #endif
-
-  iTopicState = getTopicState(pszTopic);
-  if(bCltdbg && (iTopicState == TS_UNKNOWN || iTopicState == TS_ACTIVE))
-  {
-    matString debug;
-    int i;
-    int j;
-    char szBuffer[256];
-
-
-    debug= ApplicationName.strObject();
-    debug.catData(":\n");
-    for(i = 0; i < lDumpSize; i += 16)
-    {
-      sprintf(szBuffer,"[%04x,%04d] ",i, i);
-      debug.catData(szBuffer);
-
-      for(j = 0; j < 16 && (i+j) < lDumpSize; j++)
-      {
-        if(j == 8)
-        {
-          sprintf(szBuffer,"- %02x ",((unsigned char*)pDump)[i+j]);
-          debug.catData(szBuffer);
-        }
-        else
-        {
-          sprintf(szBuffer,"%02x ",((unsigned char*)pDump)[i+j]);
-          debug.catData(szBuffer);
-        }
-      }
-
-      while(j < 16)
-      {
-        if(j == 8)
-          debug.catData("     ");
-        else
-          debug.catData("   ");
-        j++;
-      }
-
-      for(j = 0; j < 16 && (i+j) < lDumpSize; j++)
-        debug.catData((pDump[i+j] >= ' ') ? &pDump[i+j]: ".", 1);
-
-      debug.catData("\n");
-    }
-    OutputDebugString(debug.getData());
-  }
-  if (iConnected)
-  {
-    if (iTopicState == TS_UNKNOWN || iTopicState == TS_ACTIVE)
-    {
-      // osSleep(1);  // give up the remainder of their current time slice.
-      writeMutex.request();
-      rc = writeDump02(lOwnClientHandle, lServiceServerHandle, pszTopic, pszFile, sLine, pszFunction, lDumpSize, pDump, pcxBuf);
-      writeMutex.release();
-      switch(rc)
-      {
-        case CXRC_OK:
-          result = TRC_OK;
-          break;
-        case CXRC_ERROR:
-        case CXRC_WRONG_PARAMETER:
-        case CXRC_NOT_FOUND:
-        case CXRC_PARTNER_LOST:
-        case CXRC_WRONG_HANDLE:
-          result = TRC_OK;
-          iConnected = 0;
-          iServiceServer = 0;
-          #ifndef TRCLIGHT
-          stopRead();
-          #endif
-          break;
-        case CXRC_NAME_ALREADY_EXISTS:
-        case CXRC_BUFFER_TOO_SMALL:
-        case CXRC_MORE_DATA:
-        case TRC_OUTOFMEMORY:
-          result = TRC_ERROR;
-          break;
-        default:
-          result = TRC_ERROR;
-      }
-    }
-    else if (iTopicState == TS_INACTIVE)
-    {
-      result = TRC_OK;
-    }
-    else
-    {
-      result = TRC_ERROR;
-    }
-  }
-  else
-    result = TRC_OK;
-  return result;
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long TraceClient::NewFile(long lTraceLevel)
-
- COMMENTS:  start new TraceFiles
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-long TraceClient::NewFile(const char* pszTopic)
-{
-  long result, rc;
-  int iTopicState;
-  #ifndef TRCLIGHT
-  if(!iConnected && !Thread.iThreadRunning)
-    connect();
-  #else
-  if(!iConnected)
-    connect();
-  #endif
-
-  if (iConnected)
-  {
-    iTopicState = getTopicState(pszTopic);
-    if (iTopicState == TS_UNKNOWN || iTopicState == TS_ACTIVE)
-    {
-      // osSleep(1);  // give up the remainder of their current time slice.
-      writeMutex.request();
-      rc = writeCmdNewFile02(lOwnClientHandle, lServiceServerHandle, pszTopic, pcxBuf);
-      writeMutex.release();
-      switch(rc)
-      {
-        case CXRC_OK:
-          result = TRC_OK;
-          break;
-        case CXRC_ERROR:
-        case CXRC_WRONG_PARAMETER:
-        case CXRC_NOT_FOUND:
-        case CXRC_PARTNER_LOST:
-        case CXRC_WRONG_HANDLE:
-          result = TRC_OK;
-          iConnected = 0;
-          iServiceServer = 0;
-          #ifndef TRCLIGHT
-          stopRead();
-          #endif
-          break;
-        case CXRC_NAME_ALREADY_EXISTS:
-        case CXRC_BUFFER_TOO_SMALL:
-        case CXRC_MORE_DATA:
-        case TRC_OUTOFMEMORY:
-          result = TRC_ERROR;
-          break;
-        default:
-          result = TRC_ERROR;
-      }
-    }
-    else if (iTopicState == TS_INACTIVE)
-    {
-      result = TRC_OK;
-    }
-    else
-    {
-      result = TRC_ERROR;
-    }
-  }
-  else
-    result = TRC_OK;
-  return result;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long TraceClient::cryptTrace(long lTraceLevel, const char *pszFile, short  sLine, const char *pszFunction, long lDumpSize, const char *pDump)
-
- COMMENTS:  encrypt trace
-
- DATE:      19.04.2007
-
- AUTHOR:    MATERNA Information & Communications  (SteT)
-
----------------------------------------------------------------------------*/
-long TraceClient::cryptTrace(long lTraceLevel, const char *pszFile, short  sLine, const char *pszFunction, long lDumpSize, const char *pDump)
-{
-  long result, rc;
-  #ifndef TRCLIGHT
-  if(!iConnected && !Thread.iThreadRunning)
-    connect();
-  #else
-  if(!iConnected)
-    connect();
-  #endif
-  if (iConnected)
-  {
-    if ((iLevelAsMask && (lTraceLevel & this->lTraceMask))||(!iLevelAsMask && (lTraceLevel <= this->lTraceLevel)))
-    {
-      // osSleep(1);  // give up the remainder of their current time slice.
-      writeMutex.request();
-      rc = writeCrypt01(lOwnClientHandle, lServiceServerHandle, lTraceLevel, pszFile, sLine, pszFunction, lDumpSize, pDump, pcxBuf);
-      writeMutex.release();
-      switch(rc)
-      {
-        case CXRC_OK:
-          result = TRC_OK;
-          break;
-        case CXRC_ERROR:
-        case CXRC_WRONG_PARAMETER:
-        case CXRC_NOT_FOUND:
-        case CXRC_PARTNER_LOST:
-        case CXRC_WRONG_HANDLE:
-          result = TRC_OK;
-          iConnected = 0;
-          iServiceServer = 0;
-          #ifndef TRCLIGHT
-          stopRead();
-          #endif
-          break;
-        case CXRC_NAME_ALREADY_EXISTS:
-        case CXRC_BUFFER_TOO_SMALL:
-        case CXRC_MORE_DATA:
-        case TRC_OUTOFMEMORY:
-          result = TRC_ERROR;
-          break;
-        default:
-          result = TRC_ERROR;
-      }
-    }
-    else
-      result = TRC_OK;
-  }
-  else
-    result = TRC_OK;
-  return result;
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long TraceClient::writeDump(const char* pszTopic, const char *pszFile, short  sLine, const char *pszFunction, long lDumpSize, const char *pDump)
-
- COMMENTS:  encrypt trace
-
- DATE:      19.04.2007
-
- AUTHOR:    MATERNA Information & Communications  (SteT)
-
----------------------------------------------------------------------------*/
-long TraceClient::cryptTrace(const char* pszTopic, const char *pszFile, short  sLine, const char *pszFunction, long lDumpSize, const char *pDump)
-{
-  long result, rc;
-  int iTopicState;
-  #ifndef TRCLIGHT
-  if(!iConnected && !Thread.iThreadRunning)
-    connect();
-  #else
-  if(!iConnected)
-    connect();
-  #endif
-
-  iTopicState = getTopicState(pszTopic);
-  if (iConnected)
-  {
-    if (iTopicState == TS_UNKNOWN || iTopicState == TS_ACTIVE)
-    {
-      // osSleep(1);  // give up the remainder of their current time slice.
-      writeMutex.request();
-      rc = writeCrypt02(lOwnClientHandle, lServiceServerHandle, pszTopic, pszFile, sLine, pszFunction, lDumpSize, pDump, pcxBuf);
-      writeMutex.release();
-      switch(rc)
-      {
-        case CXRC_OK:
-          result = TRC_OK;
-          break;
-        case CXRC_ERROR:
-        case CXRC_WRONG_PARAMETER:
-        case CXRC_NOT_FOUND:
-        case CXRC_PARTNER_LOST:
-        case CXRC_WRONG_HANDLE:
-          result = TRC_OK;
-          iConnected = 0;
-          iServiceServer = 0;
-          #ifndef TRCLIGHT
-          stopRead();
-          #endif
-          break;
-        case CXRC_NAME_ALREADY_EXISTS:
-        case CXRC_BUFFER_TOO_SMALL:
-        case CXRC_MORE_DATA:
-        case TRC_OUTOFMEMORY:
-          result = TRC_ERROR;
-          break;
-        default:
-          result = TRC_ERROR;
-      }
-    }
-    else if (iTopicState == TS_INACTIVE)
-    {
-      result = TRC_OK;
-    }
-    else
-    {
-      result = TRC_ERROR;
-    }
-  }
-  else
-    result = TRC_OK;
-  return result;
-}
-
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long TraceClient::moveTraceFile(const char* pszPath)
-
- COMMENTS:  move the trace file
-
- DATE:      09.08.2007
-
- AUTHOR:    MATERNA Information & Communications  (SteT)
-
----------------------------------------------------------------------------*/
-long TraceClient::moveTraceFile(const char* pszPath)
-{
-  long result, rc;
-  #ifndef TRCLIGHT
-  if(!iConnected && !Thread.iThreadRunning)
-    connect();
-  #else
-  if(!iConnected)
-    connect();
-  #endif
-
-  if (iConnected)
-  {
-    // osSleep(1);  // give up the remainder of their current time slice.
-    writeMutex.request();
-    rc = writeCmdMove01(lOwnClientHandle, lServiceServerHandle, pszPath, pcxBuf);
-    writeMutex.release();
-    switch(rc)
-    {
-      case CXRC_OK:
-        result = TRC_OK;
-        break;
-      case CXRC_ERROR:
-      case CXRC_WRONG_PARAMETER:
-      case CXRC_NOT_FOUND:
-      case CXRC_PARTNER_LOST:
-      case CXRC_WRONG_HANDLE:
-        result = TRC_OK;
-        iConnected = 0;
-        iServiceServer = 0;
-        #ifndef TRCLIGHT
-        stopRead();
-        #endif
-        break;
-      case CXRC_NAME_ALREADY_EXISTS:
-      case CXRC_BUFFER_TOO_SMALL:
-      case CXRC_MORE_DATA:
-      case TRC_OUTOFMEMORY:
-        result = TRC_ERROR;
-        break;
-      default:
-        result = TRC_ERROR;
-    }
-  }
-  else
-    result = TRC_OK;
-  return result;
-}
-
-
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long TraceClient::traceTrack(long lTraceLevel, const char *pszFile, short  sLine, const char *pszFunction, long trackid, const char *pszTrack)
-
- COMMENTS:  encrypt trace
-
- DATE:      20.09.2007
-
- AUTHOR:    MATERNA Information & Communications  (SteT)
-
----------------------------------------------------------------------------*/
-long TraceClient::traceTrack(long lTraceLevel, const char *pszFile, short  sLine, const char *pszFunction, long trackid, const char *pszTrack)
-{
-  long result, rc;
-  #ifndef TRCLIGHT
-  if(!iConnected && !Thread.iThreadRunning)
-    connect();
-  #else
-  if(!iConnected)
-    connect();
-  #endif
-  if (iConnected)
-  {
-    if ((iLevelAsMask && (lTraceLevel & this->lTraceMask))||(!iLevelAsMask && (lTraceLevel <= this->lTraceLevel)))
-    {
-      // osSleep(1);  // give up the remainder of their current time slice.
-      writeMutex.request();
-      rc = writeTrack01(lOwnClientHandle, lServiceServerHandle, lTraceLevel, pszFile, sLine, pszFunction, trackid, pszTrack, pcxBuf);
-      writeMutex.release();
-      switch(rc)
-      {
-        case CXRC_OK:
-          result = TRC_OK;
-          break;
-        case CXRC_ERROR:
-        case CXRC_WRONG_PARAMETER:
-        case CXRC_NOT_FOUND:
-        case CXRC_PARTNER_LOST:
-        case CXRC_WRONG_HANDLE:
-          result = TRC_OK;
-          iConnected = 0;
-          iServiceServer = 0;
-          #ifndef TRCLIGHT
-          stopRead();
-          #endif
-          break;
-        case CXRC_NAME_ALREADY_EXISTS:
-        case CXRC_BUFFER_TOO_SMALL:
-        case CXRC_MORE_DATA:
-        case TRC_OUTOFMEMORY:
-          result = TRC_ERROR;
-          break;
-        default:
-          result = TRC_ERROR;
-      }
-    }
-    else
-      result = TRC_OK;
-  }
-  else
-    result = TRC_OK;
-  return result;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long TraceClient::traceTrack(const char *pszTopic, const char *pszFile, short  sLine, const char *pszFunction, long trackid, const char *pszTrack)
-
- COMMENTS:  encrypt trace
-
- DATE:      20.09.2007
-
- AUTHOR:    MATERNA Information & Communications  (SteT)
-
----------------------------------------------------------------------------*/
-long TraceClient::traceTrack(const char *pszTopic, const char *pszFile, short  sLine, const char *pszFunction, long trackid, const char *pszTrack)
-{
-  long result, rc;
-  int iTopicState;
-  #ifndef TRCLIGHT
-  if(!iConnected && !Thread.iThreadRunning)
-    connect();
-  #else
-  if(!iConnected)
-    connect();
-  #endif
-
-  iTopicState = getTopicState(pszTopic);
-  if (iConnected)
-  {
-    if (iTopicState == TS_UNKNOWN || iTopicState == TS_ACTIVE)
-    {
-      // osSleep(1);  // give up the remainder of their current time slice.
-      writeMutex.request();
-      rc = writeTrack02(lOwnClientHandle, lServiceServerHandle, pszTopic, pszFile, sLine, pszFunction, trackid, pszTrack, pcxBuf);
-      writeMutex.release();
-      switch(rc)
-      {
-        case CXRC_OK:
-          result = TRC_OK;
-          break;
-        case CXRC_ERROR:
-        case CXRC_WRONG_PARAMETER:
-        case CXRC_NOT_FOUND:
-        case CXRC_PARTNER_LOST:
-        case CXRC_WRONG_HANDLE:
-          result = TRC_OK;
-          iConnected = 0;
-          iServiceServer = 0;
-          #ifndef TRCLIGHT
-          stopRead();
-          #endif
-          break;
-        case CXRC_NAME_ALREADY_EXISTS:
-        case CXRC_BUFFER_TOO_SMALL:
-        case CXRC_MORE_DATA:
-        case TRC_OUTOFMEMORY:
-          result = TRC_ERROR;
-          break;
-        default:
-          result = TRC_ERROR;
-      }
-    }
-    else if (iTopicState == TS_INACTIVE)
-    {
-      result = TRC_OK;
-    }
-    else
-    {
-      result = TRC_ERROR;
-    }
-  }
-  else
-    result = TRC_OK;
-  return result;
-}
-
-
-
-/*************************************************************************************************
-      End Of File  TrcClt.cpp
-************************************************************************************************/
-
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/src/TrcHdlClt.cpp b/SelfServiceCommon/Services/cpp/TrcServ/static/src/TrcHdlClt.cpp
deleted file mode 100644
index adf4652f..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/src/TrcHdlClt.cpp
+++ /dev/null
@@ -1,736 +0,0 @@
-/****************************************************************************
-
- FILE:      TraceClient.cpp
-
- PURPOSE:   sending traces to TraceService
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
- HISTORY:   20.09.1999 1.0.0 ts initial coding
-                       1.0.1 ts sleep time expanded to 1 ms
-                       1.0.2 ts sleep a while when init return an error
-                       1.0.3 ts CXRC_WRONG_HANDLE
-            19.05.2000 2.0.0 ts use only one cxHandle per Client
-            06.06.2000 2.0.1 ts closeTrace()
-            15.09.2000 2.0.2 ts createError
-            15.08.2001 2.1.0 ts do not use matBaseNt.lib
-            30.08.2001 2.1.1 ts buffer traces
-            22.10.2001 2.1.2 ts added openTraceSLT/Init03 for short life time processes => server sends no message to client
-            11.12.2001 2.1.3 ts wrtTrace and wrtTraceForTopic replace writeTrace and writeTraceForTopic(wrong calling convention used)
-            29.07.2002 2.1.4 ts error in readCmdNewFile01, readCmdTopicState01 removed
-            20.04.2004 2.1.6 ts client send traces to debugview
-            23.08.2006 2.1.7 ts crash at high load
-            04.01.2007 2.1.8 SteT Absturz vom TrcServ (Invalid Handle)
-            19.04.2007 2.1.9 SteT EDB 27092: close in der Trace DLL soll warten, dass das schliessen erfolgreich war (max. 2 Sekunden)
-            19.04.2007 2.1.10 SteT EDB 27417: Kreditkartendaten sollen nicht als plain Text im Trace erscheinen
-            09.08.2007 2.1.13 SteT EDB 27738: TrcServ support move method
-            11.10.2007 2.1.18 SteT EDB 27738: TrcServ support move method, function export corrected
-
-****************************************************************************/
-
-
-/***************************************************************************
-
-  Includes
-
-***************************************************************************/
-
-#include <string.h>
-#include <stdarg.h>
-#include <stdio.h>
-#include <windows.h>
-
-#ifndef __IBMCPP__
-#include <iostream>
-#else
-#include <iostream.h>
-#define std
-#endif
-
-
-
-#include "CXAPI.H"
-#include "sapiOS.H"
-#include "EventSem.hpp"
-#include "Mutex.hpp"
-#include "Asso.h"
-#include "Version.h"
-#include "HdlLst.h"
-#include "trcclt.h"
-
-#include "TrcHdlExp.h"
-#include "TrcPrtcl.H"
-
-/***************************************************************************
-
-  Defines
-
-***************************************************************************/
-
-#define MAXLEVEL         0x7FFFFFFF
-// #define DEBUGOUT
-// #define WAITBEFORECXDELETE
-// #define TRCLIGHT
-
-
-
-VERSION_ID_DT( 02, 01, 18 );
-
-
-#ifdef _WIN32      // WIN9x/NT section
-#ifdef _MSC_VER    // MSVC     subsection
-#define _Optlink
-#endif // _MSC_VER
-#endif // _WIN32
-
-/***************************************************************************
-
-  Exported Functions
-
-
-  trcHandle _stdcall openTrace(CX_CONSTSTR pszApplication);
-// 22.10.2001 2.1.2 ts added openTraceSLT/Init03 for short life time processes => server sends no message to client
-  trcHandle _stdcall openTraceSLT(CX_CONSTSTR pszApplication);
-  void _stdcall closeTrace(trcHandle hdl);
-  long _stdcall writeTrace(trcHandle hdl, long lTraceLevel, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, CX_CONSTSTR pszFormat, ...);
-  long _cdecl   wrtTrace(trcHandle hdl, long lTraceLevel, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, CX_CONSTSTR pszFormat, ...);
-  long _stdcall writeTraceText(trcHandle hdl, long lTraceLevel, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, CX_CONSTSTR pszText);
-  long _stdcall dumpTrace(trcHandle hdl, long lTraceLevel, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, long lDumpSize, CX_CONSTSTR pDump);
-  long _stdcall startNewTraceFile(trcHandle hdl, long lTraceLevel);
-  long _stdcall writeTraceTextForTopic(trcHandle hdl, CX_CONSTSTR pszTopic, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, CX_CONSTSTR pszText);
-  long _stdcall writeTraceForTopic(trcHandle hdl, CX_CONSTSTR pszTopic, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, CX_CONSTSTR pszFormat,...);
-  long _cdecl   wrtTraceForTopic(trcHandle hdl, CX_CONSTSTR pszTopic, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, CX_CONSTSTR pszFormat,...);
-  long _stdcall dumpTraceForTopic(trcHandle hdl, CX_CONSTSTR pszTopic, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, long lDumpSize, CX_CONSTSTR pDump);
-  long _stdcall startNewTraceFileForTopic(trcHandle hdl, CX_CONSTSTR pszTopic);
-
-  long _stdcall cryptTrace(trcHandle hdl, long lTraceLevel, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, long lDumpSize, CX_CONSTSTR pDump);
-  long _stdcall cryptTraceForTopic(trcHandle hdl, CX_CONSTSTR pszTopic, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, long lDumpSize, CX_CONSTSTR pDump);
-  long _stdcall moveTrace(trcHandle hdl, CX_CONSTSTR pszPath);
-
-***************************************************************************/
-
-
-/***************************************************************************
-
-  Function / Classes ProtoTypes
-
-***************************************************************************/
-
-// unsigned long __stdcall _DLL_InitTerm( HINSTANCE hModule, DWORD ul_reason_for_call, LPVOID lpReserved);
-void _Optlink cleanup();
-
-
-class __TraceClient
-{
-    mutexSemaphore Access;
-  public:
-
-    HandleList<TraceClient*>TraceList;
-    __TraceClient(): TraceList(0, 10)
-    {
-      // some one should call close
-      // but not atexit, because close may start a new thread
-      // atexit(cleanup);
-    }
-    ~__TraceClient()
-    {
-      // and not the destructor of a global variable, because close may start a new thread
-      //close();
-    }
-    void close()
-    {
-      request();
-      int i;
-      TraceClient* pTrace;
-      for(i= 0; i < TraceList.getSize(); i++)
-      {
-        pTrace= TraceList.get(i);
-        if (pTrace)
-          delete pTrace;
-        TraceList.del(i);
-      }
-      release();
-    }
-    void request()
-    {
-      Access.request();
-    }
-    void release()
-    {
-      Access.release();
-    }
-};
-
-/***************************************************************************
-
-  Global Variables
-
-***************************************************************************/
-
-
-// TraceO will created at load time => TraceO->Trace will be created at load time
-// but TraceO->Trace will be destroyed by cleanup before _DLL_InitTerm is called and any static variables are freed
-// because the destructor needs the threads started by CXAPI
-static __TraceClient TraceO;
-
-/***************************************************************************
-
-  Function Definition
-
-***************************************************************************/
-
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void _Optlink cleanup()
-
- COMMENTS:  called atexit to close connections, before
-
- DATE:      30.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-void _Optlink cleanup()
-{
-  TraceO.close();
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  trcHandle _stdcall openTrace(CX_CONSTSTR pszApplication)
-
- COMMENTS:  initialize traceclient
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-
-trcHandle _stdcall openTrace(CX_CONSTSTR pszApplication)
-{
-  TraceClient* pTrace;
-  trcHandle result;
-  result= INVALIDHANDLE_FULL;
-
-  TraceO.request();
-  pTrace= new TraceClient;
-  if (pTrace)
-  {
-    result= TraceO.TraceList.set(pTrace);
-    if (result < 0)
-      delete pTrace;
-    else if (pszApplication == 0)
-      pTrace->openTrace();
-    else
-      pTrace->openTrace(pszApplication);
-  }
-  TraceO.release();
-  return result;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  trcHandle _stdcall openTraceSLT(CX_CONSTSTR pszApplication)
-
- COMMENTS:  initialize traceclient
-            short life time processes => server sends no message to client
-
- DATE:      22.10.2001
-
- AUTHOR:    MATERNA Information & Communications  (TS)
-
----------------------------------------------------------------------------*/
-trcHandle _stdcall openTraceSLT(CX_CONSTSTR pszApplication)
-{
-  TraceClient* pTrace;
-  trcHandle result;
-  result= INVALIDHANDLE_FULL;
-
-  TraceO.request();
-  pTrace= new TraceClient;
-  if (pTrace)
-  {
-    result= TraceO.TraceList.set(pTrace);
-    if (result < 0)
-      delete pTrace;
-    else if (pszApplication == 0)
-      pTrace->openTrace(1);
-    else
-      pTrace->openTrace(pszApplication, 1);
-  }
-  TraceO.release();
-  return result;
-}
-
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void _stdcall closeTrace(trcHandle hdl )
-
- COMMENTS:  cleanup traceclient
-
- DATE:      06.06.2000
-
- AUTHOR:    MATERNA Information & Communications  (TS)
-
----------------------------------------------------------------------------*/
-
-void _stdcall closeTrace(trcHandle hdl )
-{
-  TraceClient* pTrace;
-  TraceO.request();
-  pTrace= TraceO.TraceList.get(hdl);
-  if (pTrace)
-  {
-    delete pTrace;
-    TraceO.TraceList.del(hdl);
-  }
-  TraceO.release();
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long _stdcall writeTraceText(trcHandle hdl, long lTraceLevel, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, CX_CONSTSTR pszText)
-
- COMMENTS:  trace text
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-long _stdcall writeTraceText(trcHandle hdl, long lTraceLevel, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, CX_CONSTSTR pszText)
-{
-  long result;
-  TraceClient* pTrace;
-  TraceO.request();
-  pTrace= TraceO.TraceList.get(hdl);
-  if (pTrace)
-    result = pTrace->writeText(lTraceLevel, pszFile, sLine, pszFunction, pszText);
-  else
-    result = TRC_ERROR;
-  TraceO.release();
-  return result;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long _stdcall writeTrace(trcHandle hdl, long lTraceLevel, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, CX_CONSTSTR pszFormat, ...)
-
- COMMENTS:  trace text
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-long _stdcall writeTrace(trcHandle hdl, long lTraceLevel, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, CX_CONSTSTR pszFormat, ...)
-{
-  long result;
-  TraceClient* pTrace;
-  va_list   arg_ptr;
-  char String[4096];
-
-  /* get pointer to first argument */
-  va_start( arg_ptr, pszFormat);
-
-  _vsnprintf(String, sizeof(String), pszFormat, arg_ptr);
-  String[sizeof(String)-1]= 0;
-
-  va_end( arg_ptr);
-
-  TraceO.request();
-  pTrace= TraceO.TraceList.get(hdl);
-  if (pTrace)
-    result = pTrace->writeText( lTraceLevel, pszFile, sLine, pszFunction, String);
-  else
-    result = TRC_ERROR;
-  TraceO.release();
-
-
-  return result;
-
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long _cdecl wrtTrace(trcHandle hdl, long lTraceLevel, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, CX_CONSTSTR pszFormat, ...)
-
- COMMENTS:  trace text
-
- DATE:      11.12.2001
-
- AUTHOR:    MATERNA Information & Communications  (TS)
-
----------------------------------------------------------------------------*/
-long _cdecl wrtTrace(trcHandle hdl, long lTraceLevel, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, CX_CONSTSTR pszFormat, ...)
-{
-  long result;
-  TraceClient* pTrace;
-  va_list   arg_ptr;
-  char String[4096];
-
-  /* get pointer to first argument */
-  va_start( arg_ptr, pszFormat);
-
-  _vsnprintf(String, sizeof(String), pszFormat, arg_ptr);
-  String[sizeof(String)-1]= 0;
-
-  va_end( arg_ptr);
-
-  TraceO.request();
-  pTrace= TraceO.TraceList.get(hdl);
-  if (pTrace)
-    result = pTrace->writeText( lTraceLevel, pszFile, sLine, pszFunction, String);
-  else
-    result = TRC_ERROR;
-  TraceO.release();
-
-
-  return result;
-
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long _stdcall dumpTrace(trcHandle hdl, long lTraceLevel, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, long lDumpSize, CX_CONSTSTR pDump)
-
- COMMENTS:  trace dump
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-long _stdcall dumpTrace(trcHandle hdl, long lTraceLevel, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, long lDumpSize, CX_CONSTSTR pDump)
-{
-  long result;
-  TraceClient* pTrace;
-  TraceO.request();
-  pTrace= TraceO.TraceList.get(hdl);
-  if (pTrace)
-    result = pTrace->writeDump(lTraceLevel, pszFile, sLine, pszFunction, lDumpSize, pDump);
-  else
-    result = TRC_ERROR;
-  TraceO.release();
-
-  return result;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long _stdcall startNewTraceFile(trcHandle hdl, long lTraceLevel)
-
- COMMENTS:  start new files
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-long _stdcall startNewTraceFile(trcHandle hdl, long lTraceLevel)
-{
-  long result;
-  TraceClient* pTrace;
-  TraceO.request();
-  pTrace= TraceO.TraceList.get(hdl);
-  if (pTrace)
-    result = pTrace->NewFile(lTraceLevel);
-  else
-    result = TRC_ERROR;
-  TraceO.release();
-  return result;
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long _stdcall writeTraceTextForTopic(trcHandle hdl, CX_CONSTSTR pszTopic, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, CX_CONSTSTR pszText)
-
- COMMENTS:  trace text
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-long _stdcall writeTraceTextForTopic(trcHandle hdl, CX_CONSTSTR pszTopic, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, CX_CONSTSTR pszText)
-{
-  long result;
-  TraceClient* pTrace;
-  TraceO.request();
-  pTrace= TraceO.TraceList.get(hdl);
-  if (pTrace)
-    result = pTrace->writeText(pszTopic, pszFile, sLine, pszFunction, pszText);
-  else
-    result = TRC_ERROR;
-  TraceO.release();
-  return result;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long _stdcall writeTraceForTopic(trcHandle hdl, CX_CONSTSTR pszTopic, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, CX_CONSTSTR pszFormat, ...)
-
- COMMENTS:  trace text
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-long _stdcall writeTraceForTopic(trcHandle hdl, CX_CONSTSTR pszTopic, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, CX_CONSTSTR pszFormat, ...)
-{
-  long result;
-  va_list   arg_ptr;
-  TraceClient* pTrace;
-  char String[4096];
-
-  /* get pointer to first argument */
-  va_start( arg_ptr, pszFormat);
-
-  _vsnprintf(String, sizeof(String), pszFormat, arg_ptr);
-  String[sizeof(String)-1]= 0;
-
-  va_end( arg_ptr);
-
-  TraceO.request();
-  pTrace= TraceO.TraceList.get(hdl);
-  if (pTrace)
-    result = pTrace->writeText(pszTopic, pszFile, sLine, pszFunction, String);
-  else
-    result = TRC_ERROR;
-  TraceO.release();
-
-  return result;
-
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long _cdecl wrtTraceForTopic(trcHandle hdl, CX_CONSTSTR pszTopic, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, CX_CONSTSTR pszFormat, ...)
-
- COMMENTS:  trace text
-
- DATE:      11.12.2001
-
- AUTHOR:    MATERNA Information & Communications  (TS)
-
----------------------------------------------------------------------------*/
-long _cdecl wrtTraceForTopic(trcHandle hdl, CX_CONSTSTR pszTopic, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, CX_CONSTSTR pszFormat, ...)
-{
-  long result;
-  va_list   arg_ptr;
-  TraceClient* pTrace;
-  char String[4096];
-
-  /* get pointer to first argument */
-  va_start( arg_ptr, pszFormat);
-
-  _vsnprintf(String, sizeof(String), pszFormat, arg_ptr);
-  String[sizeof(String)-1]= 0;
-
-  va_end( arg_ptr);
-
-  TraceO.request();
-  pTrace= TraceO.TraceList.get(hdl);
-  if (pTrace)
-    result = pTrace->writeText(pszTopic, pszFile, sLine, pszFunction, String);
-  else
-    result = TRC_ERROR;
-  TraceO.release();
-
-  return result;
-
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long _stdcall dumpTraceForTopic(trcHandle hdl, CX_CONSTSTR pszTopic, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, long lDumpSize, CX_CONSTSTR pDump)
-
- COMMENTS:  trace dump
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-long _stdcall dumpTraceForTopic(trcHandle hdl, CX_CONSTSTR pszTopic, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, long lDumpSize, CX_CONSTSTR pDump)
-{
-  long result;
-  TraceClient* pTrace;
-  TraceO.request();
-  pTrace= TraceO.TraceList.get(hdl);
-  if (pTrace)
-    result = pTrace->writeDump(pszTopic, pszFile, sLine, pszFunction, lDumpSize, pDump);
-  else
-    result = TRC_ERROR;
-  TraceO.release();
-  return result;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long _stdcall startNewTraceFileForTopic(trcHandle hdl, CX_CONSTSTR pszTopic)
-
- COMMENTS:  start new files
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-long _stdcall startNewTraceFileForTopic(trcHandle hdl, CX_CONSTSTR pszTopic)
-{
-  long result;
-  TraceClient* pTrace;
-  TraceO.request();
-  pTrace= TraceO.TraceList.get(hdl);
-  if (pTrace)
-    result = pTrace->NewFile(pszTopic);
-  else
-    result = TRC_ERROR;
-  TraceO.release();
-  return result;
-}
-
-
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long _stdcall cryptTrace(trcHandle hdl, long lTraceLevel, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, long lDumpSize, CX_CONSTSTR pDump)
-
- COMMENTS:  trace encrypted
-
- DATE:      19.04.2007
-
- AUTHOR:    MATERNA Information & Communications  (SteT)
-
----------------------------------------------------------------------------*/
-long _stdcall cryptTrace(trcHandle hdl, long lTraceLevel, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, long lDumpSize, CX_CONSTSTR pDump)
-{
-  long result;
-  TraceClient* pTrace;
-  TraceO.request();
-  pTrace= TraceO.TraceList.get(hdl);
-  if (pTrace)
-    result = pTrace->cryptTrace(lTraceLevel, pszFile, sLine, pszFunction, lDumpSize, pDump);
-  else
-    result = TRC_ERROR;
-  TraceO.release();
-
-  return result;
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long _stdcall cryptTraceForTopic(trcHandle hdl, CX_CONSTSTR pszTopic, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, long lDumpSize, CX_CONSTSTR pDump)
-
- COMMENTS:  trace encrypted
-
- DATE:      19.04.2007
-
- AUTHOR:    MATERNA Information & Communications  (SteT)
-
----------------------------------------------------------------------------*/
-long _stdcall cryptTraceForTopic(trcHandle hdl, CX_CONSTSTR pszTopic, CX_CONSTSTR pszFile, short  sLine, CX_CONSTSTR pszFunction, long lDumpSize, CX_CONSTSTR pDump)
-{
-  long result;
-  TraceClient* pTrace;
-  TraceO.request();
-  pTrace= TraceO.TraceList.get(hdl);
-  if (pTrace)
-    result = pTrace->cryptTrace(pszTopic, pszFile, sLine, pszFunction, lDumpSize, pDump);
-  else
-    result = TRC_ERROR;
-  TraceO.release();
-  return result;
-}
-
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long _stdcall moveTrace(trcHandle hdl, CX_CONSTSTR pszPath)
-
- COMMENTS:  move file
-
- DATE:      09.08.2007
-
- AUTHOR:    MATERNA Information & Communications  (SteT)
-
----------------------------------------------------------------------------*/
-long _stdcall moveTrace(trcHandle hdl, CX_CONSTSTR pszPath)
-{
-  long result;
-  TraceClient* pTrace;
-  TraceO.request();
-  pTrace= TraceO.TraceList.get(hdl);
-  if (pTrace)
-    result = pTrace->moveTraceFile(pszPath);
-  else
-    result = TRC_ERROR;
-  TraceO.release();
-  return result;
-}
-
-/*
----------------------------------------------------------------------------
-
- FUNCTION:  long _stdcall traceTrack(trcHandle hdl, long lTraceLevel, CX_CONSTSTR pszFile, short sLine, CX_CONSTSTR pszFunction, long trackid, CX_CONSTSTR pszTrack)
-
- COMMENTS:  trace credit card track
-
- DATE:      20.09.2007
-
- AUTHOR:    MATERNA Information & Communications  (SteT)
-
----------------------------------------------------------------------------
-*/
-long _stdcall traceTrack(trcHandle hdl, long lTraceLevel, CX_CONSTSTR pszFile, short sLine, CX_CONSTSTR pszFunction, long trackid, CX_CONSTSTR pszTrack)
-{
-  long result;
-  TraceClient* pTrace;
-  TraceO.request();
-  pTrace= TraceO.TraceList.get(hdl);
-  if (pTrace)
-    result = pTrace->traceTrack(lTraceLevel, pszFile, sLine, pszFunction, trackid, pszTrack);
-  else
-    result = TRC_ERROR;
-  TraceO.release();
-  return result;
-}
-
-
-/*
----------------------------------------------------------------------------
-
- FUNCTION:  long _stdcall traceTrackForTopic(trcHandle hdl, CX_CONSTSTR pszTopic, CX_CONSTSTR pszFile, short sLine, CX_CONSTSTR pszFunction, long trackid, CX_CONSTSTR pszTrack)
-
- COMMENTS:  trace credit card track
-
- DATE:      20.09.2007
-
- AUTHOR:    MATERNA Information & Communications  (SteT)
-
----------------------------------------------------------------------------
-*/
-long _stdcall traceTrackForTopic(trcHandle hdl, CX_CONSTSTR pszTopic, CX_CONSTSTR pszFile, short sLine, CX_CONSTSTR pszFunction, long trackid, CX_CONSTSTR pszTrack)
-{
-  long result;
-  TraceClient* pTrace;
-  TraceO.request();
-  pTrace= TraceO.TraceList.get(hdl);
-  if (pTrace)
-    result = pTrace->traceTrack(pszTopic, pszFile, sLine, pszFunction, trackid, pszTrack);
-  else
-    result = TRC_ERROR;
-  TraceO.release();
-  return result;
-}
-
-
-
-
-/*************************************************************************************************
-      End Of File  TraceClient.cpp
-************************************************************************************************/
-
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/src/TrcPrtcl.cpp b/SelfServiceCommon/Services/cpp/TrcServ/static/src/TrcPrtcl.cpp
deleted file mode 100644
index ea405759..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/src/TrcPrtcl.cpp
+++ /dev/null
@@ -1,3440 +0,0 @@
-/****************************************************************************
-
- FILE:      TraceProtocol.cpp
-
- PURPOSE:   common definitions for TraceService and TraceClient
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
- HISTORY:
-   30.08.2001 ts buffer traces
-   29.07.2002 ts error in readCmdNewFile01, readCmdTopicState01 removed
-
-****************************************************************************/
-
-
-/***************************************************************************
-
-  Includes
-
-***************************************************************************/
-
-#include <stdio.h>
-#include <string.h>
-#include <stdlib.h>
-#include <windows.h>
-
-#ifndef __IBMCPP__
-#include <iostream>
-#else
-#include <iostream.h>
-#define std
-#endif
-
-
-#include "Asso.h"
-#include "assodump.hpp"
-#include "matTime.h"
-#include "sapiOS.h"
-#include "matString.h"
-#include "CXAPI.H"
-#include "assoflat.hpp"
-
-#include "TrcPrtcl.h"
-
-/***************************************************************************
-
-  Defines / Constants
-
-***************************************************************************/
-
-
-static const char *NullString = "";
-
-// use DEBUGOUT to ensure debug output
-// #define DEBUGOUT
-
-
-/***************************************************************************
-
-  Types
-
-***************************************************************************/
-
-
-
-struct Text01        // also used for Dump01
-{
-  DATETIME timestamp;
-  long lTraceLevel;
-  short sLine;
-};
-
-struct Text02        // also used for Dump02
-{
-  DATETIME timestamp;
-  short sLine;
-};
-
-struct CmdParameter01
-{
-  long lTraceLevel;
-  long lTraceMask;
-  long lLevelAsMask;
-};
-
-
-
-/***************************************************************************
-
-  Exported Functions
-
-  const char* getTypeName(TraceType lType);
-  void ClientName (aObject& Buffer, long lInstance, const aObject& Name);
-  void ServerName (aObject& Buffer, long lInstance, const aObject& Name);
-  long writeCmdStop01(long OwnHandle, long PartnerHandle, cxBuffer* cxBuf= 0);
-  long writeCmdNewFile01(long OwnHandle, long PartnerHandle, long lTraceLevel, cxBuffer* cxBuf= 0);
-  long writeText01(long OwnHandle, long PartnerHandle, long lTraceLevel, const char *pszFile, short  sLine, const char *pszFunction, const char *pszText, cxBuffer* cxBuf= 0);
-  long writeDump01(long OwnHandle, long PartnerHandle, long lTraceLevel, const char *pszFile, short  sLine, const char *pszFunction, long lDumpSize, const char *pDump, cxBuffer* cxBuf= 0);
-  long writeCmdInit01(long OwnHandle, long PartnerHandle, long lInstance, const char *pszApplication, cxBuffer* cxBuf= 0);
-  long writeCmdParameter01(long OwnHandle, long PartnerHandle, long lTraceLevel, long lLevelAsMask, cxBuffer* cxBuf= 0);
-  long ReadTrace(long OwnHandle, long *PartnerHandle, long *lType, aMap& Data);
-  long writeText02(long OwnHandle, long PartnerHandle, const char *pszTopic, const char *pszFile, short  sLine, const char *pszFunction, const char *pszText, cxBuffer* cxBuf= 0);
-  long writeDump02(long OwnHandle, long PartnerHandle, const char *pszTopic, const char *pszFile, short  sLine, const char *pszFunction, long lDumpSize, const char *pDump, cxBuffer* cxBuf= 0);
-  long writeCmdNewFile02(long OwnHandle, long PartnerHandle, const char *pszTopic, cxBuffer* cxBuf= 0);
-  long writeCmdTopicState01(long OwnHandle, long PartnerHandle, const char *pszTopic, long lState, cxBuffer* cxBuf= 0);
-  long writeCmdInit02(long OwnHandle, long PartnerHandle, long lInstance, const char *pszApplication, const char* pszModule, cxBuffer* cxBuf= 0);
-  long writeCmdShutdown01(long OwnHandle, long PartnerHandle, cxBuffer* cxBuf= 0);
-  long writeCmdInitListen01(long OwnHandle, long PartnerHandle, cxBuffer* cxBuf= 0);
-  long writeCmdData01(long OwnHandle, long PartnerHandle, aMap Data, cxBuffer* cxBuf= 0);
-//   22.10.2001 ts added openTraceSLT/Init03 for short life time processes => server sends no message to client
-  long writeCmdInit03(long OwnHandle, long PartnerHandle, long lInstance, const char *pszApplication, const char* pszModule, cxBuffer* cxBuf= 0);
-
-  long writeCrypt01(long OwnHandle, long PartnerHandle, long lTraceLevel, const char *pszFile, short  sLine, const char *pszFunction, long lDumpSize, const char *pDump, cxBuffer* cxBuf= 0);
-  long writeCrypt02(long OwnHandle, long PartnerHandle, const char *pszTopic, const char *pszFile, short  sLine, const char *pszFunction, long lDumpSize, const char *pDump, cxBuffer* cxBuf= 0);
-
-  long writeCmdMove01(long OwnHandle, long PartnerHandle, const char *pszPath, cxBuffer* cxBuf= 0);
-
-  long writeTrack01(long OwnHandle, long PartnerHandle, long lTraceLevel, const char *pszFile, short  sLine, const char *pszFunction, long trackId, const char *pszTrack, cxBuffer* cxBuf= 0);
-  long writeTrack02(long OwnHandle, long PartnerHandle, const char *pszTopic, const char *pszFile, short  sLine, const char *pszFunction, long trackId, const char *pszTrack, cxBuffer* cxBuf= 0);
-
-
-***************************************************************************/
-
-/***************************************************************************
-
-  Functions Prototypes
-
-***************************************************************************/
-
-  static void dump(const char* pData, int iLen);
-  static int strmcpy (char *string1, const char *string2, long &lSize);
-  static int strmcpynr (char *string1, const char *string2, long &lSize);
-  static long readText01(aMap &Data, char *pCopyBuffer, const char *pBuffer, long lSize);
-  static long readDump01(aMap &Data, char *pCopyBuffer, const char *pBuffer, long lSize);
-  static long readCmdInit01(aMap &Data, char *pCopyBuffer, const char *pBuffer, long lSize);
-  static long readCmdParameter01(aMap &Data, char *pCopyBuffer, const char *pBuffer, long lSize);
-  static long readText02(aMap &Data, char *pCopyBuffer, const char *pBuffer, long lSize);
-  static long readDump02(aMap &Data, char *pCopyBuffer, const char *pBuffer, long lSize);
-  static long readCmdNewFile01(aMap &Data, char *pCopyBuffer, const char *pBuffer, long lSize);
-  static long readCmdNewFile02(aMap &Data, char *pCopyBuffer, const char *pBuffer, long lSize);
-  static long readCmdTopicStae01(aMap &Data, char *pCopyBuffer, const char *pBuffer, long lSize);
-  static long readCmdInit02(aMap &Data, char *pCopyBuffer, const char *pBuffer, long lSize);
-  static long readCmdInitListen01(long OwnHandle, long PartnerHandle);
-  static long readCmdData01(aMap &Data, char *pCopyBuffer, const char *pBuffer, long lSize);
-//   22.10.2001 ts added openTraceSLT/Init03 for short life time processes => server sends no message to client
-  static long readCmdInit03(aMap &Data, char *pCopyBuffer, const char *pBuffer, long lSize);
-
-  static long readCrypt01(aMap &Data, char *pCopyBuffer, const char *pBuffer, long lSize);
-  static long readCrypt02(aMap &Data, char *pCopyBuffer, const char *pBuffer, long lSize);
-  static long readCmdMove01(aMap &Data, char *pCopyBuffer, const char *pBuffer, long lSize);
-
-  static long readTrack01(aMap &Data, char *pCopyBuffer, const char *pBuffer, long lSize);
-  static long readTrack02(aMap &Data, char *pCopyBuffer, const char *pBuffer, long lSize);
-
-/***************************************************************************
-
-  Function Definition
-
-***************************************************************************/
-
-void cxBuffer::removeEntry()
-{
-  if (!isEmpty())
-  {
-    delete[] pEntries[iFirst].pData;
-    inc(iFirst);
-  }
-}
-void cxBuffer::inc(int& iPos)
-{
-  iPos++;
-  if (iPos >= iSize)
-    iPos= 0;
-}
-int cxBuffer::isEmpty()
-{
-  return (iFirst==iLast);
-}
-void cxBuffer::addEntry(long lOwnHandle, long lPartnerHandle, const char* pData, long lSize)
-{
- if(!isEmpty())
-   removeEntry();
- pEntries[iLast].lOwnHandle= lOwnHandle;
- pEntries[iLast].lPartnerHandle= lPartnerHandle;
- pEntries[iLast].lSize= lSize;
- pEntries[iLast].pData= new char[lSize];
- memcpy(pEntries[iLast].pData, pData, lSize);
- inc(iLast);
-}
-long cxBuffer::sendNextEntry()
-{
-  long result;
-  if(!isEmpty())
-  {
-    #ifdef DEBUGOUT
-    cout << "-> cxWrite (Own=" << pEntries[iFirst].lOwnHandle <<", Partner=" << pEntries[iFirst].lPartnerHandle << ", Size=" << pEntries[iFirst].lSize << ")" << endl;
-    dump((char*)pEntries[iFirst].pData, pEntries[iFirst].lSize);
-    #endif
-    result= cxWrite(pEntries[iFirst].lOwnHandle, pEntries[iFirst].lPartnerHandle, pEntries[iFirst].pData, &(pEntries[iFirst].lSize));
-    #ifdef DEBUGOUT
-    cout << "<- cxWrite (Size=" << pEntries[iFirst].lSize << ")=" << result << endl;
-    #endif
-
-    if(result == CXRC_OK)
-      removeEntry();
-  }
-  return result;
-}
-long cxBuffer::sendAllEntries()
-{
-  long result;
-  result= CXRC_OK;
-  while(!isEmpty() && result == CXRC_OK)
-    result= sendNextEntry();
-  return result;
-}
-cxBuffer::cxBuffer()
-{
-  iSize= 10;
-  pEntries= new cxEntry[iSize];
-  iLast= 0;
-  iFirst= iLast;
-}
-cxBuffer::cxBuffer(const cxBuffer&)
-{
-}
-cxBuffer& cxBuffer::operator=(const cxBuffer&)
-{
-  return *this;
-}
-cxBuffer::cxBuffer(int iSetSize)
-{
-  iSize= iSetSize;
-  pEntries= new cxEntry[iSize];
-  iLast= 0;
-  iFirst= iLast;
-}
-cxBuffer::~cxBuffer()
-{
-  sendAllEntries();
-  delete[] pEntries;
-}
-long cxBuffer::Write(long lOwnHandle, long lPartnerHandle, const char* pData, long* plSize)
-{
-  long result;
-  result= sendAllEntries();
-  if (result == CXRC_OK)
-  {
-    #ifdef DEBUGOUT
-    cout << "-> cxWrite (Own=" << lOwnHandle <<", Partner=" << lPartnerHandle << ", Size=" << *plSize << ")" << endl;
-    dump(pData, *plSize);
-    #endif
-      result= cxWrite(lOwnHandle, lPartnerHandle, pData, plSize);
-    #ifdef DEBUGOUT
-    cout << "<- cxWrite (Size=" << *plSize << ")=" << result << endl;
-    #endif
-  }
-  if (result != CXRC_OK)
-    addEntry(lOwnHandle, lPartnerHandle, pData, *plSize);
-  return result;
-}
-
-void dump(const char* pData, int iLen)
-{
-  int i;
-  cout << hex;
-  for(i= 0; i < iLen; i++)
-  {
-    if ((int)((unsigned char*)pData)[i] < 16)
-      cout << "0";
-    cout << (int)((unsigned char*)pData)[i] << " ";
-  }
-  cout << dec;
-  cout << endl;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void getAppName(aObject& AppName)
-
- COMMENTS:  return the name of the calling application
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-void getAppName(aObject& AppName)
-{
-  char szBuffer[1000];
-
-  if (GetModuleFileName(0, szBuffer, sizeof(szBuffer)))
-    AppName = szBuffer;
-  else
-    AppName = UNDEFINED;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  const char* non_null(const char* pszText)
-
- COMMENTS:  return "(null)" if pszText is 0
-
- DATE:      01.08.2002
-
- AUTHOR:    MATERNA Information & Communications  (TS)
-
----------------------------------------------------------------------------*/
-const char* non_null(const char* pszText)
-{
-  if (pszText == 0)
-    return "(null)";
-  else
-    return pszText;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  const char* getTypeName(long lType)
-
- COMMENTS:
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-const char* getTypeName(long lType)
-{
-  switch(lType)
-  {
-    case TT_CMDSTOP01:
-      return "CMDSTOP01";
-    case TT_TEXT01:
-      return "TEXT01";
-    case TT_DUMP01:
-      return "DUMP01";
-    case TT_CMDNEWFILE01:
-      return "CMDNEWFILE01";
-    case TT_CMDINIT01:
-      return "CMDINIT01";
-    case TT_CMDPARAMETER01:
-      return "CMDPARAMETER01";
-    case TT_TEXT02:
-      return "TEXT02";
-    case TT_DUMP02:
-      return "DUMP02";
-    case TT_CMDNEWFILE02:
-      return "CMDNEWFILE02";
-    case TT_CMDTOPICSTATE01:
-      return "CMDTOPICSTATE01";
-    case TT_CMDINIT02:
-      return "CMDINIT02";
-    case TT_CMDSHUTDOWN01:
-      return "CMDSHUTDOWN01";
-    case TT_CMDINITLISTEN01:
-      return "TT_CMDINITLISTEN01";
-    case TT_CMDDATA01:
-      return "TT_CMDDATA01";
-    case TT_CRYPT01:
-      return "CRYPT01";
-    case TT_CRYPT02:
-      return "CRYPT02";
-    case TT_CMDMOVE01:
-      return "CMDMOVE01";
-    case TT_TRACK01:
-      return "TRACK01";
-    case TT_TRACK02:
-      return "TRACK02";
-    default:
-      return "UNKNOWN";
-  }
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  const char* getErrorName(long lError)
-
- COMMENTS:
-
- DATE:      04.10.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-const char* getErrorName(long lError)
-{
-  if (lError < TRC_OUTOFMEMORY)
-  {
-    return  cxErrorText(lError);
-  }
-  else
-  {
-    switch(lError)
-    {
-      case TRC_OUTOFMEMORY:
-        return "OUTOFMEMORY";
-      case TRC_FORMATCORRUPT:
-        return "FORMATCORRUPT";
-      default:
-        return "UNKNOWN";
-    }
-  }
-  return "UNKNOWN";
-}
-
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void ClientName (aObject& Buffer, long lInstance, const aObject& Name)
-
- COMMENTS:  Create Client Instance Name
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-
-void ClientName (aObject& Buffer, long lInstance, const aObject& Name)
-{
-  char szBuffer[6];
-  matString msBuffer;
-  sprintf(szBuffer, "C%04d", lInstance);
-  msBuffer.setData(szBuffer);
-  msBuffer.catData(Name.strObject());
-  Buffer = msBuffer.getData();
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void ServerName (aObject& Buffer, long lInstance, const aObject& Name)
-
- COMMENTS:  Create Server Instance Name
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-
-void ServerName (aObject& Buffer, long lInstance, const aObject& Name)
-{
-  char szBuffer[6];
-  matString msBuffer;
-  sprintf(szBuffer, "S%04d", lInstance);
-  msBuffer.setData(szBuffer);
-  msBuffer.catData(Name.strObject());
-  Buffer = msBuffer.getData();
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void NotifyName (aObject& Buffer, long lInstance, const aObject& Name)
-
- COMMENTS:  Create Notify Instance Name
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-
-void NotifyName (aObject& Buffer, long lInstance, const aObject& Name)
-{
-  char szBuffer[6];
-  matString msBuffer;
-  sprintf(szBuffer, "N%04d", lInstance);
-  msBuffer.setData(szBuffer);
-  msBuffer.catData(Name.strObject());
-  Buffer = msBuffer.getData();
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  int strmcpy (char *string1, const char *string2, long &lSize)
-
- COMMENTS:  copy maximal lSize characters, from zero terminated string2 to string1
-            return the number of copied characters in lSize
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-
-
-static int strmcpy (char *string1, const char *string2, long &lSize)
-{
-  long i;
-  if (!string1 || lSize == 0)
-    return 0;
-  if (!string2)
-  {
-    string1[0] = 0;
-    return 0;
-  }
-  i = 0;
-  while (string2[i] && i < lSize - 1)
-  {
-    string1[i] = string2[i];
-    i++;
-  }
-  string1[i] = 0;
-  lSize = i + 1;
-  if (string2[i])
-    return 0;
-  return 1;
-}
-
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  int strmcpynr (char *string1, const char *string2, long &lSize)
-
- COMMENTS:  copy maximal lSize characters, from zero terminated string2 to string1
-            return the number of copied characters in lSize
-            ignore carriage return and newline
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-
-
-static int strmcpynr (char *string1, const char *string2, long &lSize)
-{
-  long i, j;
-  if (!string1 || lSize == 0)
-    return 0;
-  if (!string2)
-  {
-    string1[0] = 0;
-    return 0;
-  }
-  i = 0;
-  j = 0;
-  while (string2[i] && j < lSize - 1)
-  {
-    if (string2[i] != 10 && string2[i] != 13)
-    {
-      string1[j] = string2[i];
-      j++;
-    }
-    i++;
-  }
-  string1[j] = 0;
-  lSize = j + 1;
-  if (string2[i])
-    return 0;
-  return 1;
-}
-
-
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long writeCmdStop01(long OwnHandle, long PartnerHandle, cxBuffer* cxBuf)
-
- COMMENTS:  Send Stop Command
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-
-
-long writeCmdStop01(long OwnHandle, long PartnerHandle, cxBuffer* cxBuf)
-{
-
-  long result;
-  long lSize, lWritten;
-
-  long lType = TT_CMDSTOP01;
-
-  lSize = sizeof(long);
-
-  lWritten = lSize;
-
-  #ifdef DEBUGOUT
-  cout << "writeCmdStop01" << endl;
-  #endif
-
-
-  if (cxBuf)
-  {
-    DWORD start= GetTickCount();
-    DWORD now= start;
-    do
-    {
-      result= cxBuf->Write(OwnHandle, PartnerHandle, (char*)&lType, &lWritten);
-      now= GetTickCount();
-    } while(result != CXRC_OK && ((now - start) < 2000));
-  }
-  else
-  {
-    #ifdef DEBUGOUT
-    cout << "-> cxWrite (Own=" << OwnHandle <<", Partner=" << PartnerHandle << ", Size=" << lWritten << ")" << endl;
-    dump((char*)&lType, lWritten);
-    #endif
-      result= cxWrite(OwnHandle, PartnerHandle, (char*)&lType, &lWritten);
-    #ifdef DEBUGOUT
-    cout << "<- cxWrite (Size=" << lWritten << ")=" << result << endl;
-    #endif
-  }
-  if (lWritten != lSize  && result == CXRC_OK)
-    result= CXRC_ERROR;
-
-  return result;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long writeCmdShutdown01(long OwnHandle, long PartnerHandle, cxBuffer* cxBuf)
-
- COMMENTS:  Send Stop Command
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-
-
-long writeCmdShutdown01(long OwnHandle, long PartnerHandle, cxBuffer* cxBuf)
-{
-
-  long result;
-  long lSize, lWritten;
-
-  long lType = TT_CMDSHUTDOWN01;
-
-  lSize = sizeof(long);
-
-  lWritten = lSize;
-
-  #ifdef DEBUGOUT
-  cout << "writeCmdShutdown01" << endl;
-  #endif
-
-
-  if (cxBuf)
-    result= cxBuf->Write(OwnHandle, PartnerHandle, (char*)&lType, &lWritten);
-  else
-  {
-    #ifdef DEBUGOUT
-    cout << "-> cxWrite (Own=" << OwnHandle <<", Partner=" << PartnerHandle << ", Size=" << lWritten << ")" << endl;
-    dump((char*)&lType, lWritten);
-    #endif
-    result= cxWrite(OwnHandle, PartnerHandle, (char*)&lType, &lWritten);
-    #ifdef DEBUGOUT
-    cout << "<- cxWrite (Size=" << lWritten << ")=" << result << endl;
-    #endif
-    if (lWritten != lSize  && result == CXRC_OK)
-      result= CXRC_ERROR;
-  }
-
-  return result;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long writeCmdNewFile01(long OwnHandle, long PartnerHandle, long lTraceLevel, cxBuffer* cxBuf)
-
- COMMENTS:  Send Stop new file
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-
-
-long writeCmdNewFile01(long OwnHandle, long PartnerHandle, long lTraceLevel, cxBuffer* cxBuf)
-{
-  long result;
-  long lSize, lWritten;
-
-  #ifdef DEBUGOUT
-    cout << "writeCmdNewFile01: " << lTraceLevel << endl;
-  #endif
-
-  char *pBuffer, *pPos;
-  long lType = TT_CMDNEWFILE01;
-
-  lSize = sizeof(long) + sizeof(long);
-  pBuffer = (char *) malloc(lSize);
-  if (pBuffer)
-  {
-    pPos = pBuffer;
-
-    memcpy(pPos, &lType, sizeof(long));
-    pPos += sizeof(long);
-
-    memcpy(pPos, &lTraceLevel, sizeof(long));
-
-    lWritten = lSize;
-    if (cxBuf)
-      result= cxBuf->Write(OwnHandle, PartnerHandle, pBuffer, &lWritten);
-    else
-    {
-      #ifdef DEBUGOUT
-      cout << "-> cxWrite (Own=" << OwnHandle <<", Partner=" << PartnerHandle << ", Size=" << lWritten << ")" << endl;
-      dump(pBuffer, lWritten);
-      #endif
-      result= cxWrite(OwnHandle, PartnerHandle, pBuffer, &lWritten);
-      #ifdef DEBUGOUT
-      cout << "<- cxWrite (Size=" << lWritten << ")=" << result << endl;
-      #endif
-    }
-
-    if (lWritten != lSize  && result == CXRC_OK)
-      result= CXRC_ERROR;
-    free(pBuffer);
-  }
-  else
-    result= TRC_OUTOFMEMORY;
-
-  return result;
-
-}
-
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long readCmdNewFile01(aMap &Data, char *pCopyBuffer, const char *pBuffer, long lSize)
-
- COMMENTS:  read Parameter command sent by writeCmdNewFile01
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-static long readCmdNewFile01(aMap &Data, char *pCopyBuffer, const char *pBuffer, long lSize)
-{
-  const char *pPos;
-  long lTraceLevel;
-  long result;
-
-  result= TRC_FORMATCORRUPT;
-  pPos = pBuffer + sizeof(long);
-
-
-  // 29.07.2002 ts error in readCmdNewFile01, readCmdTopicState01 removed
-  if (pPos + sizeof(long) <= pBuffer + lSize)
-  {
-    memcpy(&lTraceLevel, pPos, sizeof(long));
-    Data.set(DN_LTRACELEVEL, lTraceLevel);
-    #ifdef DEBUGOUT
-      cout << "readCmdNewFile01: " << lTraceLevel << endl;
-    #endif
-    result= CXRC_OK;
-  }
-  return result;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long writeText01(long OwnHandle, long PartnerHandle, long lTraceLevel, const char *pszFile, short  sLine, const char *pszFunction, const char *pszText, cxBuffer* cxBuf)
-
- COMMENTS:  Send Text
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-
-long writeText01(long OwnHandle, long PartnerHandle, long lTraceLevel, const char *pszFile, short  sLine, const char *pszFunction, const char *pszText, cxBuffer* cxBuf)
-{
-  long result;
-  Text01 FixedData;
-  long lSize, lWritten, lCopy;
-  const char *pText, *pFunction, *pFile;
-  long lText, lFunction, lFile;
-
-  char *pBuffer, *pPos;
-  long lType = TT_TEXT01;
-
-
-  #ifdef DEBUGOUT
-    cout << "writeText01: " << lTraceLevel << "," << non_null(pszFile) << "," << sLine << "," << non_null(pszFunction) << "," << non_null(pszText) << endl;
-  #endif
-
-
-  // Timestamp
-  osGetDateTime (&(FixedData.timestamp));
-
-  // check size of strings
-  if (pszText)
-    pText = pszText;
-  else
-    pText = NullString;
-  lText = strlen(pText) + 1;
-
-  if (pszFunction)
-    pFunction = pszFunction;
-  else
-    pFunction = NullString;
-  lFunction = strlen(pFunction) + 1;
-
-  if (pszFile)
-    pFile = pszFile;
-  else
-    pFile = NullString;
-  lFile = strlen(pFile) + 1;
-
-  // alloc needed buffer
-  lSize = sizeof(long) + sizeof(Text01) + lText + lFunction + lFile;
-  pBuffer = (char *) malloc(lSize);
-
-  if (pBuffer)
-  {
-    // write FixedData  (pPos current Position in Buffer)
-    FixedData.sLine = sLine;
-    FixedData.lTraceLevel = lTraceLevel;
-
-    pPos = pBuffer;
-
-    memcpy(pPos, &lType, sizeof(long));
-    pPos += sizeof(long);
-
-    memcpy(pPos, &FixedData, sizeof(Text01));
-    pPos += sizeof(Text01);
-
-    // write strings
-    lCopy = lSize - (pPos - pBuffer);
-    strmcpy(pPos, pFunction, lCopy);
-    pPos += lCopy;
-    //strcpy(pPos, pFunction);
-    //pPos += lFunction;
-
-    lCopy = lSize - (pPos - pBuffer);
-    strmcpy(pPos, pFile, lCopy);
-    pPos += lCopy;
-    //strcpy(pPos, pFile);
-    //pPos += lFile;
-
-    lCopy = lSize - (pPos - pBuffer);
-    strmcpy(pPos, pText, lCopy);
-    pPos += lCopy;
-    //strcpy(pPos, pText);
-
-    // Write to CXAPI
-    lWritten = lSize;
-    if (cxBuf)
-      result= cxBuf->Write(OwnHandle, PartnerHandle, pBuffer, &lWritten);
-    else
-    {
-      #ifdef DEBUGOUT
-      cout << "-> cxWrite (Own=" << OwnHandle <<", Partner=" << PartnerHandle << ", Size=" << lWritten << ")" << endl;
-      dump(pBuffer, lWritten);
-      #endif
-      result= cxWrite(OwnHandle, PartnerHandle, pBuffer, &lWritten);
-      #ifdef DEBUGOUT
-      cout << "<- cxWrite (Size=" << lWritten << ")=" << result << endl;
-      #endif
-    }
-    if (lWritten != lSize  && result == CXRC_OK)
-      result= CXRC_ERROR;
-
-    // clean up
-    free(pBuffer);
-  }
-  else
-    result= TRC_OUTOFMEMORY;
-
-  return result;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long readText01(aMap &Data, char *pCopyBuffer, const char *pBuffer, long lSize)
-
- COMMENTS:  read the Text sent by writeText01
-            pBuffer contains the Datas
-            pCopyBuffer is needed for data transformation
-            lSize contains the size of pBuffer
-            pCopyBuffer is a big as pBuffer
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-static long readText01(aMap &Data, char *pCopyBuffer, const char *pBuffer, long lSize)
-{
-  const char *pPos;
-  Text01 FixedData;
-  long lCopy;
-  long result;
-
-  result= TRC_FORMATCORRUPT;
-
-  // pPos is the Current Position in pBuffer
-  pPos = pBuffer + sizeof(long);  // ignore header
-
-
-  if (pPos + sizeof(Text01) <= pBuffer + lSize)
-  {
-    memcpy(&FixedData, pPos, sizeof(Text01));        // read fixed Data
-    pPos += sizeof(Text01);
-    Data.set(DN_LTRACELEVEL, FixedData.lTraceLevel);
-    Data.set(DN_LLINE,       FixedData.sLine);
-    Data.set(DN_LHOURS,      FixedData.timestamp.hours);
-    Data.set(DN_LMINUTES,    FixedData.timestamp.minutes);
-    Data.set(DN_LSECONDS,    FixedData.timestamp.seconds);
-    Data.set(DN_LHUNDREDTHS, FixedData.timestamp.hundredths);
-    Data.set(DN_LDAY,        FixedData.timestamp.day);
-    Data.set(DN_LMONTH,      FixedData.timestamp.month);
-    Data.set(DN_LYEAR,       FixedData.timestamp.year);
-
-
-    lCopy = lSize - (pPos - pBuffer);              // lCopy = remaining space in pBuffer from pPos
-    if (strmcpy (pCopyBuffer, pPos, lCopy))        // copy maximal lCopy bytes from pPos to pCopyBuffer until zero character
-    {
-      pPos += lCopy;
-      Data.set(DN_SFUNCTION, pCopyBuffer);
-      lCopy = lSize - (pPos - pBuffer);
-
-      if (strmcpy (pCopyBuffer, pPos, lCopy))
-      {
-        pPos += lCopy;
-        Data.set(DN_SFILE, pCopyBuffer);
-        lCopy = lSize - (pPos - pBuffer);
-        if (strmcpy (pCopyBuffer, pPos, lCopy))
-        {
-          Data.set(DN_STEXT, pCopyBuffer);
-          #ifdef DEBUGOUT
-            cout << "readText01: " << FixedData.lTraceLevel << "," << non_null(Data.get(DN_SFILE).strObject()) << "," << FixedData.sLine << "," << Data.get(DN_SFUNCTION).strObject() << "," << non_null(Data.get(DN_STEXT).strObject()) << endl;
-          #endif
-          result= CXRC_OK;
-        }
-      }
-    }
-  }
-  return result;
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long writeDump01(long OwnHandle, long PartnerHandle, long lTraceLevel, const char *pszFile, short  sLine, const char *pszFunction, long lDumpSize, const char *pDump, cxBuffer* cxBuf);
-
- COMMENTS:  Send Text
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-
-long writeDump01(long OwnHandle, long PartnerHandle, long lTraceLevel, const char *pszFile, short  sLine, const char *pszFunction, long lDumpSize, const char *pDump, cxBuffer* cxBuf)
-{
-  long result;
-  Text01 FixedData;
-  long lSize, lWritten, lCopy;
-  const char *pText, *pFunction, *pFile;
-  long lText, lFunction, lFile;
-
-  char *pBuffer, *pPos;
-  long lType = TT_DUMP01;
-
-  #ifdef DEBUGOUT
-    cout << "writeDump01: " << lTraceLevel << "," << non_null(pszFile) << "," << sLine << "," << non_null(pszFunction) << "," << lDumpSize << endl;
-  #endif
-
-  osGetDateTime (&(FixedData.timestamp));
-
-  if (pDump)
-  {
-    pText = pDump;
-    lText = lDumpSize;
-  }
-  else
-  {
-    pText = NullString;
-    lText = strlen(pText) + 1;
-  }
-
-  if (pszFunction)
-    pFunction = pszFunction;
-  else
-    pFunction = NullString;
-  lFunction = strlen(pFunction) + 1;
-
-  if (pszFile)
-    pFile = pszFile;
-  else
-    pFile = NullString;
-  lFile = strlen(pFile) + 1;
-
-  lSize = sizeof(long) + sizeof(Text01) + lText + lFunction + lFile;
-  pBuffer = (char *) malloc(lSize);
-  if (pBuffer)
-  {
-    FixedData.sLine = sLine;
-    FixedData.lTraceLevel = lTraceLevel;
-
-    pPos = pBuffer;
-
-    memcpy(pPos, &lType, sizeof(long));
-    pPos += sizeof(long);
-
-    memcpy(pPos, &FixedData, sizeof(Text01));
-    pPos += sizeof(Text01);
-
-    lCopy = lSize - (pPos - pBuffer);
-    strmcpy(pPos, pFunction, lCopy);
-    pPos += lCopy;
-    //strcpy(pPos, pFunction);
-    //pPos += lFunction;
-
-    lCopy = lSize - (pPos - pBuffer);
-    strmcpy(pPos, pFile, lCopy);
-    pPos += lCopy;
-    //strcpy(pPos, pFile);
-    //pPos += lFile;
-
-    memcpy(pPos, pText, lText);
-
-    lWritten = lSize;
-    if (cxBuf)
-      result= cxBuf->Write(OwnHandle, PartnerHandle, pBuffer, &lWritten);
-    else
-    {
-      #ifdef DEBUGOUT
-      cout << "-> cxWrite (Own=" << OwnHandle <<", Partner=" << PartnerHandle << ", Size=" << lWritten << ")" << endl;
-      dump(pBuffer, lWritten);
-      #endif
-      result= cxWrite(OwnHandle, PartnerHandle, pBuffer, &lWritten);
-      #ifdef DEBUGOUT
-      cout << "<- cxWrite (Size=" << lWritten << ")=" << result << endl;
-      #endif
-    }
-    if (lWritten != lSize  && result == CXRC_OK)
-      result= CXRC_ERROR;
-    free(pBuffer);
-  }
-  else
-    result= TRC_OUTOFMEMORY;
-
-  return result;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long readDump01(aMap &Data, char *pCopyBuffer, const char *pBuffer, long lSize)
-
- COMMENTS:  read the Dump sent by writeDump01
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-static long readDump01(aMap &Data, char *pCopyBuffer, const char *pBuffer, long lSize)
-{
-  const char *pPos;
-  Text01 FixedData;
-  long lCopy;
-  long result;
-
-  result= TRC_FORMATCORRUPT;
-  pPos = pBuffer + sizeof(long);
-
-  if (pPos + sizeof(Text01) <= pBuffer + lSize)
-  {
-    memcpy(&FixedData, pPos, sizeof(Text01));
-    pPos += sizeof(Text01);
-    Data.set(DN_LTRACELEVEL, FixedData.lTraceLevel);
-    Data.set(DN_LLINE,       FixedData.sLine);
-    Data.set(DN_LHOURS,      FixedData.timestamp.hours);
-    Data.set(DN_LMINUTES,    FixedData.timestamp.minutes);
-    Data.set(DN_LSECONDS,    FixedData.timestamp.seconds);
-    Data.set(DN_LHUNDREDTHS, FixedData.timestamp.hundredths);
-    Data.set(DN_LDAY,        FixedData.timestamp.day);
-    Data.set(DN_LMONTH,      FixedData.timestamp.month);
-    Data.set(DN_LYEAR,       FixedData.timestamp.year);
-
-
-    lCopy = lSize - (pPos - pBuffer);
-    if (strmcpy (pCopyBuffer, pPos, lCopy))
-    {
-      pPos += lCopy;
-      Data.set(DN_SFUNCTION, pCopyBuffer);
-      lCopy = lSize - (pPos - pBuffer);
-
-      if (strmcpy (pCopyBuffer, pPos, lCopy))
-      {
-        pPos += lCopy;
-        Data.set(DN_SFILE, pCopyBuffer);
-        lCopy = lSize - (pPos - pBuffer);
-        if (lCopy > 0)
-        {
-          Data.set(DN_BDUMP, aObject(pPos, lCopy));
-          #ifdef DEBUGOUT
-            cout << "readDump01: " << FixedData.lTraceLevel << "," << non_null(Data.get(DN_SFILE).strObject()) << "," << FixedData.sLine << "," << non_null(Data.get(DN_SFUNCTION).strObject()) << "," << Data.get(DN_BDUMP).count() << endl;
-          #endif
-          result= CXRC_OK;
-        }
-        else if(lCopy == 0)
-        {
-          Data.set(DN_BDUMP, "<null>");
-          #ifdef DEBUGOUT
-            cout << "readDump01: " << FixedData.lTraceLevel << "," << non_null(Data.get(DN_SFILE).strObject()) << "," << FixedData.sLine << "," << non_null(Data.get(DN_SFUNCTION).strObject()) << "," << Data.get(DN_BDUMP).count() << endl;
-          #endif
-          result= CXRC_OK;
-        }
-      }
-    }
-  }
-  return result;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long writeCmdInit01(long OwnHandle, long PartnerHandle, long lInstance, const char *pszApplication, cxBuffer* cxBuf)
-
- COMMENTS:  send init command
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-long writeCmdInit01(long OwnHandle, long PartnerHandle, long lInstance, const char *pszApplication, cxBuffer* cxBuf)
-{
-  long result;
-  long lSize, lWritten;
-  const char *pApplication;
-  long lApplication;
-
-  char *pBuffer, *pPos;
-  long lType = TT_CMDINIT01;
-
-  #ifdef DEBUGOUT
-    cout << "writeCmdInit01: " << lInstance << "," << non_null(pszApplication) << endl;
-  #endif
-
-
-  if (pszApplication)
-    pApplication = pszApplication;
-  else
-    pApplication = NullString;
-  lApplication = strlen(pApplication) + 1;
-
-
-  lSize = sizeof(long) + sizeof(long) + lApplication;
-  pBuffer = (char *) malloc(lSize);
-  if (pBuffer)
-  {
-    pPos = pBuffer;
-
-    memcpy(pPos, &lType, sizeof(long));
-    pPos += sizeof(long);
-
-    memcpy(pPos, &lInstance, sizeof(long));
-    pPos += sizeof(long);
-
-    strcpy(pPos, pApplication);
-
-    lWritten = lSize;
-    if (cxBuf)
-      result= cxBuf->Write(OwnHandle, PartnerHandle, pBuffer, &lWritten);
-    else
-    {
-      #ifdef DEBUGOUT
-      cout << "-> cxWrite (Own=" << OwnHandle <<", Partner=" << PartnerHandle << ", Size=" << lWritten << ")" << endl;
-      dump(pBuffer, lWritten);
-      #endif
-      result= cxWrite(OwnHandle, PartnerHandle, pBuffer, &lWritten);
-      #ifdef DEBUGOUT
-      cout << "<- cxWrite (Size=" << lWritten << ")=" << result << endl;
-      #endif
-    }
-    if (lWritten != lSize  && result == CXRC_OK)
-      result= CXRC_ERROR;
-    free(pBuffer);
-  }
-  else
-    result= TRC_OUTOFMEMORY;
-
-  return result;
-}
-
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long readCmdInit01(aMap &Data, char *pCopyBuffer, const char *pBuffer, long lSize)
-
- COMMENTS:  read init command send by writeCmdInit01
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-static long readCmdInit01(aMap &Data, char *pCopyBuffer, const char *pBuffer, long lSize)
-{
-  const char *pPos;
-  long lInstance;
-  long lCopy;
-  long result;
-
-  result= TRC_FORMATCORRUPT;
-  pPos = pBuffer + sizeof(long);
-
-  if (pPos + sizeof(long) <= pBuffer + lSize)
-  {
-    memcpy(&lInstance, pPos, sizeof(long));
-    pPos += sizeof(long);
-    Data.set(DN_LINSTANCE, lInstance);
-
-    lCopy = lSize - (pPos - pBuffer);
-    if (strmcpy (pCopyBuffer, pPos, lCopy))
-    {
-      Data.set(DN_SAPPLICATION, pCopyBuffer);
-      #ifdef DEBUGOUT
-        cout << "readCmdInit01: " << lInstance << "," << non_null(Data.get(DN_SAPPLICATION).strObject()) << endl;
-      #endif
-      result= CXRC_OK;
-    }
-  }
-  return result;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long writeCmdInit02(long OwnHandle, long PartnerHandle, long lInstance, const char *pszApplication, const char* pszModule, cxBuffer* cxBuf)
-
- COMMENTS:  send init command
-
- DATE:      09.10.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-long writeCmdInit02(long OwnHandle, long PartnerHandle, long lInstance, const char *pszApplication, const char* pszModule, cxBuffer* cxBuf)
-{
-  long result;
-  long lSize, lWritten, lCopy;
-  const char *pApplication, *pModule;
-  long lApplication, lModule;
-
-  char *pBuffer, *pPos;
-  long lType = TT_CMDINIT02;
-
-  #ifdef DEBUGOUT
-    cout << "writeCmdInit02: " << lInstance << "," << non_null(pszApplication) << ", " << non_null(pszModule) << endl;
-  #endif
-
-
-  if (pszApplication)
-    pApplication = pszApplication;
-  else
-    pApplication = NullString;
-  lApplication = strlen(pApplication) + 1;
-
-  if (pszModule)
-    pModule = pszModule;
-  else
-    pModule = NullString;
-  lModule = strlen(pModule) + 1;
-
-  lSize = sizeof(long) + sizeof(long) + lApplication + lModule;
-  pBuffer = (char *) malloc(lSize);
-  if (pBuffer)
-  {
-    pPos = pBuffer;
-
-    memcpy(pPos, &lType, sizeof(long));
-    pPos += sizeof(long);
-
-    memcpy(pPos, &lInstance, sizeof(long));
-    pPos += sizeof(long);
-
-    lCopy = lSize - (pPos - pBuffer);
-    strmcpy(pPos, pApplication, lCopy);
-    pPos += lCopy;
-
-    lCopy = lSize - (pPos - pBuffer);
-    strmcpy(pPos, pModule, lCopy);
-    pPos += lCopy;
-
-
-    lWritten = lSize;
-    if (cxBuf)
-      result= cxBuf->Write(OwnHandle, PartnerHandle, pBuffer, &lWritten);
-    else
-    {
-      #ifdef DEBUGOUT
-      cout << "-> cxWrite (Own=" << OwnHandle <<", Partner=" << PartnerHandle << ", Size=" << lWritten << ")" << endl;
-      dump(pBuffer, lWritten);
-      #endif
-      result= cxWrite(OwnHandle, PartnerHandle, pBuffer, &lWritten);
-      #ifdef DEBUGOUT
-      cout << "<- cxWrite (Size=" << lWritten << ")=" << result << endl;
-      #endif
-    }
-    if (lWritten != lSize  && result == CXRC_OK)
-      result= CXRC_ERROR;
-    free(pBuffer);
-  }
-  else
-    result= TRC_OUTOFMEMORY;
-
-  return result;
-}
-
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long writeCmdInit03(long OwnHandle, long PartnerHandle, long lInstance, const char *pszApplication, const char* pszModule, cxBuffer* cxBuf)
-
- COMMENTS:  send init command
-            added openTraceSLT/Init03 for short life time processes => server sends no message to client
-
- DATE:      22.10.2001
-
- AUTHOR:    MATERNA Information & Communications  (TS)
-
----------------------------------------------------------------------------*/
-long writeCmdInit03(long OwnHandle, long PartnerHandle, long lInstance, const char *pszApplication, const char* pszModule, cxBuffer* cxBuf)
-{
-  long result;
-  long lSize, lWritten, lCopy;
-  const char *pApplication, *pModule;
-  long lApplication, lModule;
-
-  char *pBuffer, *pPos;
-  long lType = TT_CMDINIT03;
-
-  #ifdef DEBUGOUT
-    cout << "writeCmdInit03: " << lInstance << "," << non_null(pszApplication) << ", " << non_null(pszModule) << endl;
-  #endif
-
-
-  if (pszApplication)
-    pApplication = pszApplication;
-  else
-    pApplication = NullString;
-  lApplication = strlen(pApplication) + 1;
-
-  if (pszModule)
-    pModule = pszModule;
-  else
-    pModule = NullString;
-  lModule = strlen(pModule) + 1;
-
-  lSize = sizeof(long) + sizeof(long) + lApplication + lModule;
-  pBuffer = (char *) malloc(lSize);
-  if (pBuffer)
-  {
-    pPos = pBuffer;
-
-    memcpy(pPos, &lType, sizeof(long));
-    pPos += sizeof(long);
-
-    memcpy(pPos, &lInstance, sizeof(long));
-    pPos += sizeof(long);
-
-    lCopy = lSize - (pPos - pBuffer);
-    strmcpy(pPos, pApplication, lCopy);
-    pPos += lCopy;
-
-    lCopy = lSize - (pPos - pBuffer);
-    strmcpy(pPos, pModule, lCopy);
-    pPos += lCopy;
-
-
-    lWritten = lSize;
-    if (cxBuf)
-      result= cxBuf->Write(OwnHandle, PartnerHandle, pBuffer, &lWritten);
-    else
-    {
-      #ifdef DEBUGOUT
-      cout << "-> cxWrite (Own=" << OwnHandle <<", Partner=" << PartnerHandle << ", Size=" << lWritten << ")" << endl;
-      dump(pBuffer, lWritten);
-      #endif
-      result= cxWrite(OwnHandle, PartnerHandle, pBuffer, &lWritten);
-      #ifdef DEBUGOUT
-      cout << "<- cxWrite (Size=" << lWritten << ")=" << result << endl;
-      #endif
-    }
-    if (lWritten != lSize  && result == CXRC_OK)
-      result= CXRC_ERROR;
-    free(pBuffer);
-  }
-  else
-    result= TRC_OUTOFMEMORY;
-
-  return result;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long readCmdInit02(aMap &Data, char *pCopyBuffer, const char *pBuffer, long lSize)
-
- COMMENTS:  read init command send by writeCmdInit02
-
- DATE:      09.10.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-static long readCmdInit02(aMap &Data, char *pCopyBuffer, const char *pBuffer, long lSize)
-{
-  const char *pPos;
-  long lInstance;
-  long lCopy;
-  long result;
-
-  result= TRC_FORMATCORRUPT;
-  pPos = pBuffer + sizeof(long);
-
-  if (pPos + sizeof(long) <= pBuffer + lSize)
-  {
-    memcpy(&lInstance, pPos, sizeof(long));
-    pPos += sizeof(long);
-    Data.set(DN_LINSTANCE, lInstance);
-
-    lCopy = lSize - (pPos - pBuffer);
-    if (strmcpy (pCopyBuffer, pPos, lCopy))
-    {
-      pPos += lCopy;
-      Data.set(DN_SAPPLICATION, pCopyBuffer);
-      lCopy = lSize - (pPos - pBuffer);
-      if (strmcpy (pCopyBuffer, pPos, lCopy))
-      {
-        Data.set(DN_SMODULE, pCopyBuffer);
-        #ifdef DEBUGOUT
-          cout << "readCmdInit02: " << lInstance << ", " << non_null(Data.get(DN_SAPPLICATION).strObject()) << ", " << non_null(Data.get(DN_SMODULE).strObject()) << endl;
-        #endif
-        result= CXRC_OK;
-       }
-    }
-  }
-  return result;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long readCmdInit03(aMap &Data, char *pCopyBuffer, const char *pBuffer, long lSize)
-
- COMMENTS:  read init command send by writeCmdInit03
-            added openTraceSLT/Init03 for short life time processes => server sends no message to client
-
- DATE:      22.10.2001
-
- AUTHOR:    MATERNA Information & Communications  (TS)
-
----------------------------------------------------------------------------*/
-static long readCmdInit03(aMap &Data, char *pCopyBuffer, const char *pBuffer, long lSize)
-{
-  const char *pPos;
-  long lInstance;
-  long lCopy;
-  long result;
-
-  result= TRC_FORMATCORRUPT;
-  pPos = pBuffer + sizeof(long);
-
-  if (pPos + sizeof(long) <= pBuffer + lSize)
-  {
-    memcpy(&lInstance, pPos, sizeof(long));
-    pPos += sizeof(long);
-    Data.set(DN_LINSTANCE, lInstance);
-
-    lCopy = lSize - (pPos - pBuffer);
-    if (strmcpy (pCopyBuffer, pPos, lCopy))
-    {
-      pPos += lCopy;
-      Data.set(DN_SAPPLICATION, pCopyBuffer);
-      lCopy = lSize - (pPos - pBuffer);
-      if (strmcpy (pCopyBuffer, pPos, lCopy))
-      {
-        Data.set(DN_SMODULE, pCopyBuffer);
-        #ifdef DEBUGOUT
-          cout << "readCmdInit03: " << lInstance << ", " << non_null(Data.get(DN_SAPPLICATION).strObject()) << ", " << non_null(Data.get(DN_SMODULE).strObject()) << endl;
-        #endif
-        result= CXRC_OK;
-       }
-    }
-  }
-  return result;
-}
-
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long writeCmdParameter01(long OwnHandle, long PartnerHandle, long lTraceLevel, long lTraceMask, long lLevelAsMask, cxBuffer* cxBuf)
-
- COMMENTS:  send Parameter Command
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-long writeCmdParameter01(long OwnHandle, long PartnerHandle, long lTraceLevel, long lTraceMask, long lLevelAsMask, cxBuffer* cxBuf)
-{
-  long result;
-  long lSize, lWritten;
-  CmdParameter01 FixedData;
-
-  char *pBuffer, *pPos;
-  long lType = TT_CMDPARAMETER01;
-
-  #ifdef DEBUGOUT
-    cout << "writeCmdParameter01: " << lTraceLevel << "," << lTraceMask << "," << lLevelAsMask << endl;
-  #endif
-
-  lSize = sizeof(long) + sizeof(CmdParameter01);
-  pBuffer = (char *) malloc(lSize);
-  if (pBuffer)
-  {
-    pPos = pBuffer;
-
-    memcpy(pPos, &lType, sizeof(long));
-    pPos += sizeof(long);
-
-    FixedData.lTraceLevel = lTraceLevel;
-    FixedData.lLevelAsMask = lLevelAsMask;
-    FixedData.lTraceMask = lTraceMask;
-
-    memcpy(pPos, &FixedData, sizeof(CmdParameter01));
-
-    lWritten = lSize;
-    if (cxBuf)
-      result= cxBuf->Write(OwnHandle, PartnerHandle, pBuffer, &lWritten);
-    else
-    {
-      #ifdef DEBUGOUT
-      cout << "-> cxWrite (Own=" << OwnHandle <<", Partner=" << PartnerHandle << ", Size=" << lWritten << ")" << endl;
-      dump(pBuffer, lWritten);
-      #endif
-      result= cxWrite(OwnHandle, PartnerHandle, pBuffer, &lWritten);
-      #ifdef DEBUGOUT
-      cout << "<- cxWrite (Size=" << lWritten << ")=" << result << endl;
-      #endif
-    }
-    if (lWritten != lSize  && result == CXRC_OK)
-      result= CXRC_ERROR;
-    free(pBuffer);
-  }
-  else
-    result= TRC_OUTOFMEMORY;
-
-  return result;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long readCmdParameter01(aMap &Data, char *pCopyBuffer, const char *pBuffer, long lSize)
-
- COMMENTS:  read Parameter command sent by writeCmdParameter01
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-static long readCmdParameter01(aMap &Data, char *pCopyBuffer, const char *pBuffer, long lSize)
-{
-  const char *pPos;
-  CmdParameter01 FixedData;
-  long result;
-
-  result= TRC_FORMATCORRUPT;
-  pPos = pBuffer + sizeof(long);
-
-  if (pPos + sizeof(CmdParameter01) <= pBuffer + lSize)
-  {
-    memcpy(&FixedData, pPos, sizeof(CmdParameter01));
-    Data.set(DN_LTRACELEVEL, FixedData.lTraceLevel);
-    Data.set(DN_LLEVELASMASK, FixedData.lLevelAsMask);
-    Data.set(DN_LTRACEMASK, FixedData.lTraceMask);
-    #ifdef DEBUGOUT
-      cout << "readCmdParameter01: " << FixedData.lTraceLevel << ", "  << FixedData.lLevelAsMask << ", "  << FixedData.lTraceMask << endl;
-    #endif
-    result= CXRC_OK;
-  }
-  return result;
-}
-
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long writeCmdNewFile02(long OwnHandle, long PartnerHandle, const char* pszTopic, cxBuffer* cxBuf)
-
- COMMENTS:  Send Stop new file
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-
-
-long writeCmdNewFile02(long OwnHandle, long PartnerHandle, const char* pszTopic, cxBuffer* cxBuf)
-{
-  long result;
-  long lSize, lWritten, lCopy;
-  const char *pTopic;
-  long lTopic;
-
-  char *pBuffer, *pPos;
-  long lType = TT_CMDNEWFILE02;
-
-  #ifdef DEBUGOUT
-    cout << "writeCmdNewFile02: " << non_null(pszTopic) << endl;
-  #endif
-
-  if (pszTopic)
-    pTopic = pszTopic;
-  else
-    pTopic = NullString;
-  lTopic = strlen(pTopic) + 1;
-
-
-  lSize = sizeof(long) + lTopic;
-  pBuffer = (char *) malloc(lSize);
-  if (pBuffer)
-  {
-    pPos = pBuffer;
-
-    memcpy(pPos, &lType, sizeof(long));
-    pPos += sizeof(long);
-
-    lCopy = lSize - (pPos - pBuffer);
-    strmcpy(pPos, pTopic, lCopy);
-    pPos += lCopy;
-    //strcpy(pPos, pTopic);
-    //pPos += lTopic;
-
-    lWritten = lSize;
-    if (cxBuf)
-      result= cxBuf->Write(OwnHandle, PartnerHandle, pBuffer, &lWritten);
-    else
-    {
-      #ifdef DEBUGOUT
-      cout << "-> cxWrite (Own=" << OwnHandle <<", Partner=" << PartnerHandle << ", Size=" << lWritten << ")" << endl;
-      dump(pBuffer, lWritten);
-      #endif
-      result= cxWrite(OwnHandle, PartnerHandle, pBuffer, &lWritten);
-      #ifdef DEBUGOUT
-      cout << "<- cxWrite (Size=" << lWritten << ")=" << result << endl;
-      #endif
-    }
-    if (lWritten != lSize  && result == CXRC_OK)
-      result= CXRC_ERROR;
-    free(pBuffer);
-  }
-  else
-    result= TRC_OUTOFMEMORY;
-
-  return result;
-
-}
-
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long readCmdNewFile02(aMap &Data, char *pCopyBuffer, const char *pBuffer, long lSize)
-
- COMMENTS:  read Parameter command sent by writeCmdNewFile02
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-static long readCmdNewFile02(aMap &Data, char *pCopyBuffer, const char *pBuffer, long lSize)
-{
-  const char *pPos;
-  long lCopy;
-  long result;
-
-  result= TRC_FORMATCORRUPT;
-  pPos = pBuffer + sizeof(long);
-
-  lCopy = lSize - (pPos - pBuffer);
-  if (strmcpy (pCopyBuffer, pPos, lCopy))
-  {
-    Data.set(DN_STOPIC, pCopyBuffer);
-    #ifdef DEBUGOUT
-      cout << "readCmdNewFile02: " << pCopyBuffer << endl;
-    #endif
-
-    result= CXRC_OK;
-  }
-  return result;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long writeText02(long OwnHandle, long PartnerHandle, const char* pszTopic, const char *pszFile, short  sLine, const char *pszFunction, const char *pszText, cxBuffer* cxBuf)
-
- COMMENTS:  Send Text
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-
-long writeText02(long OwnHandle, long PartnerHandle, const char* pszTopic, const char *pszFile, short  sLine, const char *pszFunction, const char *pszText, cxBuffer* cxBuf)
-{
-  long result;
-  Text02 FixedData;
-  long lSize, lWritten, lCopy;
-  const char *pText, *pFunction, *pFile, *pTopic;
-  long lText, lFunction, lFile, lTopic;
-
-  char *pBuffer, *pPos;
-  long lType = TT_TEXT02;
-
-  #ifdef DEBUGOUT
-    cout << "writeText02: " << non_null(pszTopic) << "," << non_null(pszFile) << "," << sLine << "," << non_null(pszFunction) << "," << non_null(pszText) << endl;
-  #endif
-
-
-
-  // Timestamp
-  osGetDateTime (&(FixedData.timestamp));
-
-  // check size of strings
-  if (pszText)
-    pText = pszText;
-  else
-    pText = NullString;
-  lText = strlen(pText) + 1;
-
-  if (pszFunction)
-    pFunction = pszFunction;
-  else
-    pFunction = NullString;
-  lFunction = strlen(pFunction) + 1;
-
-  if (pszFile)
-    pFile = pszFile;
-  else
-    pFile = NullString;
-  lFile = strlen(pFile) + 1;
-
-  if (pszTopic)
-    pTopic = pszTopic;
-  else
-    pTopic = NullString;
-  lTopic = strlen(pTopic) + 1;
-
-  // alloc needed buffer
-  lSize = sizeof(long) + sizeof(Text02) + lText + lFunction + lFile + lTopic;
-  pBuffer = (char *) malloc(lSize);
-
-  if (pBuffer)
-  {
-    // write FixedData  (pPos current Position in Buffer)
-    FixedData.sLine = sLine;
-
-    pPos = pBuffer;
-
-    memcpy(pPos, &lType, sizeof(long));
-    pPos += sizeof(long);
-
-    memcpy(pPos, &FixedData, sizeof(Text02));
-    pPos += sizeof(Text02);
-
-    // write strings
-    lCopy = lSize - (pPos - pBuffer);
-    strmcpy(pPos, pFunction, lCopy);
-    pPos += lCopy;
-    //strcpy(pPos, pFunction);
-    //pPos += lFunction;
-
-    lCopy = lSize - (pPos - pBuffer);
-    strmcpy(pPos, pFile, lCopy);
-    pPos += lCopy;
-    //strcpy(pPos, pFile);
-    //pPos += lFile;
-
-    lCopy = lSize - (pPos - pBuffer);
-    strmcpy(pPos, pText, lCopy);
-    pPos += lCopy;
-    //strcpy(pPos, pText);
-    //pPos += lText;
-
-    lCopy = lSize - (pPos - pBuffer);
-    strmcpy(pPos, pTopic, lCopy);
-    pPos += lCopy;
-    //strcpy(pPos, pTopic);
-    //pPos += lTopic;
-
-
-    // Write to CXAPI
-    lWritten = lSize;
-    if (cxBuf)
-      result= cxBuf->Write(OwnHandle, PartnerHandle, pBuffer, &lWritten);
-    else
-    {
-      #ifdef DEBUGOUT
-      cout << "-> cxWrite (Own=" << OwnHandle <<", Partner=" << PartnerHandle << ", Size=" << lWritten << ")" << endl;
-      dump(pBuffer, lWritten);
-      #endif
-      result= cxWrite(OwnHandle, PartnerHandle, pBuffer, &lWritten);
-      #ifdef DEBUGOUT
-      cout << "<- cxWrite (Size=" << lWritten << ")=" << result << endl;
-      #endif
-    }
-    if (lWritten != lSize  && result == CXRC_OK)
-      result= CXRC_ERROR;
-
-    // clean up
-    free(pBuffer);
-  }
-  else
-    result= TRC_OUTOFMEMORY;
-
-  return result;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long readText02(aMap &Data, char *pCopyBuffer, const char *pBuffer, long lSize)
-
- COMMENTS:  read the Text sent by writeText02
-            pBuffer contains the Datas
-            pCopyBuffer is needed for data transformation
-            lSize contains the size of pBuffer
-            pCopyBuffer is a big as pBuffer
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-static long readText02(aMap &Data, char *pCopyBuffer, const char *pBuffer, long lSize)
-{
-  const char *pPos;
-  Text02 FixedData;
-  long lCopy;
-  long result;
-
-  result= TRC_FORMATCORRUPT;
-
-  // pPos is the Current Position in pBuffer
-  pPos = pBuffer + sizeof(long);  // ignore header
-
-
-  if (pPos + sizeof(Text02) <= pBuffer + lSize)
-  {
-    memcpy(&FixedData, pPos, sizeof(Text02));        // read fixed Data
-    pPos += sizeof(Text02);
-    Data.set(DN_LLINE,       FixedData.sLine);
-    Data.set(DN_LHOURS,      FixedData.timestamp.hours);
-    Data.set(DN_LMINUTES,    FixedData.timestamp.minutes);
-    Data.set(DN_LSECONDS,    FixedData.timestamp.seconds);
-    Data.set(DN_LHUNDREDTHS, FixedData.timestamp.hundredths);
-    Data.set(DN_LDAY,        FixedData.timestamp.day);
-    Data.set(DN_LMONTH,      FixedData.timestamp.month);
-    Data.set(DN_LYEAR,       FixedData.timestamp.year);
-
-
-    lCopy = lSize - (pPos - pBuffer);              // lCopy = remaining space in pBuffer from pPos
-    if (strmcpy (pCopyBuffer, pPos, lCopy))        // copy maximal lCopy bytes from pPos to pCopyBuffer until zero character
-    {
-      pPos += lCopy;
-      Data.set(DN_SFUNCTION, pCopyBuffer);
-      lCopy = lSize - (pPos - pBuffer);
-
-      if (strmcpy (pCopyBuffer, pPos, lCopy))
-      {
-        pPos += lCopy;
-        Data.set(DN_SFILE, pCopyBuffer);
-        lCopy = lSize - (pPos - pBuffer);
-        if (strmcpy (pCopyBuffer, pPos, lCopy))
-        {
-          pPos += lCopy;
-          Data.set(DN_STEXT, pCopyBuffer);
-          lCopy = lSize - (pPos - pBuffer);
-          if (strmcpy (pCopyBuffer, pPos, lCopy))
-          {
-            Data.set(DN_STOPIC, pCopyBuffer);
-            #ifdef DEBUGOUT
-              cout << "readText02: " << non_null(Data.get(DN_STOPIC).strObject()) << "," << non_null(Data.get(DN_SFILE).strObject()) << "," << FixedData.sLine << "," << non_null(Data.get(DN_SFUNCTION).strObject()) << "," << non_null(Data.get(DN_STEXT).strObject()) << endl;
-            #endif
-
-            result= CXRC_OK;
-          }
-        }
-      }
-    }
-  }
-  return result;
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long writeDump02(long OwnHandle, long PartnerHandle, const char* pszTopic, const char *pszFile, short  sLine, const char *pszFunction, long lDumpSize, const char *pDump, cxBuffer* cxBuf);
-
- COMMENTS:  Send Text
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-
-long writeDump02(long OwnHandle, long PartnerHandle, const char* pszTopic, const char *pszFile, short  sLine, const char *pszFunction, long lDumpSize, const char *pDump, cxBuffer* cxBuf)
-{
-  long result;
-  Text02 FixedData;
-  long lSize, lWritten, lCopy;
-  const char *pText, *pFunction, *pFile, *pTopic;
-  long lText, lFunction, lFile, lTopic;
-
-  char *pBuffer, *pPos;
-  long lType = TT_DUMP02;
-
-  #ifdef DEBUGOUT
-    cout << "writeDump02: " << non_null(pszTopic) << "," << non_null(pszFile) << "," << sLine << "," << non_null(pszFunction) << "," << lDumpSize << endl;
-  #endif
-
-
-  osGetDateTime (&(FixedData.timestamp));
-
-  if (pDump)
-  {
-    pText = pDump;
-    lText = lDumpSize;
-  }
-  else
-  {
-    pText = NullString;
-    lText = strlen(pText) + 1;
-  }
-
-  if (pszFunction)
-    pFunction = pszFunction;
-  else
-    pFunction = NullString;
-  lFunction = strlen(pFunction) + 1;
-
-  if (pszFile)
-    pFile = pszFile;
-  else
-    pFile = NullString;
-  lFile = strlen(pFile) + 1;
-
-  if (pszTopic)
-    pTopic = pszTopic;
-  else
-    pTopic = NullString;
-  lTopic = strlen(pTopic) + 1;
-
-  lSize = sizeof(long) + sizeof(Text02) + lText + lFunction + lFile + lTopic;
-  pBuffer = (char *) malloc(lSize);
-  if (pBuffer)
-  {
-    FixedData.sLine = sLine;
-
-    pPos = pBuffer;
-
-    memcpy(pPos, &lType, sizeof(long));
-    pPos += sizeof(long);
-
-    memcpy(pPos, &FixedData, sizeof(Text02));
-    pPos += sizeof(Text02);
-
-    lCopy = lSize - (pPos - pBuffer);
-    strmcpy(pPos, pFunction, lCopy);
-    pPos += lCopy;
-    //strcpy(pPos, pFunction);
-    //pPos += lFunction;
-
-    lCopy = lSize - (pPos - pBuffer);
-    strmcpy(pPos, pFile, lCopy);
-    pPos += lCopy;
-    //strcpy(pPos, pFile);
-    //pPos += lFile;
-
-    lCopy = lSize - (pPos - pBuffer);
-    strmcpy(pPos, pTopic, lCopy);
-    pPos += lCopy;
-    //strcpy(pPos, pTopic);
-    //pPos += lTopic;
-
-    memcpy(pPos, pText, lText);
-
-    lWritten = lSize;
-    if (cxBuf)
-      result= cxBuf->Write(OwnHandle, PartnerHandle, pBuffer, &lWritten);
-    else
-    {
-      #ifdef DEBUGOUT
-      cout << "-> cxWrite (Own=" << OwnHandle <<", Partner=" << PartnerHandle << ", Size=" << lWritten << ")" << endl;
-      dump(pBuffer, lWritten);
-      #endif
-      result= cxWrite(OwnHandle, PartnerHandle, pBuffer, &lWritten);
-      #ifdef DEBUGOUT
-      cout << "<- cxWrite (Size=" << lWritten << ")=" << result << endl;
-      #endif
-    }
-    if (lWritten != lSize  && result == CXRC_OK)
-      result= CXRC_ERROR;
-    free(pBuffer);
-  }
-  else
-    result= TRC_OUTOFMEMORY;
-
-  return result;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long readDump02(aMap &Data, char *pCopyBuffer, const char *pBuffer, long lSize)
-
- COMMENTS:  read the Dump sent by writeDump02
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-static long readDump02(aMap &Data, char *pCopyBuffer, const char *pBuffer, long lSize)
-{
-  const char *pPos;
-  Text02 FixedData;
-  long lCopy;
-  long result;
-
-  result= TRC_FORMATCORRUPT;
-  pPos = pBuffer + sizeof(long);
-
-  if (pPos + sizeof(Text02) <= pBuffer + lSize)
-  {
-    memcpy(&FixedData, pPos, sizeof(Text02));
-    pPos += sizeof(Text02);
-    Data.set(DN_LLINE,       FixedData.sLine);
-    Data.set(DN_LHOURS,      FixedData.timestamp.hours);
-    Data.set(DN_LMINUTES,    FixedData.timestamp.minutes);
-    Data.set(DN_LSECONDS,    FixedData.timestamp.seconds);
-    Data.set(DN_LHUNDREDTHS, FixedData.timestamp.hundredths);
-    Data.set(DN_LDAY,        FixedData.timestamp.day);
-    Data.set(DN_LMONTH,      FixedData.timestamp.month);
-    Data.set(DN_LYEAR,       FixedData.timestamp.year);
-
-
-    lCopy = lSize - (pPos - pBuffer);
-    if (strmcpy (pCopyBuffer, pPos, lCopy))
-    {
-      pPos += lCopy;
-      Data.set(DN_SFUNCTION, pCopyBuffer);
-      lCopy = lSize - (pPos - pBuffer);
-
-      if (strmcpy (pCopyBuffer, pPos, lCopy))
-      {
-        pPos += lCopy;
-        Data.set(DN_SFILE, pCopyBuffer);
-        lCopy = lSize - (pPos - pBuffer);
-        if (strmcpy (pCopyBuffer, pPos, lCopy))
-        {
-          pPos += lCopy;
-          Data.set(DN_STOPIC, pCopyBuffer);
-          lCopy = lSize - (pPos - pBuffer);
-          if (lCopy > 0)
-          {
-            Data.set(DN_BDUMP, aObject(pPos, lCopy));
-            #ifdef DEBUGOUT
-              cout << "readDump02: " << non_null(Data.get(DN_STOPIC).strObject()) << "," << non_null(Data.get(DN_SFILE).strObject()) << "," << FixedData.sLine << "," << non_null(Data.get(DN_SFUNCTION).strObject()) << "," << Data.get(DN_BDUMP).count() << endl;
-            #endif
-            result= CXRC_OK;
-          }
-          else if(lCopy == 0)
-          {
-            Data.set(DN_BDUMP, "<null>");
-            #ifdef DEBUGOUT
-              cout << "readDump02: " << non_null(Data.get(DN_STOPIC).strObject()) << "," << non_null(Data.get(DN_SFILE).strObject()) << "," << FixedData.sLine << "," << non_null(Data.get(DN_SFUNCTION).strObject()) << "," << Data.get(DN_BDUMP).count() << endl;
-            #endif
-            result= CXRC_OK;
-          }
-        }
-      }
-    }
-  }
-  return result;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long writeCmdTopicState01(long OwnHandle, long PartnerHandle, const char* pszTopic, long lState, cxBuffer* cxBuf)
-
- COMMENTS:  Send Stop new file
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-
-
-long writeCmdTopicState01(long OwnHandle, long PartnerHandle, const char* pszTopic, long lState, cxBuffer* cxBuf)
-{
-  long result;
-  long lSize, lWritten, lCopy;
-  const char *pTopic;
-  long lTopic;
-
-  char *pBuffer, *pPos;
-  long lType = TT_CMDTOPICSTATE01;
-
-  #ifdef DEBUGOUT
-    cout << "writeCmdTopicState01: " << non_null(pszTopic) << "," << lState << endl;
-  #endif
-
-
-  if (pszTopic)
-    pTopic = pszTopic;
-  else
-    pTopic = NullString;
-  lTopic = strlen(pTopic) + 1;
-
-  lSize = sizeof(long) + sizeof (long) + lTopic;
-  pBuffer = (char *) malloc(lSize);
-  if (pBuffer)
-  {
-    pPos = pBuffer;
-
-    memcpy(pPos, &lType, sizeof(long));
-    pPos += sizeof(long);
-
-    memcpy(pPos, &lState, sizeof(long));
-    pPos += sizeof(long);
-
-    lCopy = lSize - (pPos - pBuffer);
-    strmcpy(pPos, pTopic, lCopy);
-    pPos += lCopy;
-    //strcpy(pPos, pTopic);
-    //pPos += lTopic;
-
-    lWritten = lSize;
-    if (cxBuf)
-      result= cxBuf->Write(OwnHandle, PartnerHandle, pBuffer, &lWritten);
-    else
-    {
-      #ifdef DEBUGOUT
-      cout << "-> cxWrite (Own=" << OwnHandle <<", Partner=" << PartnerHandle << ", Size=" << lWritten << ")" << endl;
-      dump(pBuffer, lWritten);
-      #endif
-      result= cxWrite(OwnHandle, PartnerHandle, pBuffer, &lWritten);
-      #ifdef DEBUGOUT
-      cout << "<- cxWrite (Size=" << lWritten << ")=" << result << endl;
-      #endif
-    }
-    if (lWritten != lSize  && result == CXRC_OK)
-      result= CXRC_ERROR;
-    free(pBuffer);
-  }
-  else
-    result= TRC_OUTOFMEMORY;
-
-  return result;
-
-}
-
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long readCmdTopicState01(aMap &Data, char *pCopyBuffer, const char *pBuffer, long lSize)
-
- COMMENTS:  read Parameter command sent by writeCmdTopicState01
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-static long readCmdTopicState01(aMap &Data, char *pCopyBuffer, const char *pBuffer, long lSize)
-{
-  const char *pPos;
-  long lTopicState;
-  long lCopy;
-  long result;
-
-  result= TRC_FORMATCORRUPT;
-  pPos = pBuffer + sizeof(long);
-
-// 29.07.2002 ts error in readCmdNewFile01, readCmdTopicState01 removed
-  if (pPos + sizeof(long) <= pBuffer + lSize)
-  {
-    memcpy(&lTopicState, pPos, sizeof(long));
-    Data.set(DN_LTOPICSTATE, lTopicState);
-    pPos += sizeof(long);
-    lCopy = lSize - (pPos - pBuffer);
-    if (strmcpy (pCopyBuffer, pPos, lCopy))
-    {
-      Data.set(DN_STOPIC, pCopyBuffer);
-      #ifdef DEBUGOUT
-        cout << "readCmdTopicState01: " << non_null(Data.get(DN_STOPIC).strObject()) << ", " << lTopicState << endl;
-      #endif
-
-      result= CXRC_OK;
-    }
-  }
-
-
-  return result;
-}
-
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long writeCmdInitListen01(long OwnHandle, long PartnerHandle, cxBuffer* cxBuf)
-
- COMMENTS:  Send Init Listen Command
-
- DATE:      07.02.2001
-
- AUTHOR:    MATERNA Information & Communications  (TS)
-
----------------------------------------------------------------------------*/
-
-
-long writeCmdInitListen01(long OwnHandle, long PartnerHandle, cxBuffer* cxBuf)
-{
-
-  long result;
-  long lSize, lWritten;
-
-  long lType = TT_CMDINITLISTEN01;
-
-  lSize = sizeof(long);
-
-  lWritten = lSize;
-
-  #ifdef DEBUGOUT
-  cout << "writeCmdInitListen01" << endl;
-  #endif
-
-
-  if (cxBuf)
-    result= cxBuf->Write(OwnHandle, PartnerHandle, (char*)&lType, &lWritten);
-  else
-  {
-    #ifdef DEBUGOUT
-    cout << "-> cxWrite (Own=" << OwnHandle <<", Partner=" << PartnerHandle << ", Size=" << lWritten << ")" << endl;
-    dump((char*)&lType, lWritten);
-    #endif
-    result= cxWrite(OwnHandle, PartnerHandle, (char*)&lType, &lWritten);
-    #ifdef DEBUGOUT
-    cout << "<- cxWrite (Size=" << lWritten << ")=" << result << endl;
-    #endif
-  }
-  if (lWritten != lSize  && result == CXRC_OK)
-    result= CXRC_ERROR;
-
-  return result;
-}
-
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long writeCmdData01(long OwnHandle, long PartnerHandle, aMap Data, cxBuffer* cxBuf)
-
- COMMENTS:  Send (any) Data
-
- DATE:      07.02.2001
-
- AUTHOR:    MATERNA Information & Communications  (TS)
-
----------------------------------------------------------------------------*/
-
-long writeCmdData01(long OwnHandle, long PartnerHandle, aMap Data, cxBuffer* cxBuf)
-{
-  long result;
-  long lSize, lWritten;
-
-  char *pBuffer, *pPos;
-  long lType = TT_CMDDATA01;
-
-  #ifdef DEBUGOUT
-    cout << "writeCmdData01: " << endl;
-    dumpMap(&cout, Data);
-  #endif
-
-  lSize= sizeof(long) + assoFlatSize(Data);
-
-  pBuffer = (char *) malloc(lSize);
-  if (pBuffer)
-  {
-    pPos = pBuffer;
-
-    memcpy(pPos, &lType, sizeof(long));
-    pPos += sizeof(long);
-
-    assoFlatCopy(pPos, pBuffer + lSize, Data);
-
-    lWritten = lSize;
-    if (cxBuf)
-      result= cxBuf->Write(OwnHandle, PartnerHandle, pBuffer, &lWritten);
-    else
-    {
-      #ifdef DEBUGOUT
-      cout << "-> cxWrite (Own=" << OwnHandle <<", Partner=" << PartnerHandle << ", Size=" << lWritten << ")" << endl;
-      dump(pBuffer, lWritten);
-      #endif
-      result= cxWrite(OwnHandle, PartnerHandle, pBuffer, &lWritten);
-      #ifdef DEBUGOUT
-      cout << "<- cxWrite (Size=" << lWritten << ")=" << result << endl;
-      #endif
-    }
-    if (lWritten != lSize  && result == CXRC_OK)
-      result= CXRC_ERROR;
-    free(pBuffer);
-  }
-  else
-    result= TRC_OUTOFMEMORY;
-
-  return result;
-
-}
-
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long readCmdData01(aMap &Data, char *pCopyBuffer, const char *pBuffer, long lSize)
-
- COMMENTS:  read Parameter command sent by writeCmdData01
-
- DATE:      07.02.2001
-
- AUTHOR:    MATERNA Information & Communications  (TS)
-
----------------------------------------------------------------------------*/
-static long readCmdData01(aMap &Data, char *pCopyBuffer, const char *pBuffer, long lSize)
-{
-  aObject *pData;
-  const char *pPos;
-  long result;
-
-  result= TRC_FORMATCORRUPT;
-  pPos = pBuffer + sizeof(long);
-
-  pData=assoFlatNew(pPos, pBuffer + lSize);
-
-  if (pData)
-  {
-    if (pData->getTag() == OBJ_MAP)
-    {
-      Data= pData->mapObject();
-      #ifdef DEBUGOUT
-        cout << "readCmdData01: " << endl;
-        dumpMap(&cout, Data);
-      #endif
-      result= CXRC_OK;
-    }
-    delete pData;
-  }
-  return result;
-}
-
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long ReadTrace(long OwnHandle, long *PartnerHandle, long *lType, aMap& Data)
-
- COMMENTS:  read incoming data and parse it
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-long ReadTrace(long OwnHandle, long *PartnerHandle, long *lType, aMap& Data)
-{
-  long rcError;
-  return ReadTrace(OwnHandle, PartnerHandle, lType, Data, rcError);
-}
-long ReadTrace(long OwnHandle, long *PartnerHandle, long *lType, aMap& Data, long& rcError)
-{
-  char Buffer[MAXLINESIZE];
-  char copyBuffer[MAXLINESIZE];
-  char *pBuffer, *pCopyBuffer;
-  long ldynBufferSize, lPos;
-  long lSize, rc;
-
-
-  ldynBufferSize = 0;
-  do
-  {
-    lSize = MAXLINESIZE;
-    #ifdef DEBUGOUT
-    cout << "-> cxRead (Own=" << OwnHandle << ", Size=" << lSize << ")" << endl;
-    #endif
-    rc = cxRead(OwnHandle, PartnerHandle, Buffer, &lSize);
-    rcError= rc;
-    #ifdef DEBUGOUT
-    dump(Buffer, lSize);
-    cout << "<- cxRead (Partner=" << *PartnerHandle << ", Size=" << lSize << ") =" << rc << endl;
-    #endif
-    if (rc != CXRC_MORE_DATA && rc != CXRC_OK && rc != CXRC_BUFFER_TOO_SMALL)
-      break;
-    if (rc == CXRC_MORE_DATA)          // Buffer to small
-    {
-      if (ldynBufferSize == 0)   // first turn
-      {
-        pBuffer = (char*) malloc(2*MAXLINESIZE);
-        ldynBufferSize = 2*MAXLINESIZE;
-        memcpy(pBuffer, Buffer, lSize);
-        lPos = lSize;
-      }
-      else                      // allready data read
-      {
-        ldynBufferSize += MAXLINESIZE;
-        pCopyBuffer = (char*)realloc(pBuffer, ldynBufferSize);
-        if (pCopyBuffer)
-          pBuffer = pCopyBuffer;
-        else
-        {
-          free(pBuffer);
-          pBuffer = 0;
-        }
-        if (pBuffer)
-        {
-          memcpy(pBuffer + lPos, Buffer, lSize);
-          lPos += lSize;
-        }
-      }
-    }
-    else if (ldynBufferSize != 0)    // all data read
-    {
-      if (pBuffer)
-      {
-        memcpy(pBuffer + lPos, Buffer, lSize);
-        lPos += lSize;
-      }
-    }
-    else                             // all data read in one turn
-    {
-      pBuffer = Buffer;
-    }
-    if (pBuffer == 0)
-      rc = CXRC_BUFFER_TOO_SMALL;
-  } while (rc == CXRC_MORE_DATA);
-
-  if (ldynBufferSize == 0)
-  {
-    pCopyBuffer = copyBuffer;
-  }
-  else
-  {
-    if (pBuffer)
-      pCopyBuffer = (char*)malloc(lPos);
-    else
-      pCopyBuffer = 0;
-    if (!pCopyBuffer)
-    {
-      if (pBuffer)
-      {
-        free(pBuffer);
-        pBuffer= 0;
-      }
-      if (rc == CXRC_OK || rc == CXRC_MORE_DATA)
-        rc = CXRC_BUFFER_TOO_SMALL;
-    }
-    lSize = lPos;
-  }
-
-
-  if (rc == CXRC_OK && lSize >= sizeof(long) && pBuffer)
-  {
-    memcpy (lType, pBuffer, sizeof(long));
-    switch(*lType)
-    {
-      case TT_CMDSTOP01:
-        #ifdef DEBUGOUT
-        cout << "readCmdStop01" << endl;
-        #endif
-        break;
-      case TT_TEXT01:
-        rc = readText01(Data, pCopyBuffer, pBuffer, lSize);
-        break;
-      case TT_DUMP01:
-        rc = readDump01(Data, pCopyBuffer, pBuffer, lSize);
-        break;
-      case TT_CMDNEWFILE01:
-        rc = readCmdNewFile01(Data, pCopyBuffer, pBuffer, lSize);
-        break;
-      case TT_CMDINIT01:
-        rc = readCmdInit01(Data, pCopyBuffer, pBuffer, lSize);
-        break;
-      case TT_CMDPARAMETER01:
-        rc = readCmdParameter01(Data, pCopyBuffer, pBuffer, lSize);
-        break;
-      case TT_TEXT02:
-        rc = readText02(Data, pCopyBuffer, pBuffer, lSize);
-        break;
-      case TT_DUMP02:
-        rc = readDump02(Data, pCopyBuffer, pBuffer, lSize);
-        break;
-      case TT_CMDNEWFILE02:
-        rc = readCmdNewFile02(Data, pCopyBuffer, pBuffer, lSize);
-        break;
-      case TT_CMDTOPICSTATE01:
-        rc = readCmdTopicState01(Data, pCopyBuffer, pBuffer, lSize);
-        break;
-      case TT_CMDINIT02:
-        rc = readCmdInit02(Data, pCopyBuffer, pBuffer, lSize);
-        break;
-      case TT_CMDSHUTDOWN01:
-        #ifdef DEBUGOUT
-        cout << "readCmdShutdown01" << endl;
-        #endif
-        break;
-      case TT_CMDINITLISTEN01:
-        #ifdef DEBUGOUT
-        cout << "readCmdInitListen01" << endl;
-        #endif
-        break;
-      case TT_CMDINIT03:
-//   22.10.2001 ts added openTraceSLT/Init03 for short life time processes => server sends no message to client
-        rc = readCmdInit03(Data, pCopyBuffer, pBuffer, lSize);
-        break;
-      case TT_CMDDATA01:
-        rc = readCmdData01(Data, pCopyBuffer, pBuffer, lSize);
-        if (Data.get(DN_LTYPE).getTag() == OBJ_NUM)
-          *lType= Data.get(DN_LTYPE).numObject();
-        break;
-      case TT_CRYPT01:
-        rc = readCrypt01(Data, pCopyBuffer, pBuffer, lSize);
-        break;
-      case TT_CRYPT02:
-        rc = readCrypt02(Data, pCopyBuffer, pBuffer, lSize);
-        break;
-      case TT_CMDMOVE01:
-        rc = readCmdMove01(Data, pCopyBuffer, pBuffer, lSize);
-        break;
-      case TT_TRACK01:
-        rc = readTrack01(Data, pCopyBuffer, pBuffer, lSize);
-        break;
-      case TT_TRACK02:
-        rc = readTrack02(Data, pCopyBuffer, pBuffer, lSize);
-        break;
-      default:
-        rc = TRC_FORMATCORRUPT;
-    }
-  }
-  else if (rc != CXRC_PARTNER_LOST)
-    rc = TRC_FORMATCORRUPT;
-
-  if (ldynBufferSize != 0)
-  {
-    if (pBuffer)
-      free(pBuffer);
-    if (pCopyBuffer)
-      free(pCopyBuffer);
-  }
-  return rc;
-
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long writeCrypt01(long OwnHandle, long PartnerHandle, long lTraceLevel, const char *pszFile, short  sLine, const char *pszFunction, long lDumpSize, const char *pDump, cxBuffer* cxBuf);
-
- COMMENTS:  Send Text
-
- DATE:      19.04.2007
-
- AUTHOR:    MATERNA Information & Communications  (SteT)
-
----------------------------------------------------------------------------*/
-
-long writeCrypt01(long OwnHandle, long PartnerHandle, long lTraceLevel, const char *pszFile, short  sLine, const char *pszFunction, long lDumpSize, const char *pDump, cxBuffer* cxBuf)
-{
-  long result;
-  Text01 FixedData;
-  long lSize, lWritten, lCopy;
-  const char *pText, *pFunction, *pFile;
-  long lText, lFunction, lFile;
-
-  char *pBuffer, *pPos;
-  long lType = TT_CRYPT01;
-
-  #ifdef DEBUGOUT
-    cout << "writeCrypt01: " << lTraceLevel << "," << non_null(pszFile) << "," << sLine << "," << non_null(pszFunction) << "," << lDumpSize << endl;
-  #endif
-
-  osGetDateTime (&(FixedData.timestamp));
-
-  if (pDump)
-  {
-    pText = pDump;
-    lText = lDumpSize;
-  }
-  else
-  {
-    pText = NullString;
-    lText = strlen(pText) + 1;
-  }
-
-  if (pszFunction)
-    pFunction = pszFunction;
-  else
-    pFunction = NullString;
-  lFunction = strlen(pFunction) + 1;
-
-  if (pszFile)
-    pFile = pszFile;
-  else
-    pFile = NullString;
-  lFile = strlen(pFile) + 1;
-
-  lSize = sizeof(long) + sizeof(Text01) + lText + lFunction + lFile;
-  pBuffer = (char *) malloc(lSize);
-  if (pBuffer)
-  {
-    FixedData.sLine = sLine;
-    FixedData.lTraceLevel = lTraceLevel;
-
-    pPos = pBuffer;
-
-    memcpy(pPos, &lType, sizeof(long));
-    pPos += sizeof(long);
-
-    memcpy(pPos, &FixedData, sizeof(Text01));
-    pPos += sizeof(Text01);
-
-    lCopy = lSize - (pPos - pBuffer);
-    strmcpy(pPos, pFunction, lCopy);
-    pPos += lCopy;
-    //strcpy(pPos, pFunction);
-    //pPos += lFunction;
-
-    lCopy = lSize - (pPos - pBuffer);
-    strmcpy(pPos, pFile, lCopy);
-    pPos += lCopy;
-    //strcpy(pPos, pFile);
-    //pPos += lFile;
-
-    memcpy(pPos, pText, lText);
-
-    lWritten = lSize;
-    if (cxBuf)
-      result= cxBuf->Write(OwnHandle, PartnerHandle, pBuffer, &lWritten);
-    else
-    {
-      #ifdef DEBUGOUT
-      cout << "-> cxWrite (Own=" << OwnHandle <<", Partner=" << PartnerHandle << ", Size=" << lWritten << ")" << endl;
-      dump(pBuffer, lWritten);
-      #endif
-      result= cxWrite(OwnHandle, PartnerHandle, pBuffer, &lWritten);
-      #ifdef DEBUGOUT
-      cout << "<- cxWrite (Size=" << lWritten << ")=" << result << endl;
-      #endif
-    }
-    if (lWritten != lSize  && result == CXRC_OK)
-      result= CXRC_ERROR;
-    free(pBuffer);
-  }
-  else
-    result= TRC_OUTOFMEMORY;
-
-  return result;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long readCrypt01(aMap &Data, char *pCopyBuffer, const char *pBuffer, long lSize)
-
- COMMENTS:  read the Dump sent by writeCrypt01
-
- DATE:      19.04.2007
-
- AUTHOR:    MATERNA Information & Communications  (SteT)
-
----------------------------------------------------------------------------*/
-static long readCrypt01(aMap &Data, char *pCopyBuffer, const char *pBuffer, long lSize)
-{
-  const char *pPos;
-  Text01 FixedData;
-  long lCopy;
-  long result;
-
-  result= TRC_FORMATCORRUPT;
-  pPos = pBuffer + sizeof(long);
-
-  if (pPos + sizeof(Text01) <= pBuffer + lSize)
-  {
-    memcpy(&FixedData, pPos, sizeof(Text01));
-    pPos += sizeof(Text01);
-    Data.set(DN_LTRACELEVEL, FixedData.lTraceLevel);
-    Data.set(DN_LLINE,       FixedData.sLine);
-    Data.set(DN_LHOURS,      FixedData.timestamp.hours);
-    Data.set(DN_LMINUTES,    FixedData.timestamp.minutes);
-    Data.set(DN_LSECONDS,    FixedData.timestamp.seconds);
-    Data.set(DN_LHUNDREDTHS, FixedData.timestamp.hundredths);
-    Data.set(DN_LDAY,        FixedData.timestamp.day);
-    Data.set(DN_LMONTH,      FixedData.timestamp.month);
-    Data.set(DN_LYEAR,       FixedData.timestamp.year);
-
-
-    lCopy = lSize - (pPos - pBuffer);
-    if (strmcpy (pCopyBuffer, pPos, lCopy))
-    {
-      pPos += lCopy;
-      Data.set(DN_SFUNCTION, pCopyBuffer);
-      lCopy = lSize - (pPos - pBuffer);
-
-      if (strmcpy (pCopyBuffer, pPos, lCopy))
-      {
-        pPos += lCopy;
-        Data.set(DN_SFILE, pCopyBuffer);
-        lCopy = lSize - (pPos - pBuffer);
-        if (lCopy > 0)
-        {
-          Data.set(DN_BDUMP, aObject(pPos, lCopy));
-          #ifdef DEBUGOUT
-            cout << "readCrypt01: " << FixedData.lTraceLevel << "," << non_null(Data.get(DN_SFILE).strObject()) << "," << FixedData.sLine << "," << non_null(Data.get(DN_SFUNCTION).strObject()) << "," << Data.get(DN_BDUMP).count() << endl;
-          #endif
-          result= CXRC_OK;
-        }
-        else if(lCopy == 0)
-        {
-          Data.set(DN_BDUMP, "<null>");
-          #ifdef DEBUGOUT
-            cout << "readCrypt01: " << FixedData.lTraceLevel << "," << non_null(Data.get(DN_SFILE).strObject()) << "," << FixedData.sLine << "," << non_null(Data.get(DN_SFUNCTION).strObject()) << "," << Data.get(DN_BDUMP).count() << endl;
-          #endif
-          result= CXRC_OK;
-        }
-      }
-    }
-  }
-  return result;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long writeCrypt02(long OwnHandle, long PartnerHandle, const char* pszTopic, const char *pszFile, short  sLine, const char *pszFunction, long lDumpSize, const char *pDump, cxBuffer* cxBuf);
-
- COMMENTS:  Send Text
-
- DATE:      19.04.2007
-
- AUTHOR:    MATERNA Information & Communications  (SteT)
-
----------------------------------------------------------------------------*/
-
-long writeCrypt02(long OwnHandle, long PartnerHandle, const char* pszTopic, const char *pszFile, short  sLine, const char *pszFunction, long lDumpSize, const char *pDump, cxBuffer* cxBuf)
-{
-  long result;
-  Text02 FixedData;
-  long lSize, lWritten, lCopy;
-  const char *pText, *pFunction, *pFile, *pTopic;
-  long lText, lFunction, lFile, lTopic;
-
-  char *pBuffer, *pPos;
-  long lType = TT_CRYPT02;
-
-  #ifdef DEBUGOUT
-    cout << "writeCrypt02: " << non_null(pszTopic) << "," << non_null(pszFile) << "," << sLine << "," << non_null(pszFunction) << "," << lDumpSize << endl;
-  #endif
-
-
-  osGetDateTime (&(FixedData.timestamp));
-
-  if (pDump)
-  {
-    pText = pDump;
-    lText = lDumpSize;
-  }
-  else
-  {
-    pText = NullString;
-    lText = strlen(pText) + 1;
-  }
-
-  if (pszFunction)
-    pFunction = pszFunction;
-  else
-    pFunction = NullString;
-  lFunction = strlen(pFunction) + 1;
-
-  if (pszFile)
-    pFile = pszFile;
-  else
-    pFile = NullString;
-  lFile = strlen(pFile) + 1;
-
-  if (pszTopic)
-    pTopic = pszTopic;
-  else
-    pTopic = NullString;
-  lTopic = strlen(pTopic) + 1;
-
-  lSize = sizeof(long) + sizeof(Text02) + lText + lFunction + lFile + lTopic;
-  pBuffer = (char *) malloc(lSize);
-  if (pBuffer)
-  {
-    FixedData.sLine = sLine;
-
-    pPos = pBuffer;
-
-    memcpy(pPos, &lType, sizeof(long));
-    pPos += sizeof(long);
-
-    memcpy(pPos, &FixedData, sizeof(Text02));
-    pPos += sizeof(Text02);
-
-    lCopy = lSize - (pPos - pBuffer);
-    strmcpy(pPos, pFunction, lCopy);
-    pPos += lCopy;
-    //strcpy(pPos, pFunction);
-    //pPos += lFunction;
-
-    lCopy = lSize - (pPos - pBuffer);
-    strmcpy(pPos, pFile, lCopy);
-    pPos += lCopy;
-    //strcpy(pPos, pFile);
-    //pPos += lFile;
-
-    lCopy = lSize - (pPos - pBuffer);
-    strmcpy(pPos, pTopic, lCopy);
-    pPos += lCopy;
-    //strcpy(pPos, pTopic);
-    //pPos += lTopic;
-
-    memcpy(pPos, pText, lText);
-
-    lWritten = lSize;
-    if (cxBuf)
-      result= cxBuf->Write(OwnHandle, PartnerHandle, pBuffer, &lWritten);
-    else
-    {
-      #ifdef DEBUGOUT
-      cout << "-> cxWrite (Own=" << OwnHandle <<", Partner=" << PartnerHandle << ", Size=" << lWritten << ")" << endl;
-      dump(pBuffer, lWritten);
-      #endif
-      result= cxWrite(OwnHandle, PartnerHandle, pBuffer, &lWritten);
-      #ifdef DEBUGOUT
-      cout << "<- cxWrite (Size=" << lWritten << ")=" << result << endl;
-      #endif
-    }
-    if (lWritten != lSize  && result == CXRC_OK)
-      result= CXRC_ERROR;
-    free(pBuffer);
-  }
-  else
-    result= TRC_OUTOFMEMORY;
-
-  return result;
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long readCrypt02(aMap &Data, char *pCopyBuffer, const char *pBuffer, long lSize)
-
- COMMENTS:  read the Dump sent by writeCrypt02
-
- DATE:      19.04.2007
-
- AUTHOR:    MATERNA Information & Communications  (SteT)
-
----------------------------------------------------------------------------*/
-static long readCrypt02(aMap &Data, char *pCopyBuffer, const char *pBuffer, long lSize)
-{
-  const char *pPos;
-  Text02 FixedData;
-  long lCopy;
-  long result;
-
-  result= TRC_FORMATCORRUPT;
-  pPos = pBuffer + sizeof(long);
-
-  if (pPos + sizeof(Text02) <= pBuffer + lSize)
-  {
-    memcpy(&FixedData, pPos, sizeof(Text02));
-    pPos += sizeof(Text02);
-    Data.set(DN_LLINE,       FixedData.sLine);
-    Data.set(DN_LHOURS,      FixedData.timestamp.hours);
-    Data.set(DN_LMINUTES,    FixedData.timestamp.minutes);
-    Data.set(DN_LSECONDS,    FixedData.timestamp.seconds);
-    Data.set(DN_LHUNDREDTHS, FixedData.timestamp.hundredths);
-    Data.set(DN_LDAY,        FixedData.timestamp.day);
-    Data.set(DN_LMONTH,      FixedData.timestamp.month);
-    Data.set(DN_LYEAR,       FixedData.timestamp.year);
-
-
-    lCopy = lSize - (pPos - pBuffer);
-    if (strmcpy (pCopyBuffer, pPos, lCopy))
-    {
-      pPos += lCopy;
-      Data.set(DN_SFUNCTION, pCopyBuffer);
-      lCopy = lSize - (pPos - pBuffer);
-
-      if (strmcpy (pCopyBuffer, pPos, lCopy))
-      {
-        pPos += lCopy;
-        Data.set(DN_SFILE, pCopyBuffer);
-        lCopy = lSize - (pPos - pBuffer);
-        if (strmcpy (pCopyBuffer, pPos, lCopy))
-        {
-          pPos += lCopy;
-          Data.set(DN_STOPIC, pCopyBuffer);
-          lCopy = lSize - (pPos - pBuffer);
-          if (lCopy > 0)
-          {
-            Data.set(DN_BDUMP, aObject(pPos, lCopy));
-            #ifdef DEBUGOUT
-              cout << "readCrypt02: " << non_null(Data.get(DN_STOPIC).strObject()) << "," << non_null(Data.get(DN_SFILE).strObject()) << "," << FixedData.sLine << "," << non_null(Data.get(DN_SFUNCTION).strObject()) << "," << Data.get(DN_BDUMP).count() << endl;
-            #endif
-            result= CXRC_OK;
-          }
-          else if(lCopy == 0)
-          {
-            Data.set(DN_BDUMP, "<null>");
-            #ifdef DEBUGOUT
-              cout << "readCrypt02: " << non_null(Data.get(DN_STOPIC).strObject()) << "," << non_null(Data.get(DN_SFILE).strObject()) << "," << FixedData.sLine << "," << non_null(Data.get(DN_SFUNCTION).strObject()) << "," << Data.get(DN_BDUMP).count() << endl;
-            #endif
-            result= CXRC_OK;
-          }
-        }
-      }
-    }
-  }
-  return result;
-}
-
-
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long writeCmdMove01(long OwnHandle, long PartnerHandle, const char *pszPath, cxBuffer* cxBuf);
-
- COMMENTS:  Send Text
-
- DATE:      09.08.2007
-
- AUTHOR:    MATERNA Information & Communications  (SteT)
-
----------------------------------------------------------------------------*/
-
-long writeCmdMove01(long OwnHandle, long PartnerHandle, const char *pszPath, cxBuffer* cxBuf)
-{
-  long result;
-  long lSize, lWritten, lCopy;
-  const char *pPath;
-  long lPath;
-
-  char *pBuffer, *pPos;
-  long lType = TT_CMDMOVE01;
-
-  #ifdef DEBUGOUT
-    cout << "writeCmdMove01: " << non_null(pszPath) << endl;
-  #endif
-
-  if (pszPath)
-    pPath = pszPath;
-  else
-    pPath = NullString;
-  lPath = strlen(pPath) + 1;
-
-  lSize = sizeof(long) + lPath;
-  pBuffer = (char *) malloc(lSize);
-  if (pBuffer)
-  {
-    pPos = pBuffer;
-
-    memcpy(pPos, &lType, sizeof(long));
-    pPos += sizeof(long);
-
-    lCopy = lSize - (pPos - pBuffer);
-    strmcpy(pPos, pPath, lCopy);
-    pPos += lCopy;
-
-    lWritten = lSize;
-    if (cxBuf)
-      result= cxBuf->Write(OwnHandle, PartnerHandle, pBuffer, &lWritten);
-    else
-    {
-      #ifdef DEBUGOUT
-      cout << "-> cxWrite (Own=" << OwnHandle <<", Partner=" << PartnerHandle << ", Size=" << lWritten << ")" << endl;
-      dump(pBuffer, lWritten);
-      #endif
-      result= cxWrite(OwnHandle, PartnerHandle, pBuffer, &lWritten);
-      #ifdef DEBUGOUT
-      cout << "<- cxWrite (Size=" << lWritten << ")=" << result << endl;
-      #endif
-    }
-    if (lWritten != lSize  && result == CXRC_OK)
-      result= CXRC_ERROR;
-    free(pBuffer);
-  }
-  else
-    result= TRC_OUTOFMEMORY;
-
-  return result;
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long readCmdMove01(aMap &Data, char *pCopyBuffer, const char *pBuffer, long lSize)
-
- COMMENTS:  read the Command sent by writeCmdMove01
-
- DATE:      09.08.2007
-
- AUTHOR:    MATERNA Information & Communications  (SteT)
-
----------------------------------------------------------------------------*/
-static long readCmdMove01(aMap &Data, char *pCopyBuffer, const char *pBuffer, long lSize)
-{
-  const char *pPos;
-  long lCopy;
-  long result;
-
-  result= TRC_FORMATCORRUPT;
-  pPos = pBuffer + sizeof(long);
-
-  if (pPos <= pBuffer + lSize)
-  {
-    lCopy = lSize - (pPos - pBuffer);
-    if (strmcpy (pCopyBuffer, pPos, lCopy))
-    {
-      Data.set(DN_SPATH, pCopyBuffer);
-      #ifdef DEBUGOUT
-        cout << "readCmdMove01: " << non_null(Data.get(DN_SPATH).strObject()) << endl;
-      #endif
-
-      result= CXRC_OK;
-    }
-  }
-  return result;
-}
-
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long writeTrack01(long OwnHandle, long PartnerHandle, long lTraceLevel, const char *pszFile, short  sLine, const char *pszFunction, long trackId, const char *pszTrack, cxBuffer* cxBuf= 0);
-
- COMMENTS:  trace credit card track
-
- DATE:      20.09.2007
-
- AUTHOR:    MATERNA Information & Communications  (SteT)
-
----------------------------------------------------------------------------*/
-long writeTrack01(long OwnHandle, long PartnerHandle, long lTraceLevel, const char *pszFile, short  sLine, const char *pszFunction, long trackId, const char *pszTrack, cxBuffer* cxBuf)
-{
-  long result;
-  Text01 FixedData;
-  long lSize, lWritten, lCopy;
-  const char *pText, *pFunction, *pFile;
-  long lText, lFunction, lFile;
-
-  char *pBuffer, *pPos;
-  long lType = TT_TRACK01;
-
-
-  #ifdef DEBUGOUT
-    cout << "writeTrack01: " << lTraceLevel << "," << non_null(pszFile) << "," << sLine << "," << non_null(pszFunction) << "," << trackId << endl;
-  #endif
-
-
-  // Timestamp
-  osGetDateTime (&(FixedData.timestamp));
-
-  // check size of strings
-  if (pszTrack)
-    pText = pszTrack;
-  else
-    pText = NullString;
-  lText = strlen(pText) + 1;
-
-  if (pszFunction)
-    pFunction = pszFunction;
-  else
-    pFunction = NullString;
-  lFunction = strlen(pFunction) + 1;
-
-  if (pszFile)
-    pFile = pszFile;
-  else
-    pFile = NullString;
-  lFile = strlen(pFile) + 1;
-
-  // alloc needed buffer
-  lSize = sizeof(long) + sizeof(Text01) + sizeof(long) + lText + lFunction + lFile;
-  pBuffer = (char *) malloc(lSize);
-
-  if (pBuffer)
-  {
-    // write FixedData  (pPos current Position in Buffer)
-    FixedData.sLine = sLine;
-    FixedData.lTraceLevel = lTraceLevel;
-
-    pPos = pBuffer;
-
-    memcpy(pPos, &lType, sizeof(long));
-    pPos += sizeof(long);
-
-    memcpy(pPos, &FixedData, sizeof(Text01));
-    pPos += sizeof(Text01);
-
-    // write strings
-    lCopy = lSize - (pPos - pBuffer);
-    strmcpy(pPos, pFunction, lCopy);
-    pPos += lCopy;
-    //strcpy(pPos, pFunction);
-    //pPos += lFunction;
-
-    lCopy = lSize - (pPos - pBuffer);
-    strmcpy(pPos, pFile, lCopy);
-    pPos += lCopy;
-    //strcpy(pPos, pFile);
-    //pPos += lFile;
-
-    memcpy(pPos, &trackId, sizeof(long));
-    pPos += sizeof(long);
-
-    lCopy = lSize - (pPos - pBuffer);
-    strmcpy(pPos, pText, lCopy);
-    pPos += lCopy;
-    //strcpy(pPos, pText);
-
-    // Write to CXAPI
-    lWritten = lSize;
-    if (cxBuf)
-      result= cxBuf->Write(OwnHandle, PartnerHandle, pBuffer, &lWritten);
-    else
-    {
-      #ifdef DEBUGOUT
-      cout << "-> cxWrite (Own=" << OwnHandle <<", Partner=" << PartnerHandle << ", Size=" << lWritten << ")" << endl;
-      dump(pBuffer, lWritten);
-      #endif
-      result= cxWrite(OwnHandle, PartnerHandle, pBuffer, &lWritten);
-      #ifdef DEBUGOUT
-      cout << "<- cxWrite (Size=" << lWritten << ")=" << result << endl;
-      #endif
-    }
-    if (lWritten != lSize  && result == CXRC_OK)
-      result= CXRC_ERROR;
-
-    // clean up
-    free(pBuffer);
-  }
-  else
-    result= TRC_OUTOFMEMORY;
-
-  return result;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long readTrack01(aMap &Data, char *pCopyBuffer, const char *pBuffer, long lSize)
-
- COMMENTS:  read the Command sent by writeTrack01
-
- DATE:      20.09.2007
-
- AUTHOR:    MATERNA Information & Communications  (SteT)
-
----------------------------------------------------------------------------*/
-static long readTrack01(aMap &Data, char *pCopyBuffer, const char *pBuffer, long lSize)
-{
-  const char *pPos;
-  Text01 FixedData;
-  long lCopy;
-  long result;
-  long ltrackid;
-
-  result= TRC_FORMATCORRUPT;
-
-  // pPos is the Current Position in pBuffer
-  pPos = pBuffer + sizeof(long);  // ignore header
-
-
-  if (pPos + sizeof(Text01) <= pBuffer + lSize)
-  {
-    memcpy(&FixedData, pPos, sizeof(Text01));        // read fixed Data
-    pPos += sizeof(Text01);
-    Data.set(DN_LTRACELEVEL, FixedData.lTraceLevel);
-    Data.set(DN_LLINE,       FixedData.sLine);
-    Data.set(DN_LHOURS,      FixedData.timestamp.hours);
-    Data.set(DN_LMINUTES,    FixedData.timestamp.minutes);
-    Data.set(DN_LSECONDS,    FixedData.timestamp.seconds);
-    Data.set(DN_LHUNDREDTHS, FixedData.timestamp.hundredths);
-    Data.set(DN_LDAY,        FixedData.timestamp.day);
-    Data.set(DN_LMONTH,      FixedData.timestamp.month);
-    Data.set(DN_LYEAR,       FixedData.timestamp.year);
-
-
-    lCopy = lSize - (pPos - pBuffer);              // lCopy = remaining space in pBuffer from pPos
-    if (strmcpy (pCopyBuffer, pPos, lCopy))        // copy maximal lCopy bytes from pPos to pCopyBuffer until zero character
-    {
-      pPos += lCopy;
-      Data.set(DN_SFUNCTION, pCopyBuffer);
-      lCopy = lSize - (pPos - pBuffer);
-
-      if (strmcpy (pCopyBuffer, pPos, lCopy))
-      {
-        pPos += lCopy;
-        Data.set(DN_SFILE, pCopyBuffer);
-        if (pPos + sizeof(long) <= pBuffer + lSize)
-        {
-          memcpy(&ltrackid, pPos, sizeof(long));
-          pPos += sizeof(long);
-          Data.set(DN_LTRACKID, ltrackid);
-
-          lCopy = lSize - (pPos - pBuffer);
-          if (strmcpy (pCopyBuffer, pPos, lCopy))
-          {
-            Data.set(DN_STEXT, pCopyBuffer);
-            #ifdef DEBUGOUT
-              cout << "readTrack01: " << FixedData.lTraceLevel << "," << non_null(Data.get(DN_SFILE).strObject()) << "," << FixedData.sLine << "," << Data.get(DN_SFUNCTION).strObject() << "," << Data.get(DN_LTRACKID).numObject() << endl;
-            #endif
-            result= CXRC_OK;
-          }
-        }
-      }
-    }
-  }
-  return result;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long writeTrack02(long OwnHandle, long PartnerHandle, const char *pszTopic, const char *pszFile, short  sLine, const char *pszFunction, long trackId, const char *pszTrack, cxBuffer* cxBuf= 0);
-
- COMMENTS:  trace credit card track
-
- DATE:      20.09.2007
-
- AUTHOR:    MATERNA Information & Communications  (SteT)
-
----------------------------------------------------------------------------*/
-long writeTrack02(long OwnHandle, long PartnerHandle, const char *pszTopic, const char *pszFile, short  sLine, const char *pszFunction, long trackId, const char *pszTrack, cxBuffer* cxBuf)
-{
-  long result;
-  Text02 FixedData;
-  long lSize, lWritten, lCopy;
-  const char *pText, *pFunction, *pFile, *pTopic;
-  long lText, lFunction, lFile, lTopic;
-
-  char *pBuffer, *pPos;
-  long lType = TT_TRACK02;
-
-  #ifdef DEBUGOUT
-    cout << "writeTrack02: " << non_null(pszTopic) << "," << non_null(pszFile) << "," << sLine << "," << non_null(pszFunction) << "," << trackId << endl;
-  #endif
-
-
-
-  // Timestamp
-  osGetDateTime (&(FixedData.timestamp));
-
-  // check size of strings
-  if (pszTrack)
-    pText = pszTrack;
-  else
-    pText = NullString;
-  lText = strlen(pText) + 1;
-
-  if (pszFunction)
-    pFunction = pszFunction;
-  else
-    pFunction = NullString;
-  lFunction = strlen(pFunction) + 1;
-
-  if (pszFile)
-    pFile = pszFile;
-  else
-    pFile = NullString;
-  lFile = strlen(pFile) + 1;
-
-  if (pszTopic)
-    pTopic = pszTopic;
-  else
-    pTopic = NullString;
-  lTopic = strlen(pTopic) + 1;
-
-  // alloc needed buffer
-  lSize = sizeof(long) + sizeof(Text02) + sizeof(long) + lText + lFunction + lFile + lTopic;
-  pBuffer = (char *) malloc(lSize);
-
-  if (pBuffer)
-  {
-    // write FixedData  (pPos current Position in Buffer)
-    FixedData.sLine = sLine;
-
-    pPos = pBuffer;
-
-    memcpy(pPos, &lType, sizeof(long));
-    pPos += sizeof(long);
-
-    memcpy(pPos, &FixedData, sizeof(Text02));
-    pPos += sizeof(Text02);
-
-    // write strings
-    lCopy = lSize - (pPos - pBuffer);
-    strmcpy(pPos, pFunction, lCopy);
-    pPos += lCopy;
-    //strcpy(pPos, pFunction);
-    //pPos += lFunction;
-
-    lCopy = lSize - (pPos - pBuffer);
-    strmcpy(pPos, pFile, lCopy);
-    pPos += lCopy;
-    //strcpy(pPos, pFile);
-    //pPos += lFile;
-
-    memcpy(pPos, &trackId, sizeof(long));
-    pPos += sizeof(long);
-
-    lCopy = lSize - (pPos - pBuffer);
-    strmcpy(pPos, pText, lCopy);
-    pPos += lCopy;
-    //strcpy(pPos, pText);
-    //pPos += lText;
-
-    lCopy = lSize - (pPos - pBuffer);
-    strmcpy(pPos, pTopic, lCopy);
-    pPos += lCopy;
-    //strcpy(pPos, pTopic);
-    //pPos += lTopic;
-
-
-    // Write to CXAPI
-    lWritten = lSize;
-    if (cxBuf)
-      result= cxBuf->Write(OwnHandle, PartnerHandle, pBuffer, &lWritten);
-    else
-    {
-      #ifdef DEBUGOUT
-      cout << "-> cxWrite (Own=" << OwnHandle <<", Partner=" << PartnerHandle << ", Size=" << lWritten << ")" << endl;
-      dump(pBuffer, lWritten);
-      #endif
-      result= cxWrite(OwnHandle, PartnerHandle, pBuffer, &lWritten);
-      #ifdef DEBUGOUT
-      cout << "<- cxWrite (Size=" << lWritten << ")=" << result << endl;
-      #endif
-    }
-    if (lWritten != lSize  && result == CXRC_OK)
-      result= CXRC_ERROR;
-
-    // clean up
-    free(pBuffer);
-  }
-  else
-    result= TRC_OUTOFMEMORY;
-
-  return result;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long readTrack01(aMap &Data, char *pCopyBuffer, const char *pBuffer, long lSize)
-
- COMMENTS:  read the Command sent by writeTrack01
-
- DATE:      20.09.2007
-
- AUTHOR:    MATERNA Information & Communications  (SteT)
-
----------------------------------------------------------------------------*/
-static long readTrack02(aMap &Data, char *pCopyBuffer, const char *pBuffer, long lSize)
-{
-  const char *pPos;
-  Text02 FixedData;
-  long lCopy;
-  long result;
-  long ltrackid;
-
-  result= TRC_FORMATCORRUPT;
-
-  // pPos is the Current Position in pBuffer
-  pPos = pBuffer + sizeof(long);  // ignore header
-
-
-  if (pPos + sizeof(Text02) <= pBuffer + lSize)
-  {
-    memcpy(&FixedData, pPos, sizeof(Text02));        // read fixed Data
-    pPos += sizeof(Text02);
-    Data.set(DN_LLINE,       FixedData.sLine);
-    Data.set(DN_LHOURS,      FixedData.timestamp.hours);
-    Data.set(DN_LMINUTES,    FixedData.timestamp.minutes);
-    Data.set(DN_LSECONDS,    FixedData.timestamp.seconds);
-    Data.set(DN_LHUNDREDTHS, FixedData.timestamp.hundredths);
-    Data.set(DN_LDAY,        FixedData.timestamp.day);
-    Data.set(DN_LMONTH,      FixedData.timestamp.month);
-    Data.set(DN_LYEAR,       FixedData.timestamp.year);
-
-
-    lCopy = lSize - (pPos - pBuffer);              // lCopy = remaining space in pBuffer from pPos
-    if (strmcpy (pCopyBuffer, pPos, lCopy))        // copy maximal lCopy bytes from pPos to pCopyBuffer until zero character
-    {
-      pPos += lCopy;
-      Data.set(DN_SFUNCTION, pCopyBuffer);
-      lCopy = lSize - (pPos - pBuffer);
-
-      if (strmcpy (pCopyBuffer, pPos, lCopy))
-      {
-        pPos += lCopy;
-        Data.set(DN_SFILE, pCopyBuffer);
-        lCopy = lSize - (pPos - pBuffer);
-
-        if (pPos + sizeof(long) <= pBuffer + lSize)
-        {
-          memcpy(&ltrackid, pPos, sizeof(long));
-          pPos += sizeof(long);
-          Data.set(DN_LTRACKID, ltrackid);
-
-
-          if (strmcpy (pCopyBuffer, pPos, lCopy))
-          {
-            pPos += lCopy;
-            Data.set(DN_STEXT, pCopyBuffer);
-            lCopy = lSize - (pPos - pBuffer);
-            if (strmcpy (pCopyBuffer, pPos, lCopy))
-            {
-              Data.set(DN_STOPIC, pCopyBuffer);
-              #ifdef DEBUGOUT
-                cout << "readTrack02: " << non_null(Data.get(DN_STOPIC).strObject()) << "," << non_null(Data.get(DN_SFILE).strObject()) << "," << FixedData.sLine << "," << non_null(Data.get(DN_SFUNCTION).strObject()) << "," << Data.get(DN_LTRACKID).numObject() << endl;
-              #endif
-
-              result= CXRC_OK;
-            }
-          }
-        }
-      }
-    }
-  }
-  return result;
-}
-
-
-/*************************************************************************************************
-      End Of File  TraceProtocol.cpp
-************************************************************************************************/
-
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/src/TrcServ.cpp b/SelfServiceCommon/Services/cpp/TrcServ/static/src/TrcServ.cpp
deleted file mode 100644
index 0ed639df..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/src/TrcServ.cpp
+++ /dev/null
@@ -1,1947 +0,0 @@
-/****************************************************************************
-
- FILE:      TraceService.cpp
-
- PURPOSE:   TraceService
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
- HISTORY:   20.09.1999 1.0.0 ts inital coding
-            27.01.2000 1.0.1 ts output of DiskTraceFile::Text and Dump in CltData.cpp corrected
-            25.04.2000 1.0.2 ts more stable version
-            05.05.2000 1.0.3 ts fast shutdown
-            09.05.2000 1.0.4 ts shortline output
-            11.05.2000 1.0.5 ts do not create empty topics
-            19.05.2000 2.0.0 ts use only one cxHandle per Client
-            23.05.2000 2.0.1 ts protect ApplicationData methods
-            23.05.2000 2.0.2 ts protect TraceFile access
-            06.06.2000 2.0.3 ts flush on delete
-            31.01.2001 2.0.4 ts get latest version of fmtqueue.hpp/asso.cpp/cxapi.lib/cfgdbi.lib/matbasent.lib
-            05.02.2001 2.0.5 ts init pointer before configuration items
-            05.02.2001 2.0.6 ts accept listener
-            27.03.2001 2.0.7 ts flush file after every line
-            27.03.2001 2.0.8 ts use OutputDebugString
-            18.04.2001 2.0.9 ts tracefile changed, use flush for flush
-            15.08.2001 2.1.0 ts do not use matBaseNt.lib
-            15.08.2001 2.2.0 ts start TrcServ as Windows System Service
-            20.08.2001 2.2.1 ts catch cfgdbi exceptions(MS only)
-            20.08.2001 2.2.2 ts use module path as current path
-            01.10.2001 2.2.3 ts check if the stream is open before closing it (MS)
-            18.10.2001 2.2.4 ts use high priority for reading thread, to avoid loss of traces in a busy system
-            22.10.2001 2.2.5 ts added openTraceSLT/Init03 for short life time processes => server sends no message to client
-            29.11.2001 2.2.6 ts the service trcserv depends on the service massaiConfig
-            30.01.2001 2.2.7 ts use dependencies from command line for installation
-            04.02.2001 2.2.8 ts write application name for error while reading
-            08.05.2002 2.2.9 ts option autostart added
-            27.07.2002 2.3.0 ts trace output for init and stop added
-            29.07.2002 2.3.1 ts error in readCmdNewFile01, readCmdTopicState01 removed
-            23.01.2003 2.3.2 ts do not stop on a signal if the TrcServ is started as Windows Service
-            06.03.2003 2.3.3 ts MassaiConfig blocks currentValue() if valueChanged() is called
-            06.03.2003 2.3.4 ts valueChanged() blocks
-            01.02.2005 2.3.5 ts authorization for config values
-            26.01.2006 2.3.6 ts store generations in directory YYYYMMDD
-            10.05.2006 2.3.7 ts read less configuration
-            31.05.2006 2.3.8 ts problem configuration callback / delete callback-object slowed down
-            04.01.2007 2.3.9 SteT Absturz vom TrcServ (Invalid Handle)
-            19.04.2007 2.3.10 SteT EDB 27417: Kreditkartendaten sollen nicht als plain Text im Trace erscheinen
-            08.06.2007 2.3.11 SteT EDB 27543: TT 28510, traceservice causes 100% cpu load
-            01.08.2007 2.3.12 SteT EDB 27720: PCI (Kreditkartensicherheitsrichtlinien) implemented, track data not written
-            09.08.2007 2.3.13 SteT EDB 27738: TrcServ support move method
-            05.09.2007 2.3.14 SteT EDB 27800: private Version of TrcServ which does not encrypt the traces
-            06.09.2007 2.3.15 SteT EDB 27720: PCI (Kreditkartensicherheitsrichtlinien) implemented, track data not written (really not written, even not encrypted!)
-            20.09.2007 2.3.16 SteT EDB 27720: PCI (Kreditkartensicherheitsrichtlinien) implemented, special function for writing tracks
-            26.09.2007 2.3.17 SteT EDB 27828: TraceHDL.DLL Absturz beim writeTrace
-
-
-****************************************************************************/
-
-
-/***************************************************************************
-
-  Includes
-
-***************************************************************************/
-
-#pragma warning (disable:4355)
-
-#ifndef __IBMCPP__
-#include <iostream>
-#include <strstream>
-#else
-#include <iostream.h>
-#include <strstrea.h>
-#define std
-#endif
-#include <signal.h>
-#include <string.h>
-#include <windows.h>
-#include <stdio.h>
-#ifndef __IBMCPP__
-#include <exception>
-#endif
-
-#include "CXAPI.H"
-#include "matString.h"
-#include "Version.h"
-
-#include "TrcPrtcl.h"
-#include "TrcServ.h"
-
-#include "matDaemon.h"
-
-
-/***************************************************************************
-
-  defines
-
-***************************************************************************/
-
-// #define WAITBEFORECXDELETE
-
-
-VERSION_ID_DT( 02, 03, 17 );
-
-
-
-
-#define CRYPTFILENAME            "Debug"
-#define CRYPTSERVICENAME         "Encryption"
-#define NONCRYPTSERVICENAME      "NonCryptingTrcServ.exe"
-
-/***************************************************************************
-
-  Exported Functions / Classes
-
-struct LevelNotify
-{
-  LevelNotify(long lHandle, long lTraceLevel, long lTraceMask, long lLevelAsMask);
-  LevelNotify(long lHandle, const aObject Topic, long lTopicState);
-  LevelNotify(long lHandle);
-  LevelNotify();
-  long lType;
-  long lHandle, lTraceLevel, lTraceMask, lLevelAsMask;
-  aObject& Topic;
-  long lTopicState;
-}
-
-
-class ReadLoop: public osThrd
-{
-    void function();
-  public:
-    int iEnd;
-    int iRunning;
-    TraceService* Owner;
-    eventSemaphore Stopped;
-    ReadLoop();
-}
-
-class NotifyLoop: public osThrd
-{
-    void function();
-  public:
-    int iEnd;
-    int iRunning;
-    TraceService* Owner;
-    eventSemaphore Stopped;
-    NotifyLoop();
-}
-
-class TraceService
-{
-  friend class ReadLoop;
-  long lServerHandle;
-  int iServerHandle;
-  ApplicationData StdApplication;
-  aMap Instances, Applications, Files;             // Using aMap as a map of pointer
-                                                   // Instances: ClientHandle -> InstanceData
-                                                   // Applications: ApplicationName -> ApplicationData
-                                                   // Files: FileName -> TraceFile
-  eventSemaphore Done;
-
-  ReadLoop ReadThread;
-  NotifyLoop NotfyThread;
-
-  void Read();
-  void NotifyClient(long ClientHandle, long lTraceLevel, long lTraceMask, long lLevelAsMask);
-  void deleteInstance(long ClientHandle);
-  void deleteApplication(ApplicationData *pApplication);
-  void deleteTraceFile(BasicTraceFile *pTraceFile);
-  void getApplication(ApplicationData** ppApplication, long* plInstance, aObject ModuleName, long ClientHandle);
-  long getServerHandle(long ClientHandle);
-  long Init01(long ClientHandle, const aMap& Data);
-  long Init02(long ClientHandle, const aMap& Data);
-// 22.10.2001 2.2.5 ts added openTraceSLT/Init03 for short life time processes => server sends no message to client
-  long Init03(long ClientHandle, const aMap& Data);
-  void InitListen01(long ClientHandle, const aMap& Data);
-  void forward(long lType, const aMap& Data);
-
-  void restartFiles01(long lClientHandle, const aMap& Data);
-  void restartFiles02(long lClientHandle, const aMap& Data);
-  void stopInstance(long lHandle);
-
-  public:
-    TraceService();
-    ~TraceService();
-    void start();
-    void stop();
-    int readyToStart();
-    BasicTraceFile* newTraceFile(const aObject& FileName, long lMaxFileSize, long lFileGenerations, long lAppend, long lWidth, long lExtended, long lType);
-    long getInstance(long ClientApp) const;
-
-
-}
-***************************************************************************/
-
-/***************************************************************************
-
-  Function / Classes Prototypes
-
-***************************************************************************/
-
-static void exitHandler(int iSignal);
-static void setExitHandler();
-static void resetExitHandler();
-int main(int argc, char* argv[]);
-
-/***************************************************************************
-
-  Global Variables
-
-***************************************************************************/
-static mutexSemaphore  FileAccess;
-static TraceService *pService= 0;
-static char *pszModule;
-static int debug;
-
-/***************************************************************************
-
-  Function Definition
-
-***************************************************************************/
-
-void requestFileAccess()
-{
-  FileAccess.request();
-}
-void releaseFileAccess()
-{
-  FileAccess.release();
-}
-class trcstream: public std::ostrstream
-{
-    long lTraceLevel;
-    const char* pszFile;
-    short sLine;
-    const char* pszFunction;
-    ApplicationData* pApplication;
-  public:
-    ~trcstream();
-    trcstream(long lTraceLevel, const char* pszFile, short sLine, const char* pszFunction, ApplicationData *pApplication);
-};
-
-trcstream::~trcstream()
-{
-  char *pBuffer;
-  long lSize;
-  *this <<  " ";
-  lSize = pcount();
-  if (lSize > 1)
-  {
-    pBuffer = str();
-    pBuffer[lSize-1] = 0;
-    if (pApplication)
-      pApplication->writeTrace(lTraceLevel, pszFile, sLine, pszFunction, pBuffer, pszModule, TRACESERVICENAME, 0);
-    rdbuf()->freeze(0);
-  }
-}
-
-trcstream::trcstream(long lTraceLevel, const char* pszFile, short sLine, const char* pszFunction, ApplicationData *pApplication)
-{
-  this->lTraceLevel = lTraceLevel;
-  this->pszFile = pszFile;
-  this->sLine = sLine;
-  this->pszFunction = pszFunction;
-  this->pApplication = pApplication;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  LevelNotify::LevelNotify(long lHandle, lTraceLevel, lTraceMask, lLevelAsMask)
-
- COMMENTS:
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-
-LevelNotify::LevelNotify(long lHandle, long lTraceLevel, long lTraceMask, long lLevelAsMask)
-{
-  this->lType = TT_CMDPARAMETER01;
-  this->lHandle = lHandle;
-  this->lTraceLevel = lTraceLevel;
-  this->lTraceMask = lTraceMask;
-  this->lLevelAsMask = lLevelAsMask;
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  LevelNotify::LevelNotify(long lHandle, const aObject Topic, long lTopicState);
-
- COMMENTS:
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-
-LevelNotify::LevelNotify(long lHandle, const aObject Topic, long lTopicState)
-{
-  this->lType = TT_CMDTOPICSTATE01;
-  this->Topic = Topic;
-  this->lTopicState = lTopicState;
-  this->lHandle = lHandle;
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  LevelNotify::LevelNotify(long lHandle)
-
- COMMENTS:
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-
-LevelNotify::LevelNotify(long lHandle)
-{
-  this->lType = TT_CMDSTOP01;
-  this->lHandle = lHandle;
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  LevelNotify:: LevelNotify();
-
- COMMENTS:
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-
-LevelNotify:: LevelNotify()
-{
-  this->lType = TT_CMDSTOP01;
-  this->lHandle = 0;
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  ReadLoop::ReadLoop()
-
- COMMENTS:  initialize the ReadLoop
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-
-ReadLoop::ReadLoop()
-{
-  iEnd = 0;
-  iRunning = 0;
-  Stopped.post();
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void ReadLoop::function()
-
- COMMENTS:  main function for ReadLoop, runs in an extra ReadThread
-            waits for client input
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-
-void ReadLoop::function()
-{
-  Stopped.reset();
-  // 18.10.2001 2.2.4 ts use high priority for reading thread, to avoid loss of traces in a busy system
-  SetThreadPriority(GetCurrentThread(), THREAD_PRIORITY_HIGHEST);
-  iRunning = 1;
-  while (!iEnd)
-  {
-    Owner->Read();
-  }
-  iRunning = 0;
-  Stopped.post();
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  ReadLoop::ReadLoop()
-
- COMMENTS:  initialize the ReadLoop
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-
-NotifyLoop::NotifyLoop()
-{
-  iEnd = 0;
-  iRunning = 0;
-  Stopped.post();
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void NotifyLoop::function()
-
- COMMENTS:  main function for ReadLoop, runs in an extra ReadThread
-            waits for client input
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-
-void NotifyLoop::function()
-{
-  Stopped.reset();
-  iRunning = 1;
-  while (!iEnd)
-  {
-    Owner->Notify();
-  }
-  iRunning = 0;
-  Stopped.post();
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void TraceService::Read()
-
- COMMENTS:  read the client input
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-void TraceService::Read()
-{
-  ApplicationData* pApplication;
-  aObject ModuleName;
-  long lInstance;
-
-  aMap Data;
-  long ClientApp, lType;
-  long rc;
-  long rcError;
-  if (!iEnd)
-  {
-    rc = ReadTrace(lServerHandle, &ClientApp, &lType, Data, rcError);
-    trcstream(BasicRuntime, HERE, &StdApplication) << "Client: " << ClientApp << " has send message type: (" << getTypeName(lType) << ")";
-  }
-  if (rc == CXRC_OK && !iEnd)
-  {
-    switch (lType)
-    {
-      case TT_CMDSTOP01:
-        getApplication(&pApplication, &lInstance, ModuleName, ClientApp);
-        pApplication->writeTrace(MajorError, HERE , "--- Trace Stop ---", ModuleName.strObject(), TRACESERVICENAME, lInstance);
-        Data.set(DN_SMODULE, ModuleName);
-        Data.set(DN_LINSTANCE, lInstance);
-        deleteInstance(ClientApp);
-        forward(lType, Data);
-        break;
-      case TT_TEXT01:
-        getApplication(&pApplication, &lInstance, ModuleName, ClientApp);
-        Data.set(DN_SMODULE, ModuleName);
-        Data.set(DN_LINSTANCE, lInstance);
-        pApplication->Text01(ClientApp, lInstance, Data);
-        forward(lType, Data);
-        break;
-      case TT_DUMP01:
-        getApplication(&pApplication, &lInstance, ModuleName, ClientApp);
-        Data.set(DN_SMODULE, ModuleName);
-        Data.set(DN_LINSTANCE, lInstance);
-        pApplication->Dump01(ClientApp, lInstance, Data);
-        forward(lType, Data);
-        break;
-      case TT_CMDNEWFILE01:
-        restartFiles01(ClientApp, Data);
-        break;
-      case TT_TEXT02:
-        getApplication(&pApplication, &lInstance, ModuleName, ClientApp);
-        Data.set(DN_SMODULE, ModuleName);
-        Data.set(DN_LINSTANCE, lInstance);
-        pApplication->Text02(ClientApp, lInstance, Data);
-        forward(lType, Data);
-        break;
-      case TT_DUMP02:
-        getApplication(&pApplication, &lInstance, ModuleName, ClientApp);
-        Data.set(DN_SMODULE, ModuleName);
-        Data.set(DN_LINSTANCE, lInstance);
-        pApplication->Dump02(ClientApp, lInstance, Data);
-        forward(lType, Data);
-        break;
-      case TT_CMDNEWFILE02:
-        restartFiles02(ClientApp, Data);
-        break;
-      case TT_CMDINIT01:
-        lInstance= Init01(ClientApp, Data);
-        Data.set(DN_LINSTANCE, lInstance);
-        forward(lType, Data);
-        break;
-      case TT_CMDINIT02:
-        lInstance= Init02(ClientApp, Data);
-        Data.set(DN_LINSTANCE, lInstance);
-        forward(lType, Data);
-        break;
-      case TT_CMDSHUTDOWN01:
-        stop();
-        break;
-      case TT_CMDINITLISTEN01:
-        InitListen01(ClientApp, Data);
-        break;
-      case TT_CMDINIT03:
-// 22.10.2001 2.2.5 ts added openTraceSLT/Init03 for short life time processes => server sends no message to client
-        lInstance= Init03(ClientApp, Data);
-        Data.set(DN_LINSTANCE, lInstance);
-        forward(lType, Data);
-        break;
-      case TT_CRYPT01:
-#ifdef NON_CRYPTING_TRCSERV
-        getApplication(&pApplication, &lInstance, ModuleName, ClientApp);
-        Data.set(DN_SMODULE, ModuleName);
-        Data.set(DN_LINSTANCE, lInstance);
-        pApplication->Dump01(ClientApp, lInstance, Data);
-        forward(lType, Data);
-#else
-#ifdef CRYPTING_TRCSERV
-        if(cfgEncryption.currentValue().getID() > 0)
-        {
-          getApplication(&pApplication, &lInstance, ModuleName, ClientApp);
-          Data.set(DN_SMODULE, ModuleName);
-          Data.set(DN_LINSTANCE, lInstance);
-          pApplication->Crypt01(ClientApp, lInstance, Data, cryptApplication, cfgEncryption.currentValue().getID());
-          forward(lType, Data);
-        }
-#endif
-#endif
-        break;
-      case TT_CRYPT02:
-#ifdef NON_CRYPTING_TRCSERV
-        getApplication(&pApplication, &lInstance, ModuleName, ClientApp);
-        Data.set(DN_SMODULE, ModuleName);
-        Data.set(DN_LINSTANCE, lInstance);
-        pApplication->Dump02(ClientApp, lInstance, Data);
-        forward(lType, Data);
-#else
-#ifdef CRYPTING_TRCSERV
-        if(cfgEncryption.currentValue().getID() > 0)
-        {
-          getApplication(&pApplication, &lInstance, ModuleName, ClientApp);
-          Data.set(DN_SMODULE, ModuleName);
-          Data.set(DN_LINSTANCE, lInstance);
-          pApplication->Crypt02(ClientApp, lInstance, Data, cryptApplication, cfgEncryption.currentValue().getID());
-          forward(lType, Data);
-        }
-#endif
-#endif
-        break;
-      case TT_CMDMOVE01:
-        getApplication(&pApplication, &lInstance, ModuleName, ClientApp);
-        Data.set(DN_SMODULE, ModuleName);
-        Data.set(DN_LINSTANCE, lInstance);
-        pApplication->MoveFile01(ClientApp, lInstance, Data, cfgTraceDir.currentValue());
-        forward(lType, Data);
-        break;
-      case TT_TRACK01:
-        getApplication(&pApplication, &lInstance, ModuleName, ClientApp);
-        Data.set(DN_SMODULE, ModuleName);
-        Data.set(DN_LINSTANCE, lInstance);
-        pApplication->Track01(ClientApp, lInstance, Data);
-        forward(lType, Data);
-        break;
-      case TT_TRACK02:
-        getApplication(&pApplication, &lInstance, ModuleName, ClientApp);
-        Data.set(DN_SMODULE, ModuleName);
-        Data.set(DN_LINSTANCE, lInstance);
-        pApplication->Track02(ClientApp, lInstance, Data);
-        forward(lType, Data);
-        break;
-      default:
-      {
-        getApplication(&pApplication, &lInstance, ModuleName, ClientApp);
-        trcstream(BasicRuntime, HERE, &StdApplication) << pApplication->getName().strObject()
-          << "|" << ModuleName.strObject()
-          << "(" << lInstance << ") has send message type: " << lType;
-        char buf[1000];
-        sprintf(buf, "--- Trace Error: Message Type (%d, %s) ---", lType, getTypeName(lType));
-        pApplication->writeTrace(MajorError, HERE , buf, ModuleName.strObject(), pApplication->getName().strObject(), lInstance);
-        break;
-      }
-    }
-  }
-  else if (!iEnd)
-  {
-    Sleep(100);
-    // 04.02.2002 get Application Name
-    getApplication(&pApplication, &lInstance, ModuleName, ClientApp);
-    trcstream(MinorError, HERE, &StdApplication) << "Error while reading: Return Code: "
-      << getErrorName(rc) << "(" << rcError << "); " << "Client: " << ClientApp << "("
-      << (pApplication->getName().strObject()?pApplication->getName().strObject():"(null)") << ", "
-      << (ModuleName.strObject()?ModuleName.strObject():"(null)") << ", "
-      << lInstance << ")" << " has send message type: " << getTypeName(lType);
-    char buf[1000];
-    sprintf(buf, "--- Trace Error: (%d, %s), Message Type (%d, %s) ---", rc, getErrorName(rc), lType, getTypeName(lType));
-    pApplication->writeTrace(MajorError, HERE , buf, ModuleName.strObject(), pApplication->getName().strObject(), lInstance);
-  }
-
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void TraceService::deleteInstance(long ClientHandle)
-
- COMMENTS:  remove Clienthandle for datalists
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-void TraceService::deleteInstance(long ClientHandle)
-{
-  ApplicationData *pApplication;
-  InstanceData *pInstance;
-
-  requestFileAccess();
-  if (Instances.get(ClientHandle).getTag() == OBJ_NUM)
-  {
-    pInstance = (InstanceData*) Instances.get(ClientHandle).numObject();
-    Instances.set(ClientHandle, (char*)0);
-    pApplication = pInstance -> pApplication;
-    if (pApplication)
-    {
-      pApplication->InstanceHandles.set(pInstance->lInstance, (char*)0);
-      deleteApplication(pApplication);
-    }
-    delete pInstance;
-  }
-  releaseFileAccess();
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void TraceService::deleteApplication(ApplicationData *pApplication);
-
- COMMENTS:  remove ApplicationData form Applications list, and free memory
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-void TraceService::deleteApplication(ApplicationData *pApplication)
-{
-  if (pApplication)
-  {
-    if (pApplication->InstanceHandles.count() == 0)
-    {
-      requestFileAccess();
-      Applications.set(pApplication->getName(), (char*)0);    // Clear ApplicationData from map
-      releaseFileAccess();
-      requestFileAccess();
-      deleteTraceFile(pApplication->getTraceFile());
-      releaseFileAccess();
-      delete pApplication;
-    }
-    else
-    {
-      BasicTraceFile *pTraceFile;
-      requestFileAccess();
-      pTraceFile= pApplication->getTraceFile();
-      if (pTraceFile)
-        pTraceFile->flush();
-      releaseFileAccess();
-    }
-  }
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void TraceService::deleteTraceFile(BasicTraceFile *pTraceFile)
-
- COMMENTS:  remove TraceFile from File list, and free memory
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-void TraceService::deleteTraceFile(BasicTraceFile *pTraceFile)
-{
-  requestFileAccess();
-  if (pTraceFile)
-  {
-    pTraceFile->flush();
-    pTraceFile->lTag--;
-    if(pTraceFile->lTag == 0)
-    {
-      Files.set(pTraceFile->getFileName(), (char*)0);
-      delete pTraceFile;
-    }
-  }
-  releaseFileAccess();
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void TraceService::getApplication(ApplicationData** ppApplication, long* plInstance, aObject& ModuleName, long ClientHandle)
-
- COMMENTS:  get the Instance and the ApplicationData for the ClientHandle
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-void TraceService::getApplication(ApplicationData** ppApplication, long* plInstance, aObject& ModuleName, long ClientHandle)
-{
-  InstanceData* pInstance;
-
-  requestFileAccess();
-  if (Instances.get(ClientHandle).getTag() == OBJ_NUM)
-  {
-    pInstance = (InstanceData*) Instances.get(ClientHandle).numObject();
-    *plInstance = pInstance->lInstance;
-    *ppApplication = pInstance->pApplication;
-    ModuleName = pInstance->ModuleName;
-  }
-  else
-  {
-    *plInstance = ClientHandle;
-    *ppApplication = &StdApplication;
-    ModuleName = UNDEFINED;
-  }
-  releaseFileAccess();
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void TraceService::getServerHandle(long ClientHandle)
-
- COMMENTS:  get the ServerHandle for the ClientHandle
-            return 0 if not found
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-
-long TraceService::getServerHandle(long ClientHandle)
-{
-  InstanceData* pInstance;
-  long result;
-
-  requestFileAccess();
-  if (Instances.get(ClientHandle).getTag() == OBJ_NUM)
-  {
-    pInstance = (InstanceData*) Instances.get(ClientHandle).numObject();
-    if (pInstance)
-      result = pInstance ->lServerHandle;
-    else
-      result = 0;
-  }
-  else
-  {
-    result = 0;
-  }
-  releaseFileAccess();
-  return result;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void TraceService::restartFiles01(long lClientHandle, const aMap& Data)
-
- COMMENTS:  restart all files
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-
-void TraceService::restartFiles01(long lClientHandle, const aMap& Data)
-{
-  aObject ModuleName;
-  const aObject* pItem;
-  BasicTraceFile *pTraceFile;
-  long lInstance;
-  ApplicationData *pApplication;
-  long lTraceLevel;
-
-  lTraceLevel = Data.get(DN_LTRACELEVEL).numObject();
-  getApplication(&pApplication, &lInstance, ModuleName, lClientHandle);
-
-  if (pApplication->acceptTraceLevel(lTraceLevel))
-  {
-    pItem = 0;
-    requestFileAccess();
-    while ((pItem = Files.getNextKey(pItem)) != 0)
-    {
-      if (Files.get(*pItem).getTag() == OBJ_NUM)
-      {
-        pTraceFile = (BasicTraceFile*) Files.get(*pItem).numObject();
-        if (pTraceFile)
-        {
-          trcstream(BasicRuntime, HERE, &StdApplication) << "Opening File: " << pTraceFile->getFileName();
-          if (!pTraceFile->openNewFile())
-            trcstream(MajorError, HERE, &StdApplication) << "Error while opening File: " << pTraceFile->getFileName();
-        }
-      }
-    }
-    releaseFileAccess();
-  }
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void TraceService::restartFiles02(long lClientHandle, const aMap& Data)
-
- COMMENTS:  restart all files
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-
-void TraceService::restartFiles02(long lClientHandle, const aMap& Data)
-{
-  aObject ModuleName;
-  const aObject* pItem;
-  BasicTraceFile *pTraceFile;
-  long lInstance;
-  ApplicationData *pApplication;
-  aObject TopicName;
-  long lTopicState;
-
-  TopicName = Data.get(DN_STOPIC);
-  getApplication(&pApplication, &lInstance, ModuleName, lClientHandle);
-  lTopicState = pApplication->getTopicState(TopicName);
-
-  if (lTopicState == TS_ACTIVE)
-  {
-    pItem = 0;
-    requestFileAccess();
-    while ((pItem = Files.getNextKey(pItem)) != 0)
-    {
-      if (Files.get(*pItem).getTag() == OBJ_NUM)
-      {
-        pTraceFile = (BasicTraceFile*) Files.get(*pItem).numObject();
-        if (pTraceFile)
-        {
-          trcstream(BasicRuntime, HERE, &StdApplication) << "Opening File: " << pTraceFile->getFileName();
-          if (!pTraceFile->openNewFile())
-            trcstream(MajorError, HERE, &StdApplication) << "Error while opening File: " << pTraceFile->getFileName();
-        }
-      }
-    }
-    releaseFileAccess();
-  }
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void TraceService::NotifyClient(long ClientHandle, long lTraceLevel, long lTraceMask, long lLevelAsMask)
-
- COMMENTS:  notify the client, TraceLevel has changed
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-void TraceService::NotifyClient(long ClientHandle, long lTraceLevel, long lTraceMask, long lLevelAsMask)
-{
-  long ServerHandle;
-
-  ServerHandle = getServerHandle(ClientHandle);
-  if (ServerHandle > 0)
-    while (!iEnd && NotifyQueue.write(LevelNotify(ServerHandle, lTraceLevel, lTraceMask, lLevelAsMask)) == FMTQ_FULL)
-    {
-      StdApplication.writeTrace(MajorError, HERE , "FMTQ_FULL", pszModule, TRACESERVICENAME, 0);
-      osSleep(100);
-    }
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void TraceService::NotifyClient(long ClientHandle, const aObject& Topic, long lTopicState);
-
- COMMENTS:  notify the client, TopicState has changed
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-void TraceService::NotifyClient(long ClientHandle, const aObject& Topic, long lTopicState)
-{
-  long ServerHandle;
-
-  ServerHandle = getServerHandle(ClientHandle);
-  if (ServerHandle > 0)
-    while (!iEnd && NotifyQueue.write(LevelNotify(ServerHandle, Topic, lTopicState)) == FMTQ_FULL)
-    {
-      StdApplication.writeTrace(MajorError, HERE , "FMTQ_FULL", pszModule, TRACESERVICENAME, 0);
-      osSleep(100);
-    }
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void TraceService::Notify()
-
- COMMENTS:  wait for Notify Messages and send them to the Client
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-void TraceService::Notify()
-{
-  LevelNotify Data;
-  long rc;
-  long lNotifyHandle;
-  if (!iEnd && NotifyQueue.read(Data) == FMTQ_OK)
-  {
-    if (!iEnd && Data.lHandle != 0)
-    {
-      lNotifyHandle= lServerHandle;
-      switch (Data.lType)
-      {
-        case TT_CMDPARAMETER01:
-          rc = writeCmdParameter01(lNotifyHandle, Data.lHandle, Data.lTraceLevel, Data.lTraceMask, Data.lLevelAsMask);
-          break;
-        case TT_CMDTOPICSTATE01:
-          rc = writeCmdTopicState01(lNotifyHandle, Data.lHandle, Data.Topic.strObject(), Data.lTopicState);
-          break;
-
-      }
-      if ( rc != CXRC_OK)
-      {
-        switch (Data.lType)
-        {
-          case TT_CMDPARAMETER01:
-            trcstream(MinorError, HERE, &StdApplication) << "Error while writing Parameter to Client: " << getErrorName(rc);
-            break;
-          case TT_CMDTOPICSTATE01:
-            trcstream(MinorError, HERE, &StdApplication) << "Error while writing Topic State to Client: " << getErrorName(rc);
-            break;
-
-        }
-      }
-      #ifdef WAITBEFORECXDELETE
-      else
-      {
-        osSleep(1000);
-      }
-      #endif
-    }
-    else if (iEnd && Data.lHandle == lServerHandle && Data.lType == TT_CMDSTOP01)
-    {
-      // std::cout << "wait - terminating" << std::endl;
-    }
-  }
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  TraceService::forward(long lType, const aMap& Data)
-
- COMMENTS:  forward messages to listener
-
- DATE:      05.02.2001
-
- AUTHOR:    MATERNA Information & Communications  (TS)
-
----------------------------------------------------------------------------*/
-void TraceService::forward(long lType, const aMap& Data)
-{
-  const aObject *pItem;
-  long rc;
-  aMap Forward;
-  Forward= Data;
-  Forward.set(DN_LTYPE, lType);
-  requestFileAccess();
-  aMap Delete;
-  pItem= 0;
-  while((pItem= Listener.getNextKey(pItem)) != 0)
-  {
-    rc= writeCmdData01(lServerHandle, pItem->numObject(), Forward);
-    switch (rc)
-    {
-      case CXRC_ERROR:
-      case CXRC_WRONG_PARAMETER:
-      case CXRC_NOT_FOUND:
-      case CXRC_PARTNER_LOST:
-      case CXRC_CANCELLED:
-      case CXRC_WRONG_PARTNER:
-      case CXRC_WRONG_HANDLE:
-        Delete.set(*pItem, 1);
-        trcstream(BasicRuntime, HERE, &StdApplication) << "Listener Lost (Id: " << pItem->numObject() << ") ";
-
-    }
-  }
-  pItem= 0;
-  while((pItem= Delete.getNextKey(pItem)) != 0)
-  {
-    Listener.set(*pItem, (char*) 0);
-  }
-  releaseFileAccess();
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void TraceService::InitListen01(long ClientHandle, const aMap& Data)
-
- COMMENTS:  connect to listener
-
- DATE:      05.02.2001
-
- AUTHOR:    MATERNA Information & Communications  (TS)
-
----------------------------------------------------------------------------*/
-void TraceService::InitListen01(long ClientHandle, const aMap& Data)
-{
-  requestFileAccess();
-  Listener.set(ClientHandle, 1);
-  releaseFileAccess();
-  trcstream(BasicRuntime, HERE, &StdApplication) << "New Listener (Id: " << ClientHandle << ") ";
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long TraceService::Init01(long ClientHandle, const aMap& Data)
-
- COMMENTS:  connect to client
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-long TraceService::Init01(long ClientHandle, const aMap& Data)
-{
-  aObject ApplicationName;
-  aObject InstanceName;
-  long lInstance;
-  long ServerHandle, Handle;
-  // long rc;
-  ApplicationData *pApplicationData;
-  InstanceData *pInstance;
-
-  ApplicationName = Data.get(DN_SAPPLICATION);
-  lInstance = Data.get(DN_LINSTANCE).numObject();
-
-
-  trcstream(BasicRuntime, HERE, &StdApplication) << "Client: " << ClientHandle << " Init: (" <<
-  (ApplicationName.strObject()?ApplicationName.strObject():"(null)") << ")";
-
-  /*
-  // tried to guarantee that the ClientHandle corresponds to the ApplicationName
-  // but cxGetHandle and the handle of cxRead may be different
-  ClientName(InstanceName, lInstance, ApplicationName);
-  std::cout << "-> cxGetHandle (Name=" << non_null(InstanceName.strObject()) << ")" << std::endl;
-  rc = cxGetHandle(&Handle, InstanceName.strObject());
-  std::cout << "<- cxGetHandle (Handle=" << Handle << ")=" << getErrorName(rc) << std::endl;
-  */
-
-  // if (rc == CXRC_OK) // && Handle == ClientHandle)
-  {
-    ServerName(InstanceName, lInstance, ApplicationName);
-    //trcstream(BasicRuntime, HERE, &StdApplication) << "-> cxGetHandle (Name=" << InstanceName.strObject() << ")";
-    //rc = cxGetHandle(&ServerHandle, InstanceName.strObject());
-    //trcstream(BasicRuntime, HERE, &StdApplication) << "<- cxGetHandle (Handle=" << ServerHandle << ")=" << getErrorName(rc);
-    //if (rc != CXRC_OK)
-    //  ServerHandle = 0;
-    ServerHandle= ClientHandle;
-
-    // if (rc == CXRC_OK)
-    {
-      deleteInstance(ClientHandle);
-
-      requestFileAccess();
-      if (Applications.get(ApplicationName).getTag() != OBJ_NUM)
-      {
-        #ifndef __IBMCPP__
-        try
-        {
-        #endif
-          pApplicationData = new ApplicationData(ApplicationName, this);
-          Applications.set(ApplicationName, (long) pApplicationData);
-        #ifndef __IBMCPP__
-        }
-        catch(std::exception& ex)
-        {
-          pApplicationData= 0;
-          //mDaemon_log(ex.what());
-          std::cout << ex.what() << std::endl;
-        }
-        #endif
-      }
-      else
-      {
-        pApplicationData = (ApplicationData*) Applications.get(ApplicationName).numObject();
-        if (pApplicationData->InstanceHandles.get(lInstance).getTag() == OBJ_NUM)
-        {
-          Handle = pApplicationData->InstanceHandles.get(lInstance).numObject();
-          if (Instances.get(Handle).getTag() == OBJ_NUM)
-          {
-            pInstance = (InstanceData*)Instances.get(Handle).numObject();
-            Instances.set(Handle, (char*) 0);
-            pApplicationData->InstanceHandles.set(lInstance, (char*)0);
-            if (pInstance)
-              delete pInstance;
-            if (pApplicationData->InstanceHandles.count() == 0)
-            {
-              requestFileAccess();
-              if (pApplicationData->getTraceFile())
-                pApplicationData->getTraceFile()->openFile();
-              releaseFileAccess();
-            }
-          }
-        }
-      }
-      if (pApplicationData)
-      {
-        pInstance = new InstanceData(ClientHandle, ServerHandle, lInstance, pApplicationData);
-        pApplicationData->InstanceHandles.set(lInstance, ClientHandle);
-        Instances.set(ClientHandle, (long) pInstance);
-        pApplicationData->writeTrace(MajorError, HERE , "--- Trace Init01 ---", ApplicationName.strObject(), ApplicationName.strObject(), lInstance);
-        releaseFileAccess();
-
-        long lTraceLevel= pApplicationData->getTraceLevel();
-        long lTraceMask= pApplicationData->getTraceMask();
-        long lLevelAsMask= pApplicationData->getLevelAsMask();
-        NotifyClient(ClientHandle, lTraceLevel, lTraceMask, lLevelAsMask);
-      }
-      else
-      {
-        releaseFileAccess();
-      }
-    }
-  }
-  return lInstance;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long TraceService::Init02(long ClientHandle, const aMap& Data)
-
- COMMENTS:  connect to client
-
- DATE:      09.10.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-long TraceService::Init02(long ClientHandle, const aMap& Data)
-{
-  aObject ApplicationName;
-  aObject InstanceName;
-  aObject ModuleName;
-  long lInstance;
-  long ServerHandle, Handle;
-  // long rc;
-  ApplicationData *pApplicationData;
-  InstanceData *pInstance;
-
-  ApplicationName = Data.get(DN_SAPPLICATION);
-  ModuleName = Data.get(DN_SMODULE);
-  lInstance = Data.get(DN_LINSTANCE).numObject();
-
-  trcstream(BasicRuntime, HERE, &StdApplication) << "Client: " << ClientHandle << " Init: ("
-  << (ApplicationName.strObject()?ApplicationName.strObject():"(null)") << ", "
-  << (ModuleName.strObject()?ModuleName.strObject():"(null)") << ")";
-
-  /*
-  // tried to guarantee that the ClientHandle corresponds to the ApplicationName
-  // but cxGetHandle and the handle of cxRead may be different
-  ClientName(InstanceName, lInstance, ApplicationName);
-  std::cout << "-> cxGetHandle (Name=" << non_null(InstanceName.strObject()) << ")" << std::endl;
-  rc = cxGetHandle(&Handle, InstanceName.strObject());
-  std::cout << "<- cxGetHandle (Handle=" << Handle << ")=" << getErrorName(rc) << std::endl;
-  */
-
-  // if (rc == CXRC_OK) // && Handle == ClientHandle)
-  {
-    ServerName(InstanceName, lInstance, ApplicationName);
-    //trcstream(BasicRuntime, HERE, &StdApplication) << "-> cxGetHandle (Name=" << InstanceName.strObject() << ")";
-    //rc = cxGetHandle(&ServerHandle, InstanceName.strObject());
-    //trcstream(BasicRuntime, HERE, &StdApplication) << "<- cxGetHandle (Handle=" << ServerHandle << ")=" << getErrorName(rc);
-    //if (rc != CXRC_OK)
-    //  ServerHandle = 0;
-    ServerHandle= ClientHandle;
-
-    // if (rc == CXRC_OK)
-    {
-      deleteInstance(ClientHandle);
-
-      requestFileAccess();
-      if (Applications.get(ApplicationName).getTag() != OBJ_NUM)
-      {
-        #ifndef __IBMCPP__
-        try
-        {
-        #endif
-          pApplicationData = new ApplicationData(ApplicationName, this);
-          Applications.set(ApplicationName, (long) pApplicationData);
-        #ifndef __IBMCPP__
-        }
-        catch(std::exception& ex)
-        {
-          pApplicationData= 0;
-          //mDaemon_log(ex.what());
-          std::cout << ex.what() << std::endl;
-        }
-        #endif
-      }
-      else
-      {
-        pApplicationData = (ApplicationData*) Applications.get(ApplicationName).numObject();
-        if (pApplicationData->InstanceHandles.get(lInstance).getTag() == OBJ_NUM)
-        {
-          Handle = pApplicationData->InstanceHandles.get(lInstance).numObject();
-          if (Instances.get(Handle).getTag() == OBJ_NUM)
-          {
-            pInstance = (InstanceData*)Instances.get(Handle).numObject();
-            Instances.set(Handle, (char*) 0);
-            pApplicationData->InstanceHandles.set(lInstance, (char*)0);
-            if (pInstance)
-              delete pInstance;
-            if (pApplicationData->InstanceHandles.count() == 0)
-            {
-              requestFileAccess();
-              if (pApplicationData->getTraceFile())
-                pApplicationData->getTraceFile()->openFile();
-              releaseFileAccess();
-            }
-          }
-        }
-      }
-      if (pApplicationData)
-      {
-
-        pInstance = new InstanceData(ClientHandle, ServerHandle, lInstance, pApplicationData, ModuleName);
-        pApplicationData->InstanceHandles.set(lInstance, ClientHandle);
-        Instances.set(ClientHandle, (long) pInstance);
-        pApplicationData->writeTrace(MajorError, HERE , "--- Trace Init02 ---", ModuleName.strObject(), ApplicationName.strObject(), lInstance);
-        releaseFileAccess();
-
-        long lTraceLevel= pApplicationData->getTraceLevel();
-        long lTraceMask= pApplicationData->getTraceMask();
-        long lLevelAsMask= pApplicationData->getLevelAsMask();
-        NotifyClient(ClientHandle, lTraceLevel, lTraceMask, lLevelAsMask);
-      }
-      else
-      {
-        releaseFileAccess();
-      }
-    }
-  }
-  return lInstance;
-}
-
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  long TraceService::Init03(long ClientHandle, const aMap& Data)
-
- COMMENTS:  connect to client
-            short life time processes => server sends no message to client
-
- DATE:      22.10.2001
-
- AUTHOR:    MATERNA Information & Communications  (TS)
-
----------------------------------------------------------------------------*/
-long TraceService::Init03(long ClientHandle, const aMap& Data)
-{
-  aObject ApplicationName;
-  aObject InstanceName;
-  aObject ModuleName;
-  long lInstance;
-  long ServerHandle, Handle;
-  // long rc;
-  ApplicationData *pApplicationData;
-  InstanceData *pInstance;
-
-  ApplicationName = Data.get(DN_SAPPLICATION);
-  ModuleName = Data.get(DN_SMODULE);
-  lInstance = Data.get(DN_LINSTANCE).numObject();
-
-  ServerName(InstanceName, lInstance, ApplicationName);
-  ServerHandle= -1;  // do not send messages to client, that use Init03
-
-
-  deleteInstance(ClientHandle);
-
-  requestFileAccess();
-  if (Applications.get(ApplicationName).getTag() != OBJ_NUM)
-  {
-    #ifndef __IBMCPP__
-    try
-    {
-    #endif
-      pApplicationData = new ApplicationData(ApplicationName, this);
-      Applications.set(ApplicationName, (long) pApplicationData);
-    #ifndef __IBMCPP__
-    }
-    catch(std::exception& ex)
-    {
-      pApplicationData= 0;
-      //mDaemon_log(ex.what());
-      std::cout << ex.what() << std::endl;
-    }
-    #endif
-  }
-  else
-  {
-    pApplicationData = (ApplicationData*) Applications.get(ApplicationName).numObject();
-    if (pApplicationData->InstanceHandles.get(lInstance).getTag() == OBJ_NUM)
-    {
-      Handle = pApplicationData->InstanceHandles.get(lInstance).numObject();
-      if (Instances.get(Handle).getTag() == OBJ_NUM)
-      {
-        pInstance = (InstanceData*)Instances.get(Handle).numObject();
-        Instances.set(Handle, (char*) 0);
-        pApplicationData->InstanceHandles.set(lInstance, (char*)0);
-        if (pInstance)
-          delete pInstance;
-        if (pApplicationData->InstanceHandles.count() == 0)
-        {
-          requestFileAccess();
-          if (pApplicationData->getTraceFile())
-            pApplicationData->getTraceFile()->openFile();
-          releaseFileAccess();
-        }
-      }
-    }
-  }
-  if (pApplicationData)
-  {
-
-    pInstance = new InstanceData(ClientHandle, ServerHandle, lInstance, pApplicationData, ModuleName);
-    pApplicationData->InstanceHandles.set(lInstance, ClientHandle);
-    Instances.set(ClientHandle, (long) pInstance);
-    pApplicationData->writeTrace(MajorError, HERE , "--- Trace Init03 ---", ModuleName.strObject(), ApplicationName.strObject(), lInstance);
-    releaseFileAccess();
-
-    long lTraceLevel= pApplicationData->getTraceLevel();
-    long lTraceMask= pApplicationData->getTraceMask();
-    long lLevelAsMask= pApplicationData->getLevelAsMask();
-    NotifyClient(ClientHandle, lTraceLevel, lTraceMask, lLevelAsMask);
-  }
-  else
-  {
-    releaseFileAccess();
-  }
-
-
-  return lInstance;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  TraceService::TraceService()
-
- COMMENTS:  initialize the traceservice,
-            read parameter for Standardapplication
-            start cx communication
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-TraceService::TraceService(int reconnect):
-  cfgTraceDir(TRACESERVICENAME, this),
-#ifdef CRYPTING_TRCSERV
-  cfgEncryption(TRACESERVICENAME, this),
-  cryptApplication(CRYPTSERVICENAME, this, CRYPTFILENAME),
-#endif
-  StdApplication(TRACESERVICENAME, this),
-  NotifyQueue(32)
-{
-  long rc;
-  iEnd = 0;
-  iServerHandle = 0;
-#ifdef CRYPTING_TRCSERV
-  cryptApplication.getTraceFile()->storePlace(0);
-#endif
-  trcstream(BasicRuntime, HERE, &StdApplication) << "-> cxCreateHandle (Name=" << TRACESERVICENAME << ")";
-  rc = cxCreateHandle(&lServerHandle, TRACESERVICENAME);
-  trcstream(BasicRuntime, HERE, &StdApplication) << "<- cxCreateHandle (Handle=" << lServerHandle << ")=" << getErrorName(rc);
-  if (rc == CXRC_OK || (rc == CXRC_NAME_ALREADY_EXISTS && reconnect))
-    iServerHandle = 1;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  TraceService::~TraceService()
-
- COMMENTS:  Close the traceservice
-            stop the extra ReadThread
-            close the cx communication
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-TraceService::~TraceService()
-{
-  long rc;
-  const aObject* pItem;
-  BasicTraceFile *pTraceFile;
-  ApplicationData *pApplicationData;
-  InstanceData *pInstance;
-
-  ReadThread.iEnd = 1;
-  NotifyThread.iEnd = 1;
-  iEnd = 1;
-
-  std::cout << "wait - terminating" << std::endl;
-
-  if (NotifyThread.iRunning)
-    NotifyQueue.write(LevelNotify(lServerHandle));
-  if (iServerHandle)
-  {
-    trcstream(BasicRuntime, HERE, &StdApplication) << "-> cxDeleteHandle (Handle=" << lServerHandle << ")";
-    rc = cxDeleteHandle(lServerHandle);
-    trcstream(BasicRuntime, HERE, &StdApplication) << "<- cxDeleteHandle ()="  << getErrorName(rc);
-  }
-  NotifyThread.Stopped.wait(1000);
-  if (NotifyThread.iRunning)
-    NotifyThread.stop();
-  ReadThread.Stopped.wait(1000);
-  if (ReadThread.iRunning)
-    ReadThread.stop();
-  trcstream(BasicRuntime, HERE, &StdApplication) << "Closing Instances";
-  // free all data in stored in aMaps
-  pItem = 0;
-  requestFileAccess();
-  while ((pItem = Instances.getNextKey(pItem)) != 0)
-  {
-    if (Instances.get(*pItem).getTag() == OBJ_NUM)
-    {
-      pInstance = (InstanceData*) Instances.get(*pItem).numObject();
-      if (pInstance)
-        delete pInstance;
-    }
-  }
-
-  requestFileAccess();
-  trcstream(BasicRuntime, HERE, &StdApplication) << "Closing Files";
-  pItem = 0;
-  while ((pItem = Files.getNextKey(pItem)) != 0)
-  {
-    if (Files.get(*pItem).getTag() == OBJ_NUM)
-    {
-      pTraceFile = (BasicTraceFile*) Files.get(*pItem).numObject();
-      if (pTraceFile)
-        delete pTraceFile;
-    }
-  }
-  releaseFileAccess();
-
-  //trcstream(BasicRuntime, HERE, &StdApplication) << "Closing Applications";
-  pItem = 0;
-  while ((pItem = Applications.getNextKey(pItem)) != 0)
-  {
-    if (Applications.get(*pItem).getTag() == OBJ_NUM)
-    {
-      pApplicationData = (ApplicationData*) Applications.get(*pItem).numObject();
-      if (pApplicationData)
-        delete pApplicationData;
-    }
-  }
-  releaseFileAccess();
-
-
-  std::cout << "Traceservice terminated" << std::endl;
-
-}
-
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void TraceService::stopInstance(long lHandle)
-
- COMMENTS:  check if Traceservice is correctly initialized
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-void TraceService::stopInstance(long lHandle)
-{
-  long lNotifyHandle, rc;
-  lNotifyHandle= lServerHandle;
-  if ((rc = writeCmdStop01(lNotifyHandle, lHandle)) != CXRC_OK)
-    trcstream(BasicRuntime, HERE, &StdApplication) << "Error while writing Stop to Client: (" << getErrorName(rc) << ")";
-  #ifdef WAITBEFORECXDELETE
-  else
-    osSleep(1000);
-  #endif
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  int TraceService::readyToStart()
-
- COMMENTS:  check if Traceservice is correctly initialized
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-int TraceService::readyToStart()
-{
-  int result;
-  result = iServerHandle;
-  return result;
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void TraceService::start()
-
- COMMENTS:  start the extra ReadThread
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-void TraceService::start()
-{
-  ReadThread.Owner = this;
-  NotifyThread.Owner = this;
-  Done.reset();
-  if (iServerHandle)
-  {
-    NotifyThread.start();
-    ReadThread.start();
-  }
-  std::cout << "Traceservice started" << std::endl;
-  // std::cout << "Encryption: " << cfgEncryption.currentValue().getID() << std::endl;
-  if( mDaemon_indReady( 0 ) )
-      return;
-  Done.wait();
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void TraceService::stop()
-
- COMMENTS:  let start return
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-void TraceService::stop()
-{
-  trcstream(BasicRuntime, HERE, &StdApplication) << "TraceService::stop";
-  Done.post();
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  BasicTraceFile* TraceService::newTraceFile(const aObject& FileName, long lMaxFileSize, long lFileGenerations, long lAppend, long lWidth, long lExtended, long lType)
-
- COMMENTS:  let start return
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-BasicTraceFile* TraceService::newTraceFile(const aObject& FileName, long lMaxFileSize, long lFileGenerations, long lAppend, long lWidth, long lExtended, long lType, long lShortLine)
-{
-  BasicTraceFile *result;
-  const char *pszFileName;
-  result = 0;
-  //pszFileName = checkFileEnding(FileName.strObject());
-  pszFileName= (FileName.strObject());
-  if (pszFileName)
-  {
-    requestFileAccess();
-    if (Files.get(pszFileName).getTag() == OBJ_NUM)
-    {
-      result = (BasicTraceFile*)Files.get(pszFileName).numObject();
-      result->lTag++;
-      /*
-      result->setMaxFileSize(lMaxFileSize);
-      result->setFileGenerations(lFileGenerations);
-      result->setAppend(lAppend);
-      result->setExtended(lExtended);
-      result->setWidth(lWidth);
-      */
-    }
-    else
-    {
-      result = newBasicTraceFile(cfgTraceDir.currentValue(), pszFileName, lMaxFileSize, lFileGenerations, lAppend, lExtended, lWidth, lType, lShortLine);
-      if (!result->openFile())
-        trcstream(BasicRuntime, HERE, &StdApplication) << "Error while opening file: " << result->getFileName();
-
-      Files.set(pszFileName, (long) result);
-    }
-    //delete[] pszFileName;
-    releaseFileAccess();
-  }
-
-  return result;
-
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void TraceService::changeTraceDirectory(const char* pszDir)
-
- COMMENTS:  change the directory for all tracefiles
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-
-void TraceService::changeTraceDirectory(const char* pszDir)
-{
-  const aObject* pItem;
-  BasicTraceFile *pTraceFile;
-
-  pItem = 0;
-  requestFileAccess();
-  while ((pItem = Files.getNextKey(pItem)) != 0)
-  {
-    if (Files.get(*pItem).getTag() == OBJ_NUM)
-    {
-      pTraceFile = (BasicTraceFile*) Files.get(*pItem).numObject();
-      if (pTraceFile)
-        pTraceFile->setPath(pszDir);
-    }
-  }
-  releaseFileAccess();
-
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void TraceService::changeEncryption(long type)
-
- COMMENTS:  change the directory for all tracefiles
-
- DATE:      01.08.2007
-
- AUTHOR:    MATERNA Information & Communications (SteT)
-
----------------------------------------------------------------------------*/
-
-void TraceService::changeEncryption(long type)
-{
-  requestFileAccess();
-#ifdef CRYPTING_TRCSERV
-  cryptApplication.getTraceFile()->openNewFile();
-#endif
-  releaseFileAccess();
-}
-
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void exitHandler(int iSignal)
-
- COMMENTS:  stop the service when terminating
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-static void exitHandler(int iSignal)
-{
-  char szTmp[30];
-
-  switch(iSignal)
-  {
-     case SIGABRT:   strcpy(szTmp,"SIGABRT");  break;
-     case SIGBREAK:  strcpy(szTmp,"SIGBREAK"); break;
-     case SIGTERM:   strcpy(szTmp,"SIGTERM");  break;
-     case SIGINT:    strcpy(szTmp,"SIGINT");   break;
-
-     case SIGFPE:    strcpy(szTmp,"SIGFPE");   break;
-     case SIGSEGV:   strcpy(szTmp,"SIGSEGV");  break;
-     case SIGILL:    strcpy(szTmp,"SIGILL");   break;
-     default:
-     sprintf(szTmp, "Signal: %d", iSignal);
-
-  }
-  //mDaemon_log(szTmp);
-
-  //trcstream(BasicRuntime, HERE, &StdApplication) << "TERMINATION: " << szTmp;
-  if (!mDaemon_isService())
-    if (pService)
-      pService->stop();
-
-}
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void setExitHandler()
-
- COMMENTS:  call exitHandler when terminating
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-static void setExitHandler()
-{
-#ifdef __IBMCPP__
-   signal(SIGABRT,  (_SigFunc)exitHandler);
-   signal(SIGBREAK, (_SigFunc)exitHandler);
-   signal(SIGTERM,  (_SigFunc)exitHandler);
-   signal(SIGINT,   (_SigFunc)exitHandler);
-
-   signal(SIGSEGV,  (_SigFunc)exitHandler);
-   signal(SIGILL,   (_SigFunc)exitHandler);
-   signal(SIGFPE,   (_SigFunc)exitHandler);
-#else
-   signal(SIGABRT,  exitHandler);
-   signal(SIGBREAK, exitHandler);
-   signal(SIGTERM,  exitHandler);
-   signal(SIGINT,   exitHandler);
-
-   signal(SIGSEGV,  exitHandler);
-   signal(SIGILL,   exitHandler);
-   signal(SIGFPE,   exitHandler);
-#endif
-
-}
-
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  void resetExitHandler()
-
- COMMENTS:  reset exitHandler
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-static void resetExitHandler()
-{
-   signal(SIGABRT,  SIG_DFL);
-   signal(SIGBREAK, SIG_DFL);
-   signal(SIGTERM,  SIG_DFL);
-   signal(SIGINT,   SIG_DFL);
-
-   signal(SIGSEGV,  SIG_DFL);
-   signal(SIGILL,   SIG_DFL);
-   signal(SIGFPE,   SIG_DFL);
-
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  int debugOut()
-
- COMMENTS:  returns true if the file output should written to stdout to
-
- DATE:      10.11.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-int debugOut()
-{
-  return debug;
-}
-
-
-//---------------------------------------------------------------------------
-//
-//  function:   bool setWorkingDir()
-//
-//  purpose:    set working directory to the current executable's location
-//              return true if successful.
-//
-//  date:       14.08.2001, 09:33
-//
-//  author:     Materna Information & Communications (MaK)
-//
-//---------------------------------------------------------------------------
-
-long setWorkingDir()
-{
-long result;
-char szPath[512];
-
-  result= 0;
-  if(GetModuleFileName(0, szPath, sizeof(szPath)))
-  {
-    char* pTmp = strrchr(szPath, '\\');
-
-    if(pTmp)
-    {
-      *pTmp = 0;
-
-      if(SetCurrentDirectory(szPath))
-        result= 1;
-    }
-  }
-  return result;
-}
-
-/*---------------------------------------------------------------------------
-
- FUNCTION:  int mymain(int argc, char* argv[])
-
- COMMENTS:  main
-
- DATE:      20.09.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
----------------------------------------------------------------------------*/
-int mymain(int argc, char* argv[])
-{
-/* Applikation prft nicht mehr selbst ihren Namen
-   Die Crypting and NonCrypting Version knnen anhand der Datei-Eigenschaften unterschieden werden
-   siehe TrcServ_def.h und NonCryptingTrcServ_def.h
-#ifdef NON_CRYPTING_TRCSERV
-  char szPath[512];
-  if(GetModuleFileName( NULL, szPath, 512 ) == 0)
-  {
-    std::cout << "Cannot get ModuleFilename" << std::endl;
-    mDaemon_log("Cannot get ModuleFilename");
-    return 2;
-  }
-  if(strstr(szPath, NONCRYPTSERVICENAME) == 0)
-  {
-    std::cout << "Wrong Version: NonCryptingTrcServ" << std::endl;
-    std::cout << szPath << std::endl;
-    mDaemon_log("Wrong Version: NonCryptingTrcServ");
-    return 3;
-  }
-#endif
-*/
-
-  int result;
-  int i;
-  int reconnect;
-  pszModule= argv[0];
-  debug= 0;
-  reconnect= 0;
-  setWorkingDir();
-  for (i= 1; i < argc; i++)
-  {
-    if(stricmp(argv[i], "/d")==0)
-      debug= 1;
-    if(stricmp(argv[i], "-d")==0)
-      debug= 1;
-    if(stricmp(argv[i], "/f")==0)
-      reconnect= 1;
-    if(stricmp(argv[i], "-f")==0)
-      reconnect= 1;
-  }
-  result= 1;
-  #ifndef __IBMCPP__
-  try
-  {
-  #endif
-    pService= new TraceService(reconnect);
-  #ifndef __IBMCPP__
-  }
-  catch(std::exception& ex)
-  {
-    pService= 0;
-    //mDaemon_log(ex.what());
-    std::cout << ex.what() << std::endl;
-  }
-  #endif
-  if (pService)
-  {
-    if (pService->readyToStart())
-    {
-      result= 0;
-      setExitHandler();
-      pService->start();
-      resetExitHandler();
-    }
-    else
-    {
-      std::cout << "Traceservice already running" << std::endl;
-      //mDaemon_log( "Traceservice already running" );
-    }
-    delete pService;
-  }
-
-  return result;
-}
-/*
-  help for console
-*/
-char const * mDaemon_dependencies()
-{
-  return "massaiConfig\0\0";
-}
-char const * mDaemon_help()
-{
-  return "[-d][-f]\n -d for writes traces to console\n -f forces the services to start(even if already running)";
-}
-char const * mDaemon_name()
-{
-  return "MassaiTrace";
-}
-int mDaemon_main( int argc, char ** argv )
-{
-  if( mDaemon_indInitializing( 5000 ) )
-     return 1;
-  return mymain(argc,argv);
-}
-void mDaemon_stop( void )
-{
- if (pService)
-    pService->stop();
-}
-
-
-/*************************************************************************************************
-      End Of File  TraceService.cpp
-************************************************************************************************/
-
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/src/TrcShut.cpp b/SelfServiceCommon/Services/cpp/TrcServ/static/src/TrcShut.cpp
deleted file mode 100644
index 79459917..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/src/TrcShut.cpp
+++ /dev/null
@@ -1,110 +0,0 @@
-/****************************************************************************
-
- FILE:      TrcShut.cpp
-
- PURPOSE:   TraceService
-
- DATE:      10.11.1999
-
- AUTHOR:    Dr. Materna GmbH   (TS)
-
- HISTORY:   10.11.1999 1.0.0 ts inital coding
-            15.08.2001 2.1.0 ts do not use matBaseNt.lib
-
-
-****************************************************************************/
-
-
-/***************************************************************************
-
-  Includes
-
-***************************************************************************/
-
-
-#ifndef __IBMCPP__
-#include <iostream>
-#else
-#include <iostream.h>
-#define std
-#endif
-#include <string.h>
-
-#include "TrcPrtcl.h"
-#include "cxapi.h"
-#include "version.h"
-
-/***************************************************************************
-
- defines
-
-***************************************************************************/
-
-VERSION_ID_DT( 02, 01, 00 );
-
-#define SHUTCLIENT "TrcShutdown"
-
-#ifndef __IBMCPP__
-#define strcmpi _strcmpi
-#endif
-
-/***************************************************************************
-
-  Function Definition
-
-***************************************************************************/
-
-
-
-int main(int argc, char*argv[])
-{
-  long rc, rc2;
-  long lClientHandle, lServerHandle;
-  int iWait;
-  iWait= 0;
-  if (argc > 1)
-    if (strcmpi(argv[1], "/w") == 0)
-      iWait=1;
-
-  rc = cxCreateHandle(&lClientHandle, SHUTCLIENT);
-  if (rc != CXRC_OK)
-  {
-    std::cout << "Error while creating " << SHUTCLIENT << " handle:" << std::endl;
-    std::cout << cxErrorText(rc) << std::endl;
-    if (rc != CXRC_NAME_ALREADY_EXISTS)
-      return 1;
-  };
-  rc = cxGetHandle(&lServerHandle, TRACESERVICENAME);
-  if (rc != CXRC_OK)
-  {
-    std::cout << "Error while searching " << TRACESERVICENAME << " handle:" << std::endl;
-    std::cout << cxErrorText(rc) << std::endl;
-    rc2 = cxDeleteHandle(lClientHandle);
-    if (rc != CXRC_NOT_FOUND)
-      return 1;
-    else
-      return 0;
-  };
-
-  rc = writeCmdShutdown01(lClientHandle, lServerHandle);
-  if (rc != CXRC_OK)
-  {
-    std::cout << "Error while writing" << std::endl;
-    std::cout << getErrorName(rc);
-    rc2 = cxDeleteHandle(lClientHandle);
-    return 1;
-  };
-  rc = cxDeleteHandle(lClientHandle);
-  if (iWait)
-    while ((rc = cxGetHandle(&lServerHandle, TRACESERVICENAME)) == CXRC_OK)
-    {
-    };
-
-  return 0;
-};
-
-
-/*************************************************************************************************
-      End Of File  trcshut.cpp
-************************************************************************************************/
-
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/src/decrypt.cpp b/SelfServiceCommon/Services/cpp/TrcServ/static/src/decrypt.cpp
deleted file mode 100644
index 48365292..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/src/decrypt.cpp
+++ /dev/null
@@ -1,261 +0,0 @@
-#include <iostream>
-#include <string>
-#include "mcrypt.h"
-#include <ctype.h>
-
-bool isHex(char in)
-{
-  switch(in)
-  {
-    case '0':
-    case '1':
-    case '2':
-    case '3':
-    case '4':
-    case '5':
-    case '6':
-    case '7':
-    case '8':
-    case '9':
-    case 'A':
-    case 'B':
-    case 'C':
-    case 'D':
-    case 'E':
-    case 'F':
-    case 'a':
-    case 'b':
-    case 'c':
-    case 'd':
-    case 'e':
-    case 'f':
-      return true;
-  }
-  return false;
-}
-int fromHex(char in)
-{
-  switch(in)
-  {
-    case '0': return 0;
-    case '1': return 1;
-    case '2': return 2;
-    case '3': return 3;
-    case '4': return 4;
-    case '5': return 5;
-    case '6': return 6;
-    case '7': return 7;
-    case '8': return 8;
-    case '9': return 9;
-    case 'A': return 10;
-    case 'B': return 11;
-    case 'C': return 12;
-    case 'D': return 13;
-    case 'E': return 14;
-    case 'F': return 15;
-    case 'a': return 10;
-    case 'b': return 11;
-    case 'c': return 12;
-    case 'd': return 13;
-    case 'e': return 14;
-    case 'f': return 15;
-  }
-  return -1;
-}
-
-
-enum readstate
-{
-  rs_start,
-  rs_hex,
-  rs_hextext,
-  rs_text,
-  rs_stop,
-  rs_position
-};
-void readLine(std::istream& in, std::string& result, bool& isHexDump, bool& isEnd)
-{
-  int nibble_count= 0;
-  unsigned char out= 0;
-  isHexDump= true;
-  isEnd= false;
-
-  readstate state= rs_start;
-  int counter= 0;
-  while(!in.eof() && state != rs_stop)
-  {
-    int c_in= in.get();
-    switch(state)
-    {
-      case rs_start:
-      {
-        result+= static_cast<char>(c_in);
-        if(c_in == '[')
-        {
-          state= rs_position;
-        }
-        else
-        {
-          isHexDump= false;
-          state= rs_text;
-        }
-        break;
-      }
-      case rs_position:
-      {
-        result+= static_cast<char>(c_in);
-        if(c_in == ']')
-        {
-          state= rs_hex;
-          result= "";
-        }
-        else if(!isHex(c_in) && c_in != ',')
-        {
-          isHexDump= false;
-          state= rs_text;
-        }
-        break;
-      }
-      case rs_text:
-      {
-        result+= static_cast<char>(c_in);
-        if(c_in == '\n')
-          state= rs_stop;
-        break;
-      }
-      case rs_hextext:
-      {
-        if(c_in == '\n')
-          state= rs_stop;
-        break;
-      }
-      case rs_hex:
-      {
-        counter++;
-        if(counter > 50)
-        {
-          state= rs_hextext;
-        }
-        else if(isHex(c_in))
-        {
-          out<<= 4;
-          out+= fromHex(c_in);
-          nibble_count++;
-          if(nibble_count == 2)
-          {
-            result+= out;
-            out= 0;
-            nibble_count= 0;
-          }
-        }
-        else
-        {
-          if(nibble_count > 0)
-          {
-            result+= out;
-            out= 0;
-            nibble_count= 0;
-          }
-          if(isspace(c_in) || c_in == '-')
-          {}
-          else if(c_in == '\n')
-            state= rs_stop;
-          else
-            state= rs_hextext;
-        }
-        break;
-      }
-    }
-  }
-  if(isHexDump && nibble_count > 0)
-  {
-    result+= out;
-    out= 0;
-    nibble_count= 0;
-  }
-  isEnd= (state != rs_stop);
-}
-
-void hexdump(std::ostream out, const std::string text)
-{
-  int i;
-  int j;
-  char szBuffer[256];
-  long lDumpSize= text.size();
-
-  for(i = 0; i < lDumpSize; i += 16)
-  {
-    sprintf(szBuffer,"[%04x,%04d] ",i, i);
-    out << szBuffer;
-
-    for(j = 0; j < 16 && (i+j) < lDumpSize; j++)
-    {
-      if(j == 8)
-      {
-        sprintf(szBuffer,"- %02x ", *reinterpret_cast<const unsigned char*>(&(text[i+j])));
-        out << szBuffer;
-      }
-      else
-      {
-        sprintf(szBuffer,"%02x ", *reinterpret_cast<const unsigned char*>(&(text[i+j])));
-        out << szBuffer;
-      }
-    }
-
-    while(j < 16)
-    {
-      if(j == 8)
-        out << "     ";
-      else
-        out << "   ";
-      j++;
-    }
-
-    for(j = 0; j < 16 && (i+j) < lDumpSize; j++)
-      out << (isprint(text[i+j]) ? text[i+j]: '.');
-
-    out << std::endl;
-  }
-}
-void dump(const std::string& text)
-{
-  if(text.size() != 0)
-  {
-    mcrypt crypt;
-    crypt.setPwd("?$%/Ka98=)/E?=K)98d/SD%)=(&/)&%!'**");
-    std::string result;
-    crypt.decrypt(result, const_cast<BYTE*>(reinterpret_cast<const BYTE*>(text.c_str())), text.size());
-    bool printable= true;
-    for(int i= 0; i < result.size() && printable; i++)
-      if(!isprint(result[i]))
-        printable= false;
-    if(printable)
-      std::cout << result << std::endl;
-    else
-      hexdump(std::cout, result);
-  }
-}
-
-int main(int argc, char** argv)
-{
-  bool isEnd= false;
-  std::string hex;
-  while(!isEnd)
-  {
-    bool isHexDump;
-    std::string fromDump;
-    readLine(std::cin, fromDump, isHexDump, isEnd);
-    if(isHexDump)
-    {
-      hex+= fromDump;
-    }
-    else
-    {
-      dump(hex);
-      hex= "";
-      std::cout << fromDump;
-    }
-  }
-  dump(hex);
-  return 0;
-}
\ No newline at end of file
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/src/matDaemonW32.cpp b/SelfServiceCommon/Services/cpp/TrcServ/static/src/matDaemonW32.cpp
deleted file mode 100644
index 31f712c0..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/src/matDaemonW32.cpp
+++ /dev/null
@@ -1,580 +0,0 @@
-/**
- **************************************************************************
- *
- * @file mDaemonW32.cpp
- *
- * Windows-32 implementation for functions of mDaemon.h.
- *
- * @author JK
- *
- * Copyright (c) 2001 MATERNA Information & Communications
- *
- **************************************************************************
-**/
-
-
-#include "matDaemon.h"
-#include <fstream>
-using namespace std;
-#include "argScan.hpp"
-#include <iostream>
-#include <windows.h>
-
-
-
-namespace
-{
-   /**
-    ***********************************************************************
-    *
-    * Module-private part
-    *
-    ***********************************************************************
-   **/
-
-
-
-   /**
-    *
-    * Use the service name for display name as well.
-    *
-   **/
-   char const * mDaemon_getDisplayname()
-   {
-      return mDaemon_name();
-   }
-
-
-
-   /**
-    *
-    * Are we a console application?
-    *
-   **/
-   bool                    Console = false;
-
-
-
-   /**
-    *
-    * Current state of the service.
-    *
-   **/
-   SERVICE_STATUS          SState;
-
-
-
-   /**
-    *
-    * Handle to the current service state.
-    *
-   **/
-   SERVICE_STATUS_HANDLE   SStateHdl;
-
-
-
-   /**
-    *
-    * Module-private function.
-    *
-   **/
-   int indToSCM
-   (
-      DWORD dwCurrentState,
-      DWORD dwWin32ExitCode,
-      DWORD dwWaitHint
-   )
-   {
-      static DWORD dwCheckPoint = 1;
-      if( !Console )
-      {
-         if( dwCurrentState == SERVICE_START_PENDING )
-             SState.dwControlsAccepted = SERVICE_ACCEPT_SHUTDOWN;
-         else
-             SState.dwControlsAccepted = SERVICE_ACCEPT_STOP | SERVICE_ACCEPT_SHUTDOWN;
-
-         SState.dwCurrentState = dwCurrentState;
-         SState.dwWin32ExitCode = dwWin32ExitCode;
-         SState.dwWaitHint = dwWaitHint;
-
-         if
-         (
-            ( dwCurrentState == SERVICE_RUNNING ) ||
-            ( dwCurrentState == SERVICE_STOPPED )
-         )
-            SState.dwCheckPoint = 0;
-         else
-            SState.dwCheckPoint = dwCheckPoint++;
-
-         //
-         // Report the status of the service to the service control manager.
-         //
-         if( SetServiceStatus( SStateHdl, &SState ) )
-            return 0;
-         else
-         {
-            mDaemon_log( "SetServiceStatus" );
-            return 1;
-         }
-      }
-      else
-         return 0;
-   }
-
-
-
-   /**
-    *
-    * Module-private function.
-    *
-   **/
-   BOOL WINAPI console_ctrl ( DWORD Type )
-   {
-      switch( Type )
-      {
-      case CTRL_BREAK_EVENT:  // use Ctrl+C or Ctrl+Break to simulate
-      case CTRL_C_EVENT:      // SERVICE_CONTROL_STOP in debug mode
-         mDaemon_stop();
-         return TRUE;
-
-      default:
-         return FALSE;
-      }
-   }
-
-
-
-   /**
-    *
-    * Module-private function.
-    *
-   **/
-   VOID WINAPI service_ctrl(DWORD dwCtrlCode)
-   {
-       // Handle the requested control code.
-       //
-       switch(dwCtrlCode)
-       {
-           // Stop the service.
-           //
-           // SERVICE_STOP_PENDING should be reported before
-           // setting the Stop Event - hServerStopEvent - in
-           // ServiceStop().  This avoids a race condition
-           // which may result in a 1053 - The Service did not respond...
-           // error.
-           case SERVICE_CONTROL_STOP:
-               indToSCM(SERVICE_STOP_PENDING, NO_ERROR, 20000);
-               mDaemon_stop();
-               return;
-
-           // Update the service status.
-           //
-           case SERVICE_CONTROL_INTERROGATE:
-               break;
-
-
-           // Computer shutdown, cleanup
-
-           case SERVICE_CONTROL_SHUTDOWN:
-               indToSCM(SERVICE_STOP_PENDING, NO_ERROR, 20000);
-               mDaemon_stop();
-               return;
-
-           // invalid control code
-           //
-           default:
-               break;
-
-       }
-
-       indToSCM(SState.dwCurrentState, NO_ERROR, 0);
-   }
-
-
-
-   /**
-    *
-    * Module-private function.
-    *
-   **/
-   char const * lastError()
-   {
-      LPTSTR lpszTemp = 0;
-      DWORD dwRet =
-         FormatMessage
-         (
-            FORMAT_MESSAGE_ALLOCATE_BUFFER |
-            FORMAT_MESSAGE_FROM_SYSTEM |
-            FORMAT_MESSAGE_ARGUMENT_ARRAY,
-            NULL,
-            GetLastError(),
-            LANG_NEUTRAL,
-            (LPTSTR)&lpszTemp,
-            0,
-            NULL
-         );
-      if( lpszTemp )
-      {
-         static string Return;
-         // supplied buffer is not long enough
-         if( !dwRet )
-            return "";
-         else
-         {
-            Return = " - ";
-            Return += lpszTemp;
-         }
-         LocalFree((HLOCAL) lpszTemp );
-         return Return.c_str();
-      }
-      else
-         return "";
-   }
-
-
-
-   /**
-    *
-    * Module-private function.
-    *
-   **/
-   int install(const char* dependency, bool bAutoStart)
-   {
-      TCHAR szPath[512];
-      string dependencies;
-      bool bUseDep;
-      if (dependency)
-      {
-        dependencies= dependency;
-        dependencies+= '\0';
-        dependencies+= '\0';
-        bUseDep= true;
-      }
-      else
-        bUseDep= false;
-      if( GetModuleFileName( NULL, szPath, 512 ) == 0 )
-      {
-         cout << "Unable to install "
-              << mDaemon_getDisplayname()
-              << lastError()
-              << endl;
-         return 1;
-      }
-
-      SC_HANDLE SCManagerHdl =
-         OpenSCManager
-         (
-            NULL,
-            NULL,
-            SC_MANAGER_ALL_ACCESS
-         );
-      if( SCManagerHdl )
-      {
-         std::cout << (bUseDep?dependencies.c_str():mDaemon_dependencies()) << std::endl;
-         SC_HANDLE ServiceHdl =
-            CreateService
-            (
-               SCManagerHdl,               // SCManager database
-               mDaemon_name(),             // name of service
-               mDaemon_getDisplayname(),   // name to display
-               SERVICE_ALL_ACCESS,         // desired access
-               SERVICE_WIN32_OWN_PROCESS,  // service type
-               bAutoStart?SERVICE_AUTO_START:SERVICE_DEMAND_START, // start type
-               SERVICE_ERROR_NORMAL,       // error control type
-               szPath,                     // services binary
-               NULL,                       // no load ordering group
-               NULL,                       // no tag identifier
-               bUseDep?dependencies.data():mDaemon_dependencies(),     // use command line dependencies or default dependencies
-               NULL,                       // LocalSystem account
-               NULL                        // no password
-            );
-         if( ServiceHdl )
-         {
-            cout << mDaemon_getDisplayname() << " installed."
-                 << endl;
-            CloseServiceHandle( ServiceHdl );
-            return 0;
-         }
-         else
-         {
-            cout << "CreateService" << lastError() << endl;
-         }
-         CloseServiceHandle( SCManagerHdl );
-      }
-      else
-         cout << "OpenSCManager" << lastError() << endl;
-      return 1;
-   }
-
-
-
-   /**
-    *
-    * Module-private function.
-    *
-   **/
-   int deinstall()
-   {
-      SC_HANDLE SCManagerHdl =
-         OpenSCManager
-         (
-            NULL,
-            NULL,
-            SC_MANAGER_ALL_ACCESS
-         );
-      if( SCManagerHdl )
-      {
-         SC_HANDLE ServiceHdl =
-            OpenService
-            (
-               SCManagerHdl,
-               mDaemon_name(),
-               SERVICE_ALL_ACCESS
-            );
-         if( ServiceHdl )
-         {
-            // try to stop the service
-            if
-            (
-               ControlService
-               (
-                  ServiceHdl,
-                  SERVICE_CONTROL_STOP,
-                  &SState
-               )
-            )
-            {
-               cout << "Stopping " << mDaemon_getDisplayname() << endl;
-               Sleep( 1000 );
-               bool More = true;
-               while( More && QueryServiceStatus( ServiceHdl, &SState ) )
-               {
-                  if( SState.dwCurrentState == SERVICE_STOP_PENDING )
-                  {
-                     cout << "." << flush;
-                     Sleep( 1000 );
-                  }
-                  else
-                     More = false;
-               }
-               if( SState.dwCurrentState == SERVICE_STOPPED )
-                  cout << mDaemon_getDisplayname() << " stopped." << endl;
-               else
-                  cout << mDaemon_getDisplayname()
-                       << " stop failed."
-                       << endl;
-            }
-            // now remove the service
-            if( DeleteService( ServiceHdl ) )
-               cout << mDaemon_getDisplayname() << " removed." << endl;
-            else
-               cout << "DeleteService" << lastError() << endl;
-            CloseServiceHandle( ServiceHdl );
-         }
-         else
-            cout << "OpenService" << lastError() << endl;
-         CloseServiceHandle( SCManagerHdl );
-      }
-      else
-         cout << "OpenSCManager" << lastError() << endl;
-      return 0;
-   }
-
-
-   /**
-    *
-    * Module-private function.
-    *
-   **/
-   void WINAPI service_main(DWORD dwArgc, LPTSTR *lpszArgv)
-   {
-
-      //
-      // Register the service control handler
-      //
-      SStateHdl =
-         RegisterServiceCtrlHandler
-         (
-            mDaemon_name(),
-            service_ctrl
-         );
-      if( !SStateHdl )
-         return;
-
-      //
-      // SERVICE_STATUS members that dont change in example
-      //
-      SState.dwServiceType = SERVICE_WIN32_OWN_PROCESS;
-      SState.dwServiceSpecificExitCode = 0;
-
-      //
-      // Report pending status to the service control manager.
-      //
-      if
-      (
-         indToSCM
-         (
-            SERVICE_START_PENDING, // service state
-            NO_ERROR,              // exit code
-            3000                   // wait hint
-         ) == 0
-      )
-      {
-         mDaemon_main( dwArgc, lpszArgv );
-      }
-
-      //
-      // Report stopped status to the service control manager.
-      //
-      indToSCM( SERVICE_STOPPED, NO_ERROR, 0 );
-   }
-
-
-
-   /**
-    ***********************************************************************
-    *
-    * End of module-private part
-    *
-    ***********************************************************************
-   **/
-}
-
-
-
-/**
- *
- * (see mDaemon.h)
- *
-**/
-int mDaemon_indInitializing( unsigned long mSec )
-{
-   return indToSCM( SERVICE_START_PENDING, NO_ERROR, mSec );
-}
-
-
-
-/**
- *
- * (see mDaemon.h)
- *
-**/
-int mDaemon_indReady( unsigned long mSec )
-{
-   return( indToSCM( SERVICE_RUNNING, NO_ERROR, mSec ) );
-}
-
-
-
-/**
- *
- * (see mDaemon.h)
- *
-**/
-void mDaemon_log( char const * Data )
-{
-   if( !Console )
-   {
-      //
-      // Write to event log
-      //
-      HANDLE hEventSource = RegisterEventSource( NULL, mDaemon_name() );
-      if( hEventSource )
-      {
-         LPCTSTR Strings[1];
-         Strings[0] = Data;
-         ReportEvent
-         (
-            hEventSource,         // handle of event source
-            EVENTLOG_ERROR_TYPE,  // event type
-            0,                    // event category
-            0,                    // event ID
-            NULL,                 // current users SID
-            1,                    // strings in lpszStrings
-            0,                    // no bytes of raw data
-            Strings,              // array of error strings
-            0                     // no raw data
-         );
-         DeregisterEventSource(hEventSource);
-      }
-   }
-}
-
-/**
- *
- * (see mDaemon.h)
- *
-**/
-int mDaemon_isService()
-{
-  return !Console;
-}
-
-
-/**
- **************************************************************************
- *
- * Standard main.
- *
- * @param argc Argument count
- *
- * @param argv Argument vector
- *
- * @return 0 if OK
- *
- **************************************************************************
-**/
-int main( int argc, char ** argv )
-{
-   argScan Arg( argc, argv );
-   if( Arg.help() )
-   {
-      cout << "Usage: "
-           << argv[0]
-           << " [ -install -autostart -dep:dependency| -deinstall | -console ";
-      if( mDaemon_help() )
-      {
-         cout << "<consoleparameter> ]\n"
-              << "       <consoleparameter> = "
-              << mDaemon_help() << endl;
-      }
-      else
-      {
-         cout << "]" << endl;
-      }
-      return 0;
-   }
-
-   if( Arg.option( "INSTALL" ) )
-      return install(Arg.option("DEP"), Arg.option("AUTOSTART") != 0);
-
-   if( Arg.option( "DEINSTALL" ) )
-      return deinstall();
-
-   if( Arg.option( "CONSOLE" ) )
-   {
-      Console = true;
-      SetConsoleCtrlHandler( console_ctrl, true );
-      return mDaemon_main( argc, argv );
-   }
-
-   SERVICE_TABLE_ENTRY STE[2];
-   STE[0].lpServiceName = const_cast<char *>( mDaemon_name() );
-   STE[0].lpServiceProc = service_main;
-   STE[1].lpServiceName = 0;
-   STE[1].lpServiceProc = 0;
-   if( !StartServiceCtrlDispatcher( STE ) )
-      mDaemon_log( "StartServiceCtrlDispatcher failed." );
-   return 0;
-}
-
-
-
-/**
- **************************************************************************
- *
- * End of file
- *
- **************************************************************************
-**/
-
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/src/matString.CPP b/SelfServiceCommon/Services/cpp/TrcServ/static/src/matString.CPP
deleted file mode 100644
index 5201b559..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/src/matString.CPP
+++ /dev/null
@@ -1,154 +0,0 @@
-//-----------------------------------------------------------------------------
-//
-//             MATERNA String class
-//
-//    File:    matString.cpp
-//
-//    Author:  Dr. Materna GmbH (MM)
-//    Date:    12.07.99
-//    Version: 1.0.0
-//
-//    Purpose: supports a "well-known" interface on a string-class base
-//
-//    History: Ver 1.0.0  12.07.99 MM   Initial coding
-//                 1.0.1  13.10.99 TS   _matString replaces string in the interface
-//
-//-----------------------------------------------------------------------------
-
-#pragma warning(disable:4786)
-
-#include <string>
-#include "matString.h"
-
-using namespace std ;
-
-class _matString
-{
-  public:
-    string buf;
-
-};
-
-matString::matString()
-{
-  basicBuf = new _matString;
-}
-matString::~matString()
-{
-  if (basicBuf != 0)
-    delete basicBuf;
-}
-matString::matString( const char *pszSrc )
-{
-  basicBuf = new _matString;
-  if(pszSrc)
-    basicBuf->buf = pszSrc;
-}
-matString::matString( const char *pSrc, long lSrc )
-{
-  basicBuf = new _matString;
-  if(pSrc)
-  {
-    string tmp( pSrc, lSrc);
-    basicBuf->buf = tmp;
-  }
-}
-
-matString::matString( long lSrc )
-{
-  basicBuf = new _matString;
-  basicBuf->buf.resize( lSrc);
-}
-
-matString::matString( const matString & Src )
-{
-  basicBuf = new _matString;
-  basicBuf->buf = Src.getData();
-}
-
-matString &      matString::operator=(const matString & Src )
-{
-  basicBuf->buf = Src.getData();
-  return *this;
-}
-
-long           matString::getDataLen() const
-{
-  return basicBuf->buf.length();
-}
-
-const char *   matString::getData() const
-{
-  return basicBuf->buf.data();
-}
-
-const char *   matString::readData( long len ) const
-{
-  return basicBuf->buf.substr( 0, len).data();
-}
-
-const char *   matString::setData ( const char *pSrc )
-{
-  if(pSrc)
-    basicBuf->buf = pSrc;
-  return basicBuf->buf.data();
-}
-
-const char *   matString::setData ( const char *pSrc, long lSize)
-{
-  if(pSrc)
-    basicBuf->buf.replace( 0, lSize, pSrc);
-  return basicBuf->buf.data();
-}
-
-matString &      matString::catData ( const char *pSrc, long lSize)
-{
-  if(pSrc)
-  {
-    string tmp( pSrc, lSize);
-    basicBuf->buf += tmp;
-  }
-  return *this;
-}
-
-matString &      matString::catData ( const char *pSrc )
-{
-  if(pSrc)
-    basicBuf->buf += pSrc;
-  return *this;
-}
-
-matString &      matString::catData ( const matString& Src )
-{
-  basicBuf->buf += Src.getData();
-  return *this;
-}
-
-matString &      matString::catData ( char Src )
-{
-  basicBuf->buf += Src;
-  return *this;
-}
-
-matString &      matString::catData ( long Src )
-{
-  basicBuf->buf += (char*)&Src;
-  return *this;
-}
-
-matString &      matString::catData ( unsigned long Src )
-{
-  basicBuf->buf += (char*)&Src;
-  return *this;
-}
-
-const long     matString::copy    ( matString& dst ) const
-{
-   dst.setData( basicBuf->buf.data());
-   return basicBuf->buf.length();
-}
-
-void           matString::clrData()
-{
-  basicBuf->buf.erase();
-}
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/src/matString.H b/SelfServiceCommon/Services/cpp/TrcServ/static/src/matString.H
deleted file mode 100644
index 6e03edf7..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/src/matString.H
+++ /dev/null
@@ -1,58 +0,0 @@
-//
-// matString.H
-//
-// buffer object definition
-//
-// 09.07.99 MM initial coding
-// 16.09.99 ts adapted to IBMCPP
-// 11.10.99 ts do not include string here
-
-#ifndef __MATSTRING_H__
-#define __MATSTRING_H__
-
-#pragma warning(disable:4786)
-
-
-
-  class _matString;
-
-
-// class: matString
-//
-// description:
-// Objects of this class are used to store binary data in
-// a comfortable way.
-// Note:
-// Zero terminated strings are handled as well
-//
-class matString
-{
-private:
-        _matString* basicBuf;
-public:
-
-        matString();
-        ~matString();
-
-        matString( const char *pszSrc );
-        matString( const char *pSrc, long lSrc );
-        matString( long lSrc );
-        matString( const matString & Src );
-
-        matString &      operator=(const matString & Src );
-        long           getDataLen() const;
-        const char *   getData() const;
-        const char *   readData( long len ) const;
-        const char *   setData ( const char *pSrc );
-        const char *   setData ( const char *pSrc, long lSize);
-        matString &      catData ( const char *pSrc, long lSize);
-        matString &      catData ( const char *pSrc );
-        matString &      catData ( const matString& Src );
-        matString &      catData ( char Src );
-        matString &      catData ( long Src );
-        matString &      catData ( unsigned long Src );
-        const long     copy    ( matString& dst ) const;
-        void           clrData();
-};
-
-#endif
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/src/matTime.h b/SelfServiceCommon/Services/cpp/TrcServ/static/src/matTime.h
deleted file mode 100644
index c58bd2c8..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/src/matTime.h
+++ /dev/null
@@ -1,48 +0,0 @@
-#ifndef matTime_H
-#define matTime_H
-// -------------------------------------------------------------------
-//
-// matTime.h
-//
-// contains function prototypes from the matBaseNT library,
-// which provides an interface to os-independent os functions
-//
-// Dr. Materna GmbH - JK/RB/MM - 1999
-//
-// ts 15.08.2001 use only date function from matOS.h all other are defined in sapios
-//
-// -------------------------------------------------------------------
-
-
-
-
-//
-// TIME structure and functions
-//
-typedef struct _DATETIME
-{
-   unsigned char   hours;
-   unsigned char   minutes;
-   unsigned char   seconds;
-   unsigned char   hundredths;
-   unsigned char   day;
-   unsigned char   month;
-   unsigned short  year;
-            short  timezone;
-   unsigned char   weekday;
-} DATETIME;
-typedef DATETIME *PDATETIME;
-//
-//
-long osGetDateTime( PDATETIME   pDateTime);
-//
-//
-long osSetDateTime( PDATETIME   pDateTime);
-//
-//
-//
-//
-
-// -------------------------------------------------------------------
-#endif
-
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/src/tracetest.cpp b/SelfServiceCommon/Services/cpp/TrcServ/static/src/tracetest.cpp
deleted file mode 100644
index 19f3f19b..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/src/tracetest.cpp
+++ /dev/null
@@ -1,48 +0,0 @@
-#include "TraceClt.h"
-#include "string.h"
-
-#ifndef __IBMCPP__
-#include <iostream>
-#else
-#include <iostream.h>
-#define std
-#endif
-
-
-void main(int argc, char** argv)
-{
-  if (argc == 1)
-    openTrace("Test");
-  if (argc == 2)
-    openTrace(argv[1]);
-  else if (argc > 2)
-    return;
-  char szBuffer[256];
-  do
-  {
-    std::cout << "Type Tracetext: ";
-    std::cin >> szBuffer;
-    int length= strlen(szBuffer);
-    for(int i= 0; i < 100; i++)
-    {
-      wrtTraceForTopic("Console", __FILE__, __LINE__, __FUNCTION__, szBuffer);
-    }
-    cryptTraceForTopic("Console", __FILE__, __LINE__, __FUNCTION__, length, szBuffer);
-    cryptTrace(1, __FILE__, __LINE__, __FUNCTION__, length, szBuffer);
-    dumpTraceForTopic("Console", __FILE__, __LINE__, __FUNCTION__, length, szBuffer);
-    traceTrack(1, __FILE__, __LINE__, __FUNCTION__, 1, szBuffer);
-    traceTrack(1, __FILE__, __LINE__, __FUNCTION__, 2, szBuffer);
-    traceTrack(1, __FILE__, __LINE__, __FUNCTION__, 3, szBuffer);
-    traceTrack(1, __FILE__, __LINE__, __FUNCTION__, 4, szBuffer);
-    traceTrackForTopic("Console", __FILE__, __LINE__, __FUNCTION__, 1, szBuffer);
-    traceTrackForTopic("Console", __FILE__, __LINE__, __FUNCTION__, 2, szBuffer);
-    traceTrackForTopic("Console", __FILE__, __LINE__, __FUNCTION__, 3, szBuffer);
-    traceTrackForTopic("Console", __FILE__, __LINE__, __FUNCTION__, 4, szBuffer);
-    if(strcmpi(szBuffer, "newline") == 0)
-      startNewTraceFileForTopic("Console");
-    if(_strnicmp(szBuffer, "move", 4) == 0)
-      moveTrace(szBuffer+4);
-  }
-  while (strcmpi(szBuffer, "exit") != 0);
-  closeTrace();
-};
\ No newline at end of file
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/src/trcrmt.cpp b/SelfServiceCommon/Services/cpp/TrcServ/static/src/trcrmt.cpp
deleted file mode 100644
index d62b458f..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/src/trcrmt.cpp
+++ /dev/null
@@ -1,255 +0,0 @@
-/****************************************************************************
-
- FILE:      TrcRmt.cpp
-
- PURPOSE:   Client listening to TrcServ
-
- DATE:      05.02.2001
-
- AUTHOR:    MATERNA Information & Communications  (TS)
-
-
-****************************************************************************/
-
-
-/***************************************************************************
-
-  Includes
-
-***************************************************************************/
-
-#include <string.h>
-#include <stdarg.h>
-#include <stdio.h>
-#include <windows.h>
-
-#ifndef __IBMCPP__
-#include <iostream>
-#else
-#include <iostream.h>
-#define std
-#endif
-
-
-#include "CXAPI.H"
-#include "sapiOS.H"
-#include "EventSem.hpp"
-#include "Mutex.hpp"
-#include "Asso.h"
-
-#include "TrcRmt.h"
-#include "TrcPrtcl.H"
-
-/***************************************************************************
-
-  Function / Classes ProtoTypes
-
-***************************************************************************/
-
-class _Listener: public osThrd
-{
-    void function();
-    Listener* pOwner;
-    mutexSemaphore writeMutex;
-    aObject OwnName, HostName;
-    long lOwnHandle, lServerHandle;
-    long lInstance;
-    int iOwnClient;
-    int iConnected, iConnectError;
-    int iEnd;
-    int iThreadRunning;
-
-    void deleteHandles();
-    void createHandles();
-    void connect();
-
-  public:
-    eventSemaphore Stopped;
-
-    _Listener(const char* pszRemoteHost, Listener* pOwner);
-    ~_Listener();
-    void doStart();
-    void doStop();
-};
-
-/*
-class Listener
-{
-    _Listener* pHandle;
-  public:
-    Listener(const char* pszRemoteHost);
-    ~Listener();
-    virtual void newEntry(aMap Data);
-    virtual void connected();
-    virtual void disconnected();
-};
-*/
-
-/***************************************************************************
-
-  Function Definition
-
-***************************************************************************/
-
-
-Listener::Listener(const char* pszRemoteHost)
-{
-  pHandle= new _Listener(pszRemoteHost, this);
-  pHandle->doStart();
-}
-
-Listener::~Listener()
-{
-  pHandle->stop();
-  pHandle->Stopped.wait(2000);
-}
-
-void Listener::newEntry(aMap Data)
-{
-}
-
-void Listener::connected()
-{
-}
-
-void Listener::disconnected()
-{
-}
-
-_Listener::_Listener(const char* pszRemoteHost, Listener* pOwner)
-{
-  this->pOwner= pOwner;
-  OwnName= TRACELISTENERNAME;
-  HostName= pszRemoteHost;
-  iEnd = 0;
-  iThreadRunning = 0;
-  Stopped.post();
-}
-
-_Listener::~_Listener()
-{
-  stop();
-}
-
-void _Listener::function()
-{
-  long rc;
-  long lPartnerHandle;
-  long lType;
-  aMap Data;
-  Stopped.reset();
-  while(!iEnd && !iConnectError)
-  {
-    if (iConnected && iOwnClient)
-    {
-      rc= ReadTrace(lOwnHandle, &lPartnerHandle, &lType, Data);
-      if (rc == CXRC_OK)
-      {
-        pOwner->newEntry(Data);
-      }
-      else
-      {
-        pOwner->disconnected();
-        deleteHandles();
-        if (!iEnd)
-          osSleep(500);
-        iConnected= 0;
-      }
-    }
-    else
-    {
-      if (!iOwnClient)
-        createHandles();
-      connect();
-      if (iConnected)
-        pOwner->connected();
-      else if (!iEnd)
-        osSleep(500);
-
-    }
-  }
-  iThreadRunning = 0;
-  Stopped.post();
-}
-
-void _Listener::doStart()
-{
-  start();
-}
-
-void _Listener::doStop()
-{
-  iEnd= 1;
-  if (iOwnClient)
-    writeCmdStop01(lOwnHandle, lServerHandle);
-  deleteHandles();
-}
-
-void _Listener::createHandles()
-{
-  aObject InstanceName;
-  long rc, lInst;
-
-  if (!iConnectError)
-  {
-    deleteHandles();
-    lInst=1;
-    rc = CXRC_OK;
-    while (lInst && !iOwnClient && ((rc == CXRC_OK)||(rc == CXRC_NAME_ALREADY_EXISTS )))
-    {
-      ClientName(InstanceName, lInst, OwnName);
-      rc = cxCreateHandle(&lOwnHandle, InstanceName.strObject());
-      if (rc == CXRC_OK)
-      {
-        lInstance = lInst;
-        iOwnClient = 1;
-      }
-      lInst++;
-    }
-    if (rc == CXRC_ERROR)
-      iConnectError= 1;
-  }
-}
-
-void _Listener::deleteHandles()
-{
-  long rc;
-  if (iConnected)
-  {
-    rc = cxDeleteHandle(lServerHandle);
-    iConnected = 0;
-  }
-  if (iOwnClient)
-  {
-    rc = cxDeleteHandle(lOwnHandle);
-    iOwnClient = 0;
-  }
-}
-
-void _Listener::connect()
-{
-  long rc;
-  if (iOwnClient && !iConnected)
-  {
-    rc = cxCreateProxyHandle(&lServerHandle, TRACESERVICEREMOTENAME, TRACESERVICENAME, HostName.strObject());
-    if (rc == CXRC_OK || rc == CXRC_NAME_ALREADY_EXISTS)
-    {
-      rc = writeCmdInitListen01(lOwnHandle, lServerHandle);
-      switch(rc)
-      {
-        case CXRC_OK:
-          iConnected = 1;
-          break;
-        case CXRC_PARTNER_LOST:
-          iConnected = 0;
-          break;
-      }
-    }
-  }
-
-}
-
-
-/*************************************************************************************************
-      End Of File  TrcRmt.cpp
-************************************************************************************************/
diff --git a/SelfServiceCommon/Services/cpp/TrcServ/static/src/trcstreamtest.cpp b/SelfServiceCommon/Services/cpp/TrcServ/static/src/trcstreamtest.cpp
deleted file mode 100644
index 042d2866..00000000
--- a/SelfServiceCommon/Services/cpp/TrcServ/static/src/trcstreamtest.cpp
+++ /dev/null
@@ -1,43 +0,0 @@
-#include "trchdlclt.h"
-#include <windows.h>
-#include <iostream>
-#include <string>
-#include <sstream>
-
-int main(int argc, char** argv)
-{
-  if(argc == 3)
-  {
-    char Buffer[4096];
-    for (int i= 0; i < 4095; i++)
-      Buffer[i]= '0' + (i % 10);
-    Buffer[40]= 0;
-    std::string name= argv[1];
-    int sleep= atoi(argv[2]);
-    int j= 0;
-    while(1)
-    {
-      std::ostringstream out;
-      out << name << ++j;
-      std::string lname= out.str();
-      std::cout << "openTrace..." << std::endl;
-      int hdl= openTrace(lname.c_str());
-      std::cout << "openTrace" << std::endl;
-      for(int k= 0; k < 10; k++)
-      {
-        std::cout << "writeTrace..." << std::endl;
-        writeTraceTextForTopic(hdl, "Topic", TOPIC_HERE, Buffer);
-        std::cout << "writeTrace." << std::endl;
-        Sleep(sleep);
-      }
-      std::cout << "closeTrace..." << std::endl;
-      closeTrace(hdl);
-      std::cout << "closeTrace." << std::endl;
-    }
-  }
-  else
-  {
-    std::cout << "Usage: Test ClientName WaitTimeout" << std::endl;
-  }
-  return 0;
-};
-- 
2.41.0.windows.1

